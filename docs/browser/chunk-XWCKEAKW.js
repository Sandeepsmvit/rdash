import{a as H,b as y,c as Y,d as J,e as Z,f as Q,h as X,k as tt,l as et,m as it,n as nt,o as ot,p as at,q as st}from"./chunk-GW62PQDN.js";import{a as dt}from"./chunk-VZQLDR2C.js";import{a as lt,b as rt}from"./chunk-WWOXZNFR.js";import{a as _t}from"./chunk-L7GBDS54.js";import{A as f,G as h,H as s,I as T,Ka as W,M as c,Ma as q,O as r,P as j,Q as g,R as w,S as o,T as i,U as k,V as x,W as m,X as _,a as F,aa as a,b as I,ba as C,ca as p,da as S,ea as N,fa as $,g as O,ga as D,ja as E,ka as z,ma as U,o as b,s as P,ua as L,v as V,va as R,w as A,wa as B,xa as G,ya as K,z as u}from"./chunk-5OIP4QEW.js";function mt(e,n){e&1&&(o(0,"p"),a(1,"Manage your assigned tasks"),i())}function ut(e,n){e&1&&(o(0,"p"),a(1,"Check all project assigned to the users"),i())}function ft(e,n){if(e&1){let t=x();o(0,"div",12)(1,"button",13),m("click",function(){u(t);let l=_();return f(l.openCreateTaskModal())}),o(2,"i",14),a(3,"+"),i(),a(4," Create New Task "),i()()}}function xt(e,n){e&1&&(o(0,"div",15),a(1," Loading tasks... "),i())}function gt(e,n){e&1&&(o(0,"p"),a(1,"You don't have any tasks assigned yet."),i())}function vt(e,n){e&1&&(o(0,"p"),a(1,"No tasks match your current filters."),i())}function Ct(e,n){if(e&1&&(o(0,"div",16)(1,"div",17),a(2,"\u{1F4CB}"),i(),o(3,"h3"),a(4,"No tasks found"),i(),c(5,gt,2,0,"p",2)(6,vt,2,0,"p",2),i()),e&2){let t=_();s(5),r("ngIf",!t.isAdmin()),s(),r("ngIf",t.isAdmin())}}function bt(e,n){if(e&1){let t=x();o(0,"button",34),m("click",function(){u(t);let l=_().$implicit,v=_(2);return f(v.editTask(l))}),a(1," \u270F\uFE0F "),i()}}function kt(e,n){if(e&1){let t=x();o(0,"button",35),m("click",function(){u(t);let l=_().$implicit,v=_(2);return f(v.deleteTask(l))}),a(1," \u{1F5D1}\uFE0F "),i()}}function ht(e,n){if(e&1&&(o(0,"div",36),a(1),E(2,"slice"),i()),e&2){let t=_().$implicit;s(),S(" ",U(2,2,t.description,0,100),"",t.description.length>100?"...":""," ")}}function Tt(e,n){if(e&1&&(o(0,"span"),a(1),i()),e&2){let t=_().$implicit;s(),p(" Assigned to: ",t.assigned_to_email," ")}}function St(e,n){e&1&&(o(0,"span",37),a(1," Unassigned "),i())}function yt(e,n){if(e&1){let t=x();o(0,"div",20)(1,"div",21)(2,"h3",22),a(3),i(),o(4,"div",23)(5,"button",24),m("click",function(){let l=u(t).$implicit,v=_(2);return f(v.viewTask(l))}),a(6," \u{1F441}\uFE0F "),i(),c(7,bt,2,0,"button",25)(8,kt,2,0,"button",26),i()(),o(9,"div",27)(10,"span",28),a(11),i()(),c(12,ht,3,6,"div",29),o(13,"div",30)(14,"div",31),c(15,Tt,2,1,"span",2)(16,St,2,0,"span",32),i(),o(17,"div",33),a(18),i()()()}if(e&2){let t=n.$implicit,d=_(2);g("overdue",d.isTaskOverdue(t))("completed",t.status==="Completed"),s(3),C(t.title),s(4),r("ngIf",d.canEditTask(t)),s(),r("ngIf",d.isAdmin()),s(3),S(" ",t.store_name," - ",t.project_code," "),s(),r("ngIf",t.description),s(3),r("ngIf",t.assigned_to_email),s(),r("ngIf",!t.assigned_to_email),s(2),p(" Created: ",d.formatDate(t.created_at)," ")}}function Mt(e,n){if(e&1&&(o(0,"div",18),c(1,yt,19,13,"div",19),i()),e&2){let t=_();s(),r("ngForOf",t.filteredTasks)}}function wt(e,n){if(e&1&&(o(0,"div",45)(1,"label"),a(2,"Assigned To:"),i(),o(3,"span"),a(4),i()()),e&2){let t=_(2);s(4),C(t.selectedTask.assigned_to_email)}}function Et(e,n){if(e&1&&(o(0,"div",45)(1,"label"),a(2,"Due Date:"),i(),o(3,"span"),a(4),i()()),e&2){let t=_(2);s(4),C(t.formatDate(t.selectedTask.due_date))}}function Ft(e,n){if(e&1&&(o(0,"div",45)(1,"label"),a(2,"Store Type:"),i(),o(3,"span"),a(4),i()()),e&2){let t=_(2);s(4),C(t.selectedTask.store_type)}}function It(e,n){if(e&1&&(o(0,"div",45)(1,"label"),a(2,"Property Type:"),i(),o(3,"span"),a(4),i()()),e&2){let t=_(2);s(4),C(t.selectedTask.property_type)}}function Ot(e,n){if(e&1&&(o(0,"div",59)(1,"label"),a(2,"Description:"),i(),o(3,"div",60),a(4),i()()),e&2){let t=_(2);s(4),C(t.selectedTask.description)}}function Pt(e,n){e&1&&(o(0,"div",16)(1,"p"),a(2,"No comments yet. Be the first to add a comment!"),i()())}function Vt(e,n){if(e&1){let t=x();o(0,"img",85),m("click",function(){u(t);let l=_().$implicit,v=_(6);return f(v.openMediaViewer(l))}),i()}if(e&2){let t=_().$implicit,d=_(6);r("src",d.getMediaUrl(t.file_path),h)("alt",t.file_name)}}function At(e,n){if(e&1){let t=x();o(0,"div",86),m("click",function(){u(t);let l=_().$implicit,v=_(6);return f(v.openMediaViewer(l))}),o(1,"video",87),k(2,"source",88),a(3," Your browser does not support the video tag. "),i(),o(4,"span",89),a(5,"\u25B6\uFE0F"),i()()}if(e&2){let t=_().$implicit,d=_(6);s(),r("title",t.file_name+" ("+d.formatFileSize(t.file_size)+")"),s(),r("src",d.getMediaUrl(t.file_path),h)("type","video/"+t.file_type)}}function jt(e,n){if(e&1&&(o(0,"div",82),c(1,Vt,1,2,"img",83)(2,At,6,3,"div",84),i()),e&2){let t=n.$implicit,d=_(6);s(),r("ngIf",d.isImageFile(t.file_type)),s(),r("ngIf",d.isVideoFile(t.file_type))}}function Nt(e,n){if(e&1&&(o(0,"div",80),c(1,jt,3,2,"div",81),i()),e&2){let t=_().$implicit;s(),r("ngForOf",t.media_files)}}function $t(e,n){if(e&1&&(o(0,"div",74)(1,"div",75)(2,"span",76),a(3),i(),o(4,"span",77),a(5),i()(),o(6,"div",78),a(7),i(),c(8,Nt,2,1,"div",79),i()),e&2){let t=n.$implicit,d=_(4);s(3),C(t.user_email),s(2),C(d.formatDate(t.created_at)),s(2),C(t.comment_text),s(),r("ngIf",t.media_files&&t.media_files.length>0)}}function Dt(e,n){if(e&1&&(o(0,"div",72),c(1,Pt,3,0,"div",9)(2,$t,9,4,"div",73),i()),e&2){let t=_(3);s(),r("ngIf",t.taskComments.length===0),s(),r("ngForOf",t.taskComments)}}function zt(e,n){e&1&&(o(0,"div",15),a(1," Loading comments... "),i())}function Ut(e,n){if(e&1){let t=x();o(0,"div"),c(1,Dt,3,2,"div",61)(2,zt,2,0,"div",8),o(3,"form",62),m("ngSubmit",function(){u(t);let l=_(2);return f(l.addComment())}),o(4,"div",63)(5,"label",64),a(6,"Add Comment"),i(),o(7,"textarea",65),a(8,"                "),i()(),o(9,"div",66)(10,"label",67),a(11,"Upload Photos/Videos (Max 100MB each)"),i(),o(12,"input",68),m("change",function(l){u(t);let v=_(2);return f(v.onFileSelected(l))}),i(),o(13,"div",69),a(14," Supported formats: JPG, PNG, MP4, MOV, AVI (Max 100MB per file) "),i()(),o(15,"div",70)(16,"button",71),a(17),i()()()()}if(e&2){let t=_(2);s(),r("ngIf",!t.loadingComments),s(),r("ngIf",t.loadingComments),s(),r("formGroup",t.commentForm),s(13),r("disabled",t.commentForm.invalid||t.uploadingMedia),s(),p(" ",t.uploadingMedia?"Uploading...":"Add Comment"," ")}}function Lt(e,n){if(e&1){let t=x();o(0,"button",13),m("click",function(){u(t);let l=_(2);return f(l.editTaskFromView())}),a(1," Submit Task "),i()}}function Rt(e,n){if(e&1){let t=x();o(0,"div",38),m("click",function(){u(t);let l=_();return f(l.closeViewModal())}),o(1,"div",39),m("click",function(l){return u(t),f(l.stopPropagation())}),o(2,"div",40)(3,"h2"),a(4),i(),o(5,"button",41),m("click",function(){u(t);let l=_();return f(l.closeViewModal())}),a(6,"\xD7"),i()(),o(7,"div",42)(8,"div",43)(9,"div",44)(10,"div",45)(11,"label"),a(12,"Project:"),i(),o(13,"span"),a(14),i()(),o(15,"div",45)(16,"label"),a(17,"Status:"),i(),o(18,"span",46),a(19),i()(),o(20,"div",45)(21,"label"),a(22,"Priority:"),i(),o(23,"span",47),a(24),i()(),o(25,"div",45)(26,"label"),a(27,"Progress:"),i(),o(28,"span"),a(29),i()(),c(30,wt,5,1,"div",48)(31,Et,5,1,"div",48),o(32,"div",45)(33,"label"),a(34,"Created By:"),i(),o(35,"span"),a(36),i()(),o(37,"div",45)(38,"label"),a(39,"Created At:"),i(),o(40,"span"),a(41),i()(),c(42,Ft,5,1,"div",48)(43,It,5,1,"div",48),i(),c(44,Ot,5,1,"div",49),o(45,"div",50)(46,"label"),a(47,"Progress:"),i(),o(48,"div",51),k(49,"div",52),i()(),o(50,"div",53)(51,"div",54)(52,"h3"),a(53,"Comments & Media"),i(),o(54,"button",55),m("click",function(){u(t);let l=_();return f(l.toggleCommentsSection())}),a(55),i()(),c(56,Ut,18,5,"div",2),i()()(),o(57,"div",56),c(58,Lt,2,0,"button",57),o(59,"button",58),m("click",function(){u(t);let l=_();return f(l.closeViewModal())}),a(60," Close "),i()()()()}if(e&2){let t=_();s(4),C(t.selectedTask.title),s(10),S("",t.selectedTask.store_name," - ",t.selectedTask.project_code,""),s(4),w("status-"+t.selectedTask.status.toLowerCase().replace(" ","-")),s(),p(" ",t.selectedTask.status," "),s(4),w("priority-"+t.selectedTask.priority.toLowerCase()),s(),p(" ",t.selectedTask.priority," "),s(5),p("",t.selectedTask.progress_percentage,"%"),s(),r("ngIf",t.selectedTask.assigned_to_email),s(),r("ngIf",t.selectedTask.due_date),s(5),C(t.selectedTask.created_by_email),s(5),C(t.formatDate(t.selectedTask.created_at)),s(),r("ngIf",t.selectedTask.store_type),s(),r("ngIf",t.selectedTask.property_type),s(),r("ngIf",t.selectedTask.description),s(5),j("width",t.selectedTask.progress_percentage,"%"),s(6),p(" ",t.showCommentsSection?"Hide Comments":"Show Comments"," "),s(),r("ngIf",t.showCommentsSection),s(2),r("ngIf",t.canEditTask(t.selectedTask))}}function Bt(e,n){if(e&1&&k(0,"img",96),e&2){let t=_(2);r("src",t.getMediaUrl(t.selectedMedia.file_path),h)("alt",t.selectedMedia.file_name)}}function Gt(e,n){if(e&1&&(o(0,"video",97),k(1,"source",88),a(2," Your browser does not support the video tag. "),i()),e&2){let t=_(2);r("title",t.selectedMedia.file_name),s(),r("src",t.getMediaUrl(t.selectedMedia.file_path),h)("type","video/"+t.selectedMedia.file_type)}}function Kt(e,n){if(e&1){let t=x();o(0,"div",38),m("click",function(){u(t);let l=_();return f(l.closeMediaViewer())}),o(1,"div",90),m("click",function(l){return u(t),f(l.stopPropagation())}),o(2,"div",40)(3,"h3"),a(4),i(),o(5,"button",41),m("click",function(){u(t);let l=_();return f(l.closeMediaViewer())}),a(6,"\xD7"),i()(),o(7,"div",91)(8,"div",92),c(9,Bt,1,2,"img",93)(10,Gt,3,3,"video",94),i()(),o(11,"div",56)(12,"span",95),a(13),i(),o(14,"button",58),m("click",function(){u(t);let l=_();return f(l.closeMediaViewer())}),a(15,"Close"),i()()()()}if(e&2){let t=_();s(4),C(t.selectedMedia.file_name),s(5),r("ngIf",t.isImageFile(t.selectedMedia.file_type)),s(),r("ngIf",t.isVideoFile(t.selectedMedia.file_type)),s(3),S("",t.formatFileSize(t.selectedMedia.file_size)," (",t.selectedMedia.file_type.toUpperCase(),")")}}function Wt(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.id),s(),S(" ",t.store_name," - ",t.project_code," ")}}function qt(e,n){e&1&&(o(0,"div",198),a(1," Project is required "),i())}function Ht(e,n){e&1&&(o(0,"div",198),a(1," Title is required "),i())}function Yt(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function Jt(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function Zt(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("earth_leveling_status")," ")}}function Qt(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("earth_leveling_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,Zt,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("earth_leveling_status")),s(3),r("ngIf",t.hasFieldMedia("earth_leveling_status"))}}function Xt(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function te(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("footing_stone_status")," ")}}function ee(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("footing_stone_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,te,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("footing_stone_status")),s(3),r("ngIf",t.hasFieldMedia("footing_stone_status"))}}function ie(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function ne(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("column_erection_status")," ")}}function oe(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("column_erection_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,ne,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("column_erection_status")),s(3),r("ngIf",t.hasFieldMedia("column_erection_status"))}}function ae(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function se(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("roof_trusses_status")," ")}}function le(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("roof_trusses_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,se,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("roof_trusses_status")),s(3),r("ngIf",t.hasFieldMedia("roof_trusses_status"))}}function re(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function _e(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("roofing_sheets_status")," ")}}function de(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("roofing_sheets_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,_e,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("roofing_sheets_status")),s(3),r("ngIf",t.hasFieldMedia("roofing_sheets_status"))}}function ce(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function pe(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("roofing_sheets_status")," ")}}function me(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("roofing_sheets_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,pe,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("roofing_sheets_status")),s(3),r("ngIf",t.hasFieldMedia("roofing_sheets_status"))}}function ue(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function fe(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("wall_construction_status")," ")}}function xe(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("wall_construction_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,fe,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("wall_construction_status")),s(3),r("ngIf",t.hasFieldMedia("wall_construction_status"))}}function ge(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function ve(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("sides_cladding_status")," ")}}function Ce(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("sides_cladding_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,ve,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("sides_cladding_status")),s(3),r("ngIf",t.hasFieldMedia("sides_cladding_status"))}}function be(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function ke(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("flooring_concrete_status")," ")}}function he(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("flooring_concrete_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,ke,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("flooring_concrete_status")),s(3),r("ngIf",t.hasFieldMedia("flooring_concrete_status"))}}function Te(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function Se(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("plastering_painting_status")," ")}}function ye(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("plastering_painting_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,Se,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("plastering_painting_status")),s(3),r("ngIf",t.hasFieldMedia("plastering_painting_status"))}}function Me(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function we(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("plumbing_status")," ")}}function Ee(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("plumbing_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,we,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("plumbing_status")),s(3),r("ngIf",t.hasFieldMedia("plumbing_status"))}}function Fe(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function Ie(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("parking_availability_status")," ")}}function Oe(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("parking_availability_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,Ie,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("parking_availability_status")),s(3),r("ngIf",t.hasFieldMedia("parking_availability_status"))}}function Pe(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function Ve(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("associates_restroom_status")," ")}}function Ae(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("associates_restroom_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,Ve,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("associates_restroom_status")),s(3),r("ngIf",t.hasFieldMedia("associates_restroom_status"))}}function je(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function Ne(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("zeptons_restroom_status")," ")}}function $e(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("zeptons_restroom_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,Ne,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("zeptons_restroom_status")),s(3),r("ngIf",t.hasFieldMedia("zeptons_restroom_status"))}}function De(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function ze(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("water_availability_status")," ")}}function Ue(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("water_availability_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,ze,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("water_availability_status")),s(3),r("ngIf",t.hasFieldMedia("water_availability_status"))}}function Le(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function Re(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("parking_work_status")," ")}}function Be(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("parking_work_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,Re,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("parking_work_status")),s(3),r("ngIf",t.hasFieldMedia("parking_work_status"))}}function Ge(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function Ke(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("dg_bed_status")," ")}}function We(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("dg_bed_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,Ke,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("dg_bed_status")),s(3),r("ngIf",t.hasFieldMedia("dg_bed_status"))}}function qe(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function He(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("store_shutters_status")," ")}}function Ye(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("store_shutters_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,He,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("store_shutters_status")),s(3),r("ngIf",t.hasFieldMedia("store_shutters_status"))}}function Je(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function Ze(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("approach_road_status")," ")}}function Qe(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("approach_road_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,Ze,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("approach_road_status")),s(3),r("ngIf",t.hasFieldMedia("approach_road_status"))}}function Xe(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function ti(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("temporary_power_kva_status")," ")}}function ei(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("temporary_power_kva_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,ti,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("temporary_power_kva_status")),s(3),r("ngIf",t.hasFieldMedia("temporary_power_kva_status"))}}function ii(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("restroom_fixtures_status")," ")}}function ni(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("restroom_fixtures_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,ii,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("restroom_fixtures_status")),s(3),r("ngIf",t.hasFieldMedia("restroom_fixtures_status"))}}function oi(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function ai(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("dg_installation_status")," ")}}function si(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("dg_installation_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,ai,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("dg_installation_status")),s(3),r("ngIf",t.hasFieldMedia("dg_installation_status"))}}function li(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function ri(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("flooring_tiles_level_issues")," ")}}function _i(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("flooring_tiles_level_issues"))}),o(1,"i",200),a(2,"I"),i(),c(3,ri,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("flooring_tiles_level_issues")),s(3),r("ngIf",t.hasFieldMedia("flooring_tiles_level_issues"))}}function di(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function ci(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("permanent_power_status")," ")}}function pi(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("permanent_power_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,ci,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("permanent_power_status")),s(3),r("ngIf",t.hasFieldMedia("permanent_power_status"))}}function mi(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("temporary_connection_available")," ")}}function ui(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("temporary_connection_available"))}),o(1,"i",200),a(2,"I"),i(),c(3,mi,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("temporary_connection_available")),s(3),r("ngIf",t.hasFieldMedia("temporary_connection_available"))}}function fi(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function xi(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("cctv_installation_status")," ")}}function gi(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("cctv_installation_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,xi,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("cctv_installation_status")),s(3),r("ngIf",t.hasFieldMedia("cctv_installation_status"))}}function vi(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function Ci(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("lights_fans_installation_status")," ")}}function bi(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("lights_fans_installation_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,Ci,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("lights_fans_installation_status")),s(3),r("ngIf",t.hasFieldMedia("lights_fans_installation_status"))}}function ki(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function hi(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("racks_installation_status")," ")}}function Ti(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("racks_installation_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,hi,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("racks_installation_status")),s(3),r("ngIf",t.hasFieldMedia("racks_installation_status"))}}function Si(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function yi(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("cold_room_installation_status")," ")}}function Mi(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("cold_room_installation_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,yi,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("cold_room_installation_status")),s(3),r("ngIf",t.hasFieldMedia("cold_room_installation_status"))}}function wi(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function Ei(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("panda_bin_installation_status")," ")}}function Fi(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("panda_bin_installation_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,Ei,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("panda_bin_installation_status")),s(3),r("ngIf",t.hasFieldMedia("panda_bin_installation_status"))}}function Ii(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function Oi(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("crates_installation_status")," ")}}function Pi(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("crates_installation_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,Oi,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("crates_installation_status")),s(3),r("ngIf",t.hasFieldMedia("crates_installation_status"))}}function Vi(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function Ai(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("flykiller_installation_status")," ")}}function ji(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("flykiller_installation_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,Ai,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("flykiller_installation_status")),s(3),r("ngIf",t.hasFieldMedia("flykiller_installation_status"))}}function Ni(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function $i(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("dg_testing_status")," ")}}function Di(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("dg_testing_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,$i,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("dg_testing_status")),s(3),r("ngIf",t.hasFieldMedia("dg_testing_status"))}}function zi(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function Ui(e,n){if(e&1&&(o(0,"span",202),a(1),i()),e&2){let t=_(3);s(),p(" ",t.getFieldMediaCount("cleaning_status")," ")}}function Li(e,n){if(e&1){let t=x();o(0,"button",199),m("click",function(){u(t);let l=_(2);return f(l.openFieldMediaModal("cleaning_status"))}),o(1,"i",200),a(2,"I"),i(),c(3,Ui,2,1,"span",201),i()}if(e&2){let t=_(2);g("has-media",t.hasFieldMedia("cleaning_status")),s(3),r("ngIf",t.hasFieldMedia("cleaning_status"))}}function Ri(e,n){if(e&1&&(o(0,"option",197),a(1),i()),e&2){let t=n.$implicit;r("value",t.value),s(),p(" ",t.label," ")}}function Bi(e,n){if(e&1){let t=x();o(0,"div",38),m("click",function(){u(t);let l=_();return f(l.closeTaskModal())}),o(1,"div",98),m("click",function(l){return u(t),f(l.stopPropagation())}),o(2,"div",40)(3,"h2"),a(4),i(),o(5,"button",41),m("click",function(){u(t);let l=_();return f(l.closeTaskModal())}),a(6,"\xD7"),i()(),o(7,"form",99),m("ngSubmit",function(){u(t);let l=_();return f(l.saveTask())}),o(8,"div",100)(9,"strong"),a(10,"Note:"),i(),a(11," Priority and Status are managed internally and not shown in this form. "),i(),o(12,"div",101)(13,"h3",102),a(14,"Basic Information"),i(),o(15,"div",63)(16,"label",103),a(17,"Project *"),i(),o(18,"select",104)(19,"option",105),a(20,"Select a project"),i(),c(21,Wt,2,3,"option",106),i(),c(22,qt,2,0,"div",107),i(),o(23,"div",63)(24,"label",108),a(25,"Title *"),i(),k(26,"input",109),c(27,Ht,2,0,"div",107),i(),o(28,"div",63)(29,"label",110),a(30,"Description"),i(),o(31,"textarea",111),a(32,"                    "),i()(),k(33,"div",112),i(),o(34,"div",101)(35,"h3",102),a(36,"Store & Property Information"),i(),o(37,"div",113)(38,"div",63)(39,"label",114),a(40,"Store Type"),i(),o(41,"select",115)(42,"option",105),a(43,"Select Store Type"),i(),c(44,Yt,2,2,"option",106),i()(),o(45,"div",63)(46,"label",116),a(47,"Property Type"),i(),o(48,"select",117)(49,"option",105),a(50,"Select Property Type"),i(),c(51,Jt,2,2,"option",106),i()()(),o(52,"div",63)(53,"label",118),a(54,"Comments"),i(),o(55,"textarea",119),a(56,"                    "),i()()(),o(57,"div",101)(58,"h3",102),a(59,"Earth Leveling & Land Filling Activities (LL SOW)"),i(),o(60,"div",63)(61,"div",120)(62,"label",121),a(63,"Earth Leveling Status"),i(),c(64,Qt,4,3,"button",122),i(),o(65,"select",123)(66,"option",105),a(67,"Select Status"),i(),c(68,Xt,2,2,"option",106),i()()(),o(69,"div",101)(70,"h3",102),a(71,"Foundation & Structure Activities"),i(),o(72,"div",113)(73,"div",63)(74,"label",124),a(75,"Footing Stone Status"),i(),c(76,ee,4,3,"button",122),o(77,"select",125)(78,"option",105),a(79,"Select Status"),i(),c(80,ie,2,2,"option",106),i()(),o(81,"div",63)(82,"label",126),a(83,"Column Erection Status"),i(),c(84,oe,4,3,"button",122),o(85,"select",127)(86,"option",105),a(87,"Select Status"),i(),c(88,ae,2,2,"option",106),i()(),o(89,"div",63)(90,"label",128),a(91,"Roof Trusses Status"),i(),c(92,le,4,3,"button",122),o(93,"select",129)(94,"option",105),a(95,"Select Status"),i(),c(96,re,2,2,"option",106),i()(),o(97,"div",63)(98,"label",130),a(99,"Roofing Sheets Status"),i(),c(100,de,4,3,"button",122),o(101,"select",131)(102,"option",105),a(103,"Select Status"),i(),c(104,ce,2,2,"option",106),i()(),o(105,"div",63)(106,"label",132),a(107,"Roof Insulation Status"),i(),c(108,me,4,3,"button",122),o(109,"select",133)(110,"option",105),a(111,"Select Status"),i(),c(112,ue,2,2,"option",106),i()(),o(113,"div",63)(114,"label",134),a(115,"Wall Construction Status"),i(),c(116,xe,4,3,"button",122),o(117,"select",135)(118,"option",105),a(119,"Select Status"),i(),c(120,ge,2,2,"option",106),i()(),o(121,"div",63)(122,"label",136),a(123,"Sides Cladding Status"),i(),c(124,Ce,4,3,"button",122),o(125,"select",137)(126,"option",105),a(127,"Select Status"),i(),c(128,be,2,2,"option",106),i()(),o(129,"div",63)(130,"label",138),a(131,"Flooring Concrete Status"),i(),c(132,he,4,3,"button",122),o(133,"select",139)(134,"option",105),a(135,"Select Status"),i(),c(136,Te,2,2,"option",106),i()(),o(137,"div",63)(138,"label",140),a(139,"Plastering & Painting Status"),i(),c(140,ye,4,3,"button",122),o(141,"select",141)(142,"option",105),a(143,"Select Status"),i(),c(144,Me,2,2,"option",106),i()(),o(145,"div",63)(146,"label",142),a(147,"Plumbing Status"),i(),c(148,Ee,4,3,"button",122),o(149,"select",143)(150,"option",105),a(151,"Select Status"),i(),c(152,Fe,2,2,"option",106),i()()()(),o(153,"div",101)(154,"h3",102),a(155,"Site Infrastructure & Utilities"),i(),o(156,"div",113)(157,"div",63)(158,"label",144),a(159,"Parking Availability Status"),i(),c(160,Oe,4,3,"button",122),o(161,"select",145)(162,"option",105),a(163,"Select Status"),i(),c(164,Pe,2,2,"option",106),i()(),o(165,"div",63)(166,"label",146),a(167,"Associates Restroom Status"),i(),c(168,Ae,4,3,"button",122),o(169,"select",147)(170,"option",105),a(171,"Select Status"),i(),c(172,je,2,2,"option",106),i()(),o(173,"div",63)(174,"label",148),a(175,"Zeptons Restroom Status"),i(),c(176,$e,4,3,"button",122),o(177,"select",149)(178,"option",105),a(179,"Select Status"),i(),c(180,De,2,2,"option",106),i()(),o(181,"div",63)(182,"label",150),a(183,"Water Availability Status"),i(),c(184,Ue,4,3,"button",122),o(185,"select",151)(186,"option",105),a(187,"Select Status"),i(),c(188,Le,2,2,"option",106),i()(),o(189,"div",63)(190,"label",152),a(191,"Parking Work Status"),i(),c(192,Be,4,3,"button",122),o(193,"select",153)(194,"option",105),a(195,"Select Status"),i(),c(196,Ge,2,2,"option",106),i()(),o(197,"div",63)(198,"label",154),a(199,"DG Bed Status"),i(),c(200,We,4,3,"button",122),o(201,"select",155)(202,"option",105),a(203,"Select Status"),i(),c(204,qe,2,2,"option",106),i()(),o(205,"div",63)(206,"label",156),a(207,"Store Shutters Status"),i(),c(208,Ye,4,3,"button",122),o(209,"select",157)(210,"option",105),a(211,"Select Status"),i(),c(212,Je,2,2,"option",106),i()(),o(213,"div",63)(214,"label",158),a(215,"Approach Road Status"),i(),c(216,Qe,4,3,"button",122),o(217,"select",159)(218,"option",105),a(219,"Select Status"),i(),c(220,Xe,2,2,"option",106),i()(),o(221,"div",63)(222,"label",160),a(223,"Temporary Power KVA Status"),i(),c(224,ei,4,3,"button",122),o(225,"select",161)(226,"option",162),a(227,"45 KVA Available"),i(),o(228,"option",163),a(229,"Power Connection Not available"),i(),o(230,"option",164),a(231,">35 KVA Available"),i(),o(232,"option",165),a(233,"<25 KVA Available"),i(),o(234,"option",166),a(235,"<5 KVA Available"),i()()(),o(236,"div",63)(237,"label",167),a(238,"Restroom Fixtures Status"),i(),c(239,ni,4,3,"button",122),o(240,"select",168)(241,"option",105),a(242,"Select Status"),i(),c(243,oi,2,2,"option",106),i()(),o(244,"div",63)(245,"label",169),a(246,"DG Installation Status"),i(),c(247,si,4,3,"button",122),o(248,"select",170)(249,"option",105),a(250,"Select Status"),i(),c(251,li,2,2,"option",106),i()(),o(252,"div",63)(253,"label",171),a(254,"Flooring Tiles Level Issues"),i(),c(255,_i,4,3,"button",122),o(256,"select",172)(257,"option",105),a(258,"Select Status"),i(),c(259,di,2,2,"option",106),i()()(),o(260,"div",112)(261,"div",63)(262,"label",173),a(263,"Permanent Power Status (Description)"),i(),c(264,pi,4,3,"button",122),o(265,"select",174)(266,"option",162),a(267,"45 KVA Available"),i(),o(268,"option",163),a(269,"Power Connection Not available"),i(),o(270,"option",164),a(271,">35 KVA Available"),i(),o(272,"option",165),a(273,"<25 KVA Available"),i(),o(274,"option",166),a(275,"<5 KVA Available"),i(),o(276,"option",175),a(277,"power applied"),i()()(),o(278,"div",63)(279,"label",176),a(280," Drainage Status"),i(),c(281,ui,4,3,"button",122),o(282,"select",177)(283,"option",105),a(284,"Select Status"),i(),c(285,fi,2,2,"option",106),i()()()(),o(286,"div",101)(287,"h3",102),a(288,"Project Specific Installations (Projects SOW Checklist)"),i(),o(289,"div",113)(290,"div",63)(291,"label",178),a(292,"CCTV Installation Status"),i(),c(293,gi,4,3,"button",122),o(294,"select",179)(295,"option",105),a(296,"Select Status"),i(),c(297,vi,2,2,"option",106),i()(),o(298,"div",63)(299,"label",180),a(300,"Lights & Fans Installation Status"),i(),c(301,bi,4,3,"button",122),o(302,"select",181)(303,"option",105),a(304,"Select Status"),i(),c(305,ki,2,2,"option",106),i()(),o(306,"div",63)(307,"label",182),a(308,"Racks Installation Status"),i(),c(309,Ti,4,3,"button",122),o(310,"select",183)(311,"option",105),a(312,"Select Status"),i(),c(313,Si,2,2,"option",106),i()(),o(314,"div",63)(315,"label",184),a(316,"Cold Room Installation Status"),i(),c(317,Mi,4,3,"button",122),o(318,"select",185)(319,"option",105),a(320,"Select Status"),i(),c(321,wi,2,2,"option",106),i()(),o(322,"div",63)(323,"label",186),a(324,"Panda Bin Installation Status"),i(),c(325,Fi,4,3,"button",122),o(326,"select",187)(327,"option",105),a(328,"Select Status"),i(),c(329,Ii,2,2,"option",106),i()(),o(330,"div",63)(331,"label",188),a(332,"Crates Installation Status"),i(),c(333,Pi,4,3,"button",122),o(334,"select",189)(335,"option",105),a(336,"Select Status"),i(),c(337,Vi,2,2,"option",106),i()(),o(338,"div",63)(339,"label",190),a(340,"Flykiller Installation Status"),i(),c(341,ji,4,3,"button",122),o(342,"select",191)(343,"option",105),a(344,"Select Status"),i(),c(345,Ni,2,2,"option",106),i()(),o(346,"div",63)(347,"label",192),a(348,"DG Testing Status"),i(),c(349,Di,4,3,"button",122),o(350,"select",193)(351,"option",105),a(352,"Select Status"),i(),c(353,zi,2,2,"option",106),i()(),o(354,"div",63)(355,"label",194),a(356,"Cleaning Status"),i(),c(357,Li,4,3,"button",122),o(358,"select",195)(359,"option",105),a(360,"Select Status"),i(),c(361,Ri,2,2,"option",106),i()()()(),o(362,"div",56)(363,"button",196),m("click",function(){u(t);let l=_();return f(l.closeTaskModal())}),a(364," Cancel "),i(),o(365,"button",71),a(366),i()()()()()}if(e&2){let t,d,l=_();s(4),C(l.editingTask?"Submit Task":"Create New Task"),s(3),r("formGroup",l.taskForm),s(11),r("disabled",!!l.editingTask),s(3),r("ngForOf",l.projects),s(),r("ngIf",((t=l.taskForm.get("project_id"))==null?null:t.invalid)&&((t=l.taskForm.get("project_id"))==null?null:t.touched)),s(5),r("ngIf",((d=l.taskForm.get("title"))==null?null:d.invalid)&&((d=l.taskForm.get("title"))==null?null:d.touched)),s(17),r("ngForOf",l.storeTypeOptions),s(7),r("ngForOf",l.propertyTypeOptions),s(13),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(8),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(8),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(15),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.flooringIssuesOptions),s(5),r("ngIf",l.editingTask),s(17),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(8),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("ngIf",l.editingTask),s(4),r("ngForOf",l.taskActivityOptions),s(4),r("disabled",l.taskForm.invalid||l.saving),s(),p(" ",l.saving?"Saving...":l.editingTask?"Submit Task":"Create Task"," ")}}function Gi(e,n){if(e&1){let t=x();o(0,"img",217),m("click",function(){u(t);let l=_().$implicit,v=_(4);return f(v.openMediaViewer(l))}),i()}if(e&2){let t=_().$implicit,d=_(4);r("src",d.getMediaUrl(t.file_path),h)}}function Ki(e,n){if(e&1){let t=x();o(0,"video",218),m("click",function(){u(t);let l=_().$implicit,v=_(4);return f(v.openMediaViewer(l))}),k(1,"source",219),i()}if(e&2){let t=_().$implicit,d=_(4);s(),r("src",d.getMediaUrl(t.file_path),h)}}function Wi(e,n){if(e&1&&(o(0,"div",214),c(1,Gi,1,1,"img",215)(2,Ki,2,1,"video",216),i()),e&2){let t=n.$implicit,d=_(4);s(),r("ngIf",d.isImageFile(t.file_type)),s(),r("ngIf",d.isVideoFile(t.file_type))}}function qi(e,n){if(e&1&&(o(0,"div",82)(1,"div",211)(2,"small"),a(3),E(4,"date"),i(),o(5,"p"),a(6),i()(),o(7,"div",212),c(8,Wi,3,2,"div",213),i()()),e&2){let t=n.$implicit;s(3),C(z(4,3,t.created_at)),s(3),C(t.comment_text.split("/")[1]),s(2),r("ngForOf",t.media_files)}}function Hi(e,n){if(e&1&&(o(0,"div",209)(1,"h4"),a(2,"Existing Media:"),i(),o(3,"div",210),c(4,qi,9,5,"div",81),i()()),e&2){let t=_(2);s(4),r("ngForOf",t.fieldMediaComments[t.currentFieldForUpload])}}function Yi(e,n){if(e&1){let t=x();o(0,"div",38),m("click",function(){u(t);let l=_();return f(l.closeFieldMediaModal())}),o(1,"div",98),m("click",function(l){return u(t),f(l.stopPropagation())}),o(2,"div",40)(3,"h3"),a(4),i(),o(5,"button",41),m("click",function(){u(t);let l=_();return f(l.closeFieldMediaModal())}),a(6,"\xD7"),i()(),o(7,"form",99),m("ngSubmit",function(){u(t);let l=_();return f(l.addFieldMedia())}),o(8,"div",63)(9,"label",203),a(10,"Comment (Optional)"),i(),k(11,"textarea",204),i(),o(12,"div",63)(13,"label",205),a(14,"Select Photos/Videos"),i(),o(15,"input",206),m("change",function(l){u(t);let v=_();return f(v.onFieldFileSelected(l))}),i()(),c(16,Hi,5,1,"div",207),i(),o(17,"div",56)(18,"button",196),m("click",function(){u(t);let l=_();return f(l.closeFieldMediaModal())}),a(19,"Cancel"),i(),o(20,"button",208),m("click",function(){u(t);let l=_();return f(l.addFieldMedia())}),a(21),i()()()()}if(e&2){let t=_();s(4),p("Add Media for ",t.fieldDisplayNames[t.currentFieldForUpload],""),s(3),r("formGroup",t.fieldMediaForm),s(9),r("ngIf",t.fieldMediaComments[t.currentFieldForUpload]==null?null:t.fieldMediaComments[t.currentFieldForUpload].length),s(4),r("disabled",t.uploadingFieldMedia),s(),p(" ",t.uploadingFieldMedia?"Uploading...":"Add Media"," ")}}var M=class e{constructor(n,t,d,l,v,Zi){this.authService=n;this.taskService=t;this.userService=d;this.projectService=l;this.commentService=v;this.fb=Zi;this.taskForm=this.createTaskForm(),this.commentForm=this.createCommentForm(),this.fieldMediaForm=this.createFieldMediaForm()}destroy$=new O;tasks=[];filteredTasks=[];users=[];projects=[];selectedTask=null;editingTask=null;taskComments=[];loading=!0;saving=!1;showTaskModal=!1;showViewModal=!1;showCommentsSection=!1;loadingComments=!1;uploadingMedia=!1;selectedStatus="";selectedPriority="";searchTerm="";taskForm;commentForm;selectedFiles=null;maxFileSize=100*1024*1024;allowedTypes=["image/jpeg","image/png","image/jpg","video/mp4","video/mov","video/avi"];showMediaViewer=!1;selectedMedia=null;taskStats={total:0,inProgress:0,completed:0,overdue:0};showFieldMediaModal=!1;currentFieldForUpload="";fieldMediaForm;fieldSelectedFiles=null;uploadingFieldMedia=!1;fieldMediaComments={};fieldDisplayNames={earth_leveling_status:"Earth Leveling Status",footing_stone_status:"Footing Stone Status",column_erection_status:"Column Erection Status",roofing_sheets_status:"Roofing Sheets Status",roof_insulation_status:"Roof Insulation Status",sides_cladding_status:"Sides Cladding Status",roof_trusses_status:"Roof Trusses Status",wall_construction_status:"Wall Construction Status",flooring_concrete_status:"Flooring Concrete Status",plastering_painting_status:"Plastering & Painting Status",plumbing_status:"Plumbing Status",parking_availability_status:"Parking Availability Status",associates_restroom_status:"Associates Restroom Status",zeptons_restroom_status:"Zeptons Restroom Status",water_availability_status:"Water Availability Status",permanent_power_status:"Permanent Power Status",temporary_connection_available:"Drainage Status",parking_work_status:"Parking Work Status",dg_bed_status:"DG Bed Status",store_shutters_status:"Store Shutters Status",approach_road_status:"Approach Road Status",temporary_power_kva_status:"Temporary Power KVA Status",flooring_tiles_level_issues:"Flooring Tiles Level Issues",restroom_fixtures_status:"Restroom Fixtures Status",dg_installation_status:"DG Installation Status",cctv_installation_status:"CCTV Installation Status",lights_fans_installation_status:"Lights & Fans Installation Status",racks_installation_status:"Racks Installation Status",cold_room_installation_status:"Cold Room Installation Status",panda_bin_installation_status:"Panda Bin Installation Status",crates_installation_status:"Crates Installation Status",flykiller_installation_status:"Flykiller Installation Status",dg_testing_status:"DG Testing Status",cleaning_status:"Cleaning Status"};openMediaViewer(n){this.selectedMedia=n,this.showMediaViewer=!0}closeMediaViewer(){this.showMediaViewer=!1,this.selectedMedia=null}taskActivityOptions=[{value:"Completed",label:"Completed"},{value:"WIP",label:"WIP"},{value:"Not Started",label:"Not Started"},{value:"NA",label:"NA"}];storeTypeOptions=[{value:"DH",label:"DH"},{value:"SS",label:"SS"},{value:"Relocation",label:"Relocation"}];propertyTypeOptions=[{value:"BTS",label:"BTS"},{value:"Semi BTS",label:"Semi BTS"},{value:"C&E",label:"C&E"},{value:"RTM",label:"RTM"}];flooringIssuesOptions=[{value:"No Issues",label:"No Issues"},{value:"Level Difference",label:"Level Difference"}];createFieldMediaForm(){return this.fb.group({comment_text:[""]})}ngOnInit(){this.loadInitialData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadInitialData(){this.loading=!0,this.loadTasks(),this.loadUsers(),this.loadProjects()}loadTasks(){this.taskService.getTasks().pipe(b(this.destroy$)).subscribe({next:n=>{this.tasks=n.tasks,this.calculateStats(),this.applyFilters(),this.loading=!1},error:n=>{console.error("Error loading tasks:",n),this.loading=!1}})}loadUsers(){this.userService.getUsers().pipe(b(this.destroy$)).subscribe({next:n=>{this.users=n.users},error:n=>{console.error("Error loading users:",n)}})}loadProjects(){this.projectService.getProjects().pipe(b(this.destroy$)).subscribe({next:n=>{this.projects=n.projects},error:n=>{console.error("Error loading projects:",n)}})}createTaskForm(){return this.fb.group({project_id:["",y.required],title:["",y.required],description:[""],status:["To Do"],priority:["Medium"],assigned_to:[""],due_date:[""],progress_percentage:[0],store_type:[""],property_type:[""],photo_video_capture:[!1],comments:[""],earth_leveling_status:[""],footing_stone_status:[""],column_erection_status:[""],roofing_sheets_status:[""],roof_insulation_status:[""],sides_cladding_status:[""],roof_trusses_status:[""],wall_construction_status:[""],flooring_concrete_status:[""],plastering_painting_status:[""],plumbing_status:[""],parking_availability_status:[""],associates_restroom_status:[""],zeptons_restroom_status:[""],water_availability_status:[""],permanent_power_status:[""],temporary_connection_available:[""],parking_work_status:[""],dg_bed_status:[""],store_shutters_status:[""],approach_road_status:[""],temporary_power_kva_status:[""],flooring_tiles_level_issues:[""],restroom_fixtures_status:[""],dg_installation_status:[""],cctv_installation_status:[""],lights_fans_installation_status:[""],racks_installation_status:[""],cold_room_installation_status:[""],panda_bin_installation_status:[""],crates_installation_status:[""],flykiller_installation_status:[""],dg_testing_status:[""],cleaning_status:[""]})}createCommentForm(){return this.fb.group({comment_text:["",y.required]})}calculateStats(){this.taskStats={total:this.tasks.length,inProgress:this.tasks.filter(n=>n.status==="In Progress").length,completed:this.tasks.filter(n=>n.status==="Completed").length,overdue:this.tasks.filter(n=>this.isTaskOverdue(n)).length}}isAdmin(){return this.authService.isAdmin()}canEditTask(n){if(this.isAdmin())return!0;let t=this.authService.getCurrentUser();return t?n.assigned_to===t.id:!1}applyFilters(){this.filteredTasks=this.tasks.filter(n=>{let t=!this.selectedStatus||n.status===this.selectedStatus,d=!this.selectedPriority||n.priority===this.selectedPriority,l=!this.searchTerm||n.title.toLowerCase().includes(this.searchTerm.toLowerCase())||n.description?.toLowerCase().includes(this.searchTerm.toLowerCase())||n.store_name?.toLowerCase().includes(this.searchTerm.toLowerCase())||n.project_code?.toLowerCase().includes(this.searchTerm.toLowerCase());return t&&d&&l})}openCreateTaskModal(){this.isAdmin()&&(this.editingTask=null,this.taskForm.reset({project_id:"",title:"",description:"",status:"To Do",priority:"Medium",assigned_to:"",due_date:"",progress_percentage:0,store_type:"",property_type:"",photo_video_capture:!1,comments:"",temporary_connection_available:""}),this.showTaskModal=!0)}editTask(n){this.canEditTask(n)&&(this.editingTask=n,this.taskForm.patchValue({project_id:n.project_id!=null?n.project_id.toString():"",title:n.title,description:n.description||"",status:n.status,priority:n.priority,assigned_to:n.assigned_to!=null?n.assigned_to.toString():"",due_date:n.due_date||"",progress_percentage:n.progress_percentage,store_type:n.store_type||"",property_type:n.property_type||"",photo_video_capture:n.photo_video_capture||!1,comments:n.comments||"",earth_leveling_status:n.earth_leveling_status||"",footing_stone_status:n.footing_stone_status||"",column_erection_status:n.column_erection_status||"",roofing_sheets_status:n.roofing_sheets_status||"",roof_insulation_status:n.roof_insulation_status||"",sides_cladding_status:n.sides_cladding_status||"",roof_trusses_status:n.roof_trusses_status||"",wall_construction_status:n.wall_construction_status||"",flooring_concrete_status:n.flooring_concrete_status||"",plastering_painting_status:n.plastering_painting_status||"",plumbing_status:n.plumbing_status||"",parking_availability_status:n.parking_availability_status||"",associates_restroom_status:n.associates_restroom_status||"",zeptons_restroom_status:n.zeptons_restroom_status||"",water_availability_status:n.water_availability_status||"",permanent_power_status:n.permanent_power_status||"",temporary_connection_available:n.temporary_connection_available||"",parking_work_status:n.parking_work_status||"",dg_bed_status:n.dg_bed_status||"",store_shutters_status:n.store_shutters_status||"",approach_road_status:n.approach_road_status||"",temporary_power_kva_status:n.temporary_power_kva_status||"",flooring_tiles_level_issues:n.flooring_tiles_level_issues||"",restroom_fixtures_status:n.restroom_fixtures_status||"",dg_installation_status:n.dg_installation_status||"",cctv_installation_status:n.cctv_installation_status||"",lights_fans_installation_status:n.lights_fans_installation_status||"",racks_installation_status:n.racks_installation_status||"",cold_room_installation_status:n.cold_room_installation_status||"",panda_bin_installation_status:n.panda_bin_installation_status||"",crates_installation_status:n.crates_installation_status||"",flykiller_installation_status:n.flykiller_installation_status||"",dg_testing_status:n.dg_testing_status||"",cleaning_status:n.cleaning_status||""}),this.showTaskModal=!0,Object.keys(this.fieldDisplayNames).forEach(t=>{this.loadFieldMediaComments(t)}))}editTaskFromView(){this.selectedTask&&(this.closeViewModal(),this.editTask(this.selectedTask))}closeTaskModal(){this.showTaskModal=!1,this.editingTask=null,this.taskForm.reset()}saveTask(){if(this.taskForm.invalid||this.saving)return;this.saving=!0;let n=this.taskForm.value,t=I(F({},n),{project_id:parseInt(n.project_id)||null,assigned_to:n.assigned_to?parseInt(n.assigned_to):null,due_date:n.due_date||null,photo_video_capture:n.photo_video_capture?1:0,temporary_connection_available:n.temporary_connection_available||null,progress_percentage:parseInt(n.progress_percentage)||0,store_type:n.store_type||null,property_type:n.property_type||null,comments:n.comments||null,earth_leveling_status:n.earth_leveling_status||null,footing_stone_status:n.footing_stone_status||null,column_erection_status:n.column_erection_status||null,roofing_sheets_status:n.roofing_sheets_status||null,roof_insulation_status:n.roof_insulation_status||null,sides_cladding_status:n.sides_cladding_status||null,roof_trusses_status:n.roof_trusses_status||null,wall_construction_status:n.wall_construction_status||null,flooring_concrete_status:n.flooring_concrete_status||null,plastering_painting_status:n.plastering_painting_status||null,plumbing_status:n.plumbing_status||null,parking_availability_status:n.parking_availability_status||null,associates_restroom_status:n.associates_restroom_status||null,zeptons_restroom_status:n.zeptons_restroom_status||null,water_availability_status:n.water_availability_status||null,permanent_power_status:n.permanent_power_status||null,parking_work_status:n.parking_work_status||null,dg_bed_status:n.dg_bed_status||null,store_shutters_status:n.store_shutters_status||null,approach_road_status:n.approach_road_status||null,temporary_power_kva_status:n.temporary_power_kva_status||null,flooring_tiles_level_issues:n.flooring_tiles_level_issues||null,restroom_fixtures_status:n.restroom_fixtures_status||null,dg_installation_status:n.dg_installation_status||null,cctv_installation_status:n.cctv_installation_status||null,lights_fans_installation_status:n.lights_fans_installation_status||null,racks_installation_status:n.racks_installation_status||null,cold_room_installation_status:n.cold_room_installation_status||null,panda_bin_installation_status:n.panda_bin_installation_status||null,crates_installation_status:n.crates_installation_status||null,flykiller_installation_status:n.flykiller_installation_status||null,dg_testing_status:n.dg_testing_status||null,cleaning_status:n.cleaning_status||null});if(console.log("Task data being sent:",t),console.log("Form value:",n),this.editingTask){let d={};Object.keys(t).forEach(l=>{t[l]!==this.editingTask[l]&&(d[l]=t[l])}),this.taskService.updateTask(this.editingTask.id,d).pipe(b(this.destroy$)).subscribe({next:l=>{this.updateTaskInList(l.task),this.closeTaskModal(),this.saving=!1},error:l=>{console.error("Error updating task:",l),this.saving=!1}})}else{let d=t;this.taskService.createTask(d).pipe(b(this.destroy$)).subscribe({next:l=>{this.tasks.unshift(l.task),this.calculateStats(),this.applyFilters(),this.closeTaskModal(),this.saving=!1},error:l=>{console.error("Error creating task:",l),this.saving=!1}})}}updateTaskInList(n){let t=this.tasks.findIndex(d=>d.id===n.id);t!==-1&&(this.tasks[t]=n,this.calculateStats(),this.applyFilters(),this.selectedTask&&this.selectedTask.id===n.id&&(this.selectedTask=n))}deleteTask(n){!this.isAdmin()||!confirm(`Are you sure you want to delete the task "${n.title}"?`)||this.taskService.deleteTask(n.id).pipe(b(this.destroy$)).subscribe({next:()=>{this.tasks=this.tasks.filter(d=>d.id!==n.id),this.calculateStats(),this.applyFilters(),this.selectedTask&&this.selectedTask.id===n.id&&this.closeViewModal()},error:d=>{console.error("Error deleting task:",d)}})}viewTask(n){this.selectedTask=n,this.showViewModal=!0,this.loadTaskComments(n.id)}closeViewModal(){this.showViewModal=!1,this.selectedTask=null,this.taskComments=[],this.showCommentsSection=!1}toggleCommentsSection(){this.showCommentsSection=!this.showCommentsSection,this.showCommentsSection&&this.selectedTask&&this.loadTaskComments(this.selectedTask.id)}loadTaskComments(n){this.loadingComments=!0,this.commentService.getComments(n).pipe(b(this.destroy$)).subscribe({next:t=>{this.taskComments=t.comments,this.loadingComments=!1},error:t=>{console.error("Error loading comments:",t),this.loadingComments=!1}})}addComment(){if(this.commentForm.invalid||!this.selectedTask)return;let n={task_id:this.selectedTask.id,comment_text:this.commentForm.value.comment_text};this.commentService.createComment(n).pipe(b(this.destroy$)).subscribe({next:t=>{this.taskComments.push(t.comment),this.commentForm.reset(),this.selectedFiles&&this.selectedFiles.length>0&&this.uploadMediaFiles(t.comment.id)},error:t=>{console.error("Error creating comment:",t)}})}onFileSelected(n){let t=n.target;t.files&&(this.selectedFiles=t.files)}uploadMediaFiles(n){if(!(!this.selectedFiles||this.selectedFiles.length===0)){for(let t=0;t<this.selectedFiles.length;t++){let d=this.selectedFiles[t];if(!this.allowedTypes.includes(d.type)){alert(`File ${d.name} has invalid type. Allowed: JPG, PNG, MP4, MOV, AVI`);return}if(d.size>this.maxFileSize){alert(`File ${d.name} exceeds maximum size of 100MB`);return}}this.uploadingMedia=!0,this.commentService.uploadMedia(n,this.selectedFiles).pipe(b(this.destroy$)).subscribe({next:t=>{let d=this.taskComments.findIndex(l=>l.id===n);d!==-1&&(this.taskComments[d].media_files=t.uploaded_files),this.selectedFiles=null,this.uploadingMedia=!1,t.errors&&t.errors.length>0&&alert(`Some files failed to upload:
`+t.errors.join(`
`))},error:t=>{console.error("Error uploading media:",t),this.uploadingMedia=!1}})}}getMediaUrl(n){return n?`https://aliceblue-jaguar-943425.hostingersite.com/uploads/${n.split("/").pop()||n}`:""}isImageFile(n){return["jpg","jpeg","png"].includes(n.toLowerCase())}isVideoFile(n){return["mp4","mov","avi"].includes(n.toLowerCase())}isTaskOverdue(n){if(!n.due_date||n.status==="Completed")return!1;let t=new Date,d=new Date(n.due_date);return t.setHours(0,0,0,0),d.setHours(0,0,0,0),d<t}formatDate(n){return n?new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):""}formatFileSize(n){if(n===0)return"0 Bytes";let t=1024,d=["Bytes","KB","MB","GB"],l=Math.floor(Math.log(n)/Math.log(t));return parseFloat((n/Math.pow(t,l)).toFixed(2))+" "+d[l]}openFieldMediaModal(n){this.currentFieldForUpload=n,this.showFieldMediaModal=!0,this.fieldMediaForm.reset(),this.editingTask&&this.loadFieldMediaComments(n)}closeFieldMediaModal(){this.showFieldMediaModal=!1,this.currentFieldForUpload="",this.fieldSelectedFiles=null}onFieldFileSelected(n){let t=n.target;t.files&&(this.fieldSelectedFiles=t.files)}loadFieldMediaComments(n){this.editingTask&&this.commentService.getComments(this.editingTask.id).pipe(b(this.destroy$)).subscribe({next:t=>{let d=t.comments.filter(l=>l.comment_text.startsWith(n+"/"));this.fieldMediaComments[n]=d},error:t=>console.error("Error loading field comments:",t)})}addFieldMedia(){if(!this.editingTask)return;let n=this.fieldDisplayNames[this.currentFieldForUpload]||this.currentFieldForUpload,t=`${this.currentFieldForUpload}/${n} - ${this.fieldMediaForm.value.comment_text||"Media upload"}`,d={task_id:this.editingTask.id,comment_text:t};this.commentService.createComment(d).pipe(b(this.destroy$)).subscribe({next:l=>{this.fieldSelectedFiles&&this.fieldSelectedFiles.length>0&&this.uploadFieldMediaFiles(l.comment.id),this.closeFieldMediaModal(),this.showCommentsSection&&this.loadTaskComments(this.editingTask.id)},error:l=>console.error("Error creating field comment:",l)})}uploadFieldMediaFiles(n){this.fieldSelectedFiles&&(this.uploadingFieldMedia=!0,this.commentService.uploadMedia(n,this.fieldSelectedFiles).pipe(b(this.destroy$)).subscribe({next:t=>{this.uploadingFieldMedia=!1,this.fieldSelectedFiles=null,t.errors&&t.errors.length>0&&alert(`Some files failed to upload:
`+t.errors.join(`
`))},error:t=>{console.error("Error uploading field media:",t),this.uploadingFieldMedia=!1}}))}getFieldMediaCount(n){return this.fieldMediaComments[n]?.length||0}hasFieldMedia(n){return this.getFieldMediaCount(n)>0}static \u0275fac=function(t){return new(t||e)(T(q),T(rt),T(_t),T(lt),T(dt),T(ot))};static \u0275cmp=V({type:e,selectors:[["app-tasks"]],decls:21,vars:11,consts:[[1,"tasks-container"],[1,"tasks-header"],[4,"ngIf"],["class","header-actions",4,"ngIf"],[1,"filters-section"],[1,"filter-group"],["type","text","placeholder","Search tasks...",1,"filter-input",3,"ngModelChange","input","ngModel"],[1,"tasks-content"],["class","loading-message",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","tasks-grid",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"header-actions"],[1,"btn","btn-primary",3,"click"],[1,"icon-plus"],[1,"loading-message"],[1,"empty-state"],[1,"empty-icon"],[1,"tasks-grid"],["class","task-card",3,"overdue","completed",4,"ngFor","ngForOf"],[1,"task-card"],[1,"task-header"],[1,"task-title"],[1,"task-actions"],["title","View Details",1,"btn-icon",3,"click"],["class","btn-icon","title","Submit Task",3,"click",4,"ngIf"],["class","btn-icon btn-danger","title","Delete Task",3,"click",4,"ngIf"],[1,"task-meta"],[1,"project-info"],["class","task-description",4,"ngIf"],[1,"task-footer"],[1,"assignee-info"],["class","unassigned",4,"ngIf"],[1,"created-info"],["title","Submit Task",1,"btn-icon",3,"click"],["title","Delete Task",1,"btn-icon","btn-danger",3,"click"],[1,"task-description"],[1,"unassigned"],[1,"modal-overlay",3,"click"],[1,"modal-content","large",3,"click"],[1,"modal-header"],[1,"btn-close",3,"click"],[1,"modal-body"],[1,"task-view-content"],[1,"task-info-grid"],[1,"info-item"],[1,"status-badge"],[1,"priority-badge"],["class","info-item",4,"ngIf"],["class","description-section",4,"ngIf"],[1,"progress-section"],[1,"progress-bar","large"],[1,"progress-fill"],[1,"comments-section"],[1,"comments-header"],[1,"comments-toggle",3,"click"],[1,"modal-footer"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[1,"description-section"],[1,"description-content"],["class","comments-list",4,"ngIf"],[1,"comment-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","comment_text"],["id","comment_text","formControlName","comment_text","rows","3","placeholder","Enter your comment...",1,"form-control"],[1,"file-upload"],["for","media_files"],["type","file","id","media_files","multiple","","accept","image/jpeg,image/png,image/jpg,video/mp4,video/mov,video/avi",1,"form-control",3,"change"],[1,"file-info"],[2,"margin-top","16px","display","flex","gap","12px"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"comments-list"],["class","comment-item",4,"ngFor","ngForOf"],[1,"comment-item"],[1,"comment-header"],[1,"comment-author"],[1,"comment-date"],[1,"comment-text"],["class","comment-media",4,"ngIf"],[1,"comment-media"],["class","media-item",4,"ngFor","ngForOf"],[1,"media-item"],["class","clickable-media",3,"src","alt","click",4,"ngIf"],["class","clickable-media video-placeholder",3,"click",4,"ngIf"],[1,"clickable-media",3,"click","src","alt"],[1,"clickable-media","video-placeholder",3,"click"],[3,"title"],[3,"src","type"],[1,"play-icon"],[1,"modal-content","media-viewer",3,"click"],[1,"modal-body","media-viewer-body"],[1,"media-viewer-content"],[3,"src","alt",4,"ngIf"],["controls","","autoplay","",3,"title",4,"ngIf"],[1,"media-info"],[3,"src","alt"],["controls","","autoplay","",3,"title"],[1,"modal-content",3,"click"],[1,"modal-body",3,"ngSubmit","formGroup"],[1,"hidden-fields-note"],[1,"form-section"],[1,"form-section-title"],["for","project_id"],["id","project_id","formControlName","project_id",1,"form-control",3,"disabled"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","error-message",4,"ngIf"],["for","title"],["type","text","id","title","formControlName","title","placeholder","Enter task title",1,"form-control"],["for","description"],["id","description","formControlName","description","rows","4","placeholder","Enter task description",1,"form-control"],[1,"form-grid-2"],[1,"form-grid-3"],["for","store_type"],["id","store_type","formControlName","store_type",1,"form-control"],["for","property_type"],["id","property_type","formControlName","property_type",1,"form-control"],["for","comments"],["id","comments","formControlName","comments","rows","3","placeholder","Additional comments or notes",1,"form-control"],[1,"field-with-media"],["for","earth_leveling_status"],["type","button","class","btn-media-upload",3,"has-media","click",4,"ngIf"],["id","earth_leveling_status","formControlName","earth_leveling_status",1,"form-control"],["for","footing_stone_status"],["id","footing_stone_status","formControlName","footing_stone_status",1,"form-control"],["for","column_erection_status"],["id","column_erection_status","formControlName","column_erection_status",1,"form-control"],["for","roof_trusses_status"],["id","roof_trusses_status","formControlName","roof_trusses_status",1,"form-control"],["for","roofing_sheets_status"],["id","roofing_sheets_status","formControlName","roofing_sheets_status",1,"form-control"],["for","roof_insulation_status"],["id","roof_insulation_status","formControlName","roof_insulation_status",1,"form-control"],["for","wall_construction_status"],["id","wall_construction_status","formControlName","wall_construction_status",1,"form-control"],["for","sides_cladding_status"],["id","sides_cladding_status","formControlName","sides_cladding_status",1,"form-control"],["for","flooring_concrete_status"],["id","flooring_concrete_status","formControlName","flooring_concrete_status",1,"form-control"],["for","plastering_painting_status"],["id","plastering_painting_status","formControlName","plastering_painting_status",1,"form-control"],["for","plumbing_status"],["id","plumbing_status","formControlName","plumbing_status",1,"form-control"],["for","parking_availability_status"],["id","parking_availability_status","formControlName","parking_availability_status",1,"form-control"],["for","associates_restroom_status"],["id","associates_restroom_status","formControlName","associates_restroom_status",1,"form-control"],["for","zeptons_restroom_status"],["id","zeptons_restroom_status","formControlName","zeptons_restroom_status",1,"form-control"],["for","water_availability_status"],["id","water_availability_status","formControlName","water_availability_status",1,"form-control"],["for","parking_work_status"],["id","parking_work_status","formControlName","parking_work_status",1,"form-control"],["for","dg_bed_status"],["id","dg_bed_status","formControlName","dg_bed_status",1,"form-control"],["for","store_shutters_status"],["id","store_shutters_status","formControlName","store_shutters_status",1,"form-control"],["for","approach_road_status"],["id","approach_road_status","formControlName","approach_road_status",1,"form-control"],["for","temporary_power_kva_status"],["id","temporary_power_kva_status","formControlName","temporary_power_kva_status",1,"form-control"],["value","45 KVA Available"],["value","Power Connection Not available"],["value",">35 KVA Available"],["value","<25 KVA Available"],["value","<5 KVA Available"],["for","restroom_fixtures_status"],["id","restroom_fixtures_status","formControlName","restroom_fixtures_status",1,"form-control"],["for","dg_installation_status"],["id","dg_installation_status","formControlName","dg_installation_status",1,"form-control"],["for","flooring_tiles_level_issues"],["id","flooring_tiles_level_issues","formControlName","flooring_tiles_level_issues",1,"form-control"],["for","permanent_power_status"],["id","permanent_power_status","formControlName","permanent_power_status",1,"form-control"],["value","power applied"],["for","temporary_connection_available"],["id","temporary_connection_available","formControlName","temporary_connection_available",1,"form-control"],["for","cctv_installation_status"],["id","cctv_installation_status","formControlName","cctv_installation_status",1,"form-control"],["for","lights_fans_installation_status"],["id","lights_fans_installation_status","formControlName","lights_fans_installation_status",1,"form-control"],["for","racks_installation_status"],["id","racks_installation_status","formControlName","racks_installation_status",1,"form-control"],["for","cold_room_installation_status"],["id","cold_room_installation_status","formControlName","cold_room_installation_status",1,"form-control"],["for","panda_bin_installation_status"],["id","panda_bin_installation_status","formControlName","panda_bin_installation_status",1,"form-control"],["for","crates_installation_status"],["id","crates_installation_status","formControlName","crates_installation_status",1,"form-control"],["for","flykiller_installation_status"],["id","flykiller_installation_status","formControlName","flykiller_installation_status",1,"form-control"],["for","dg_testing_status"],["id","dg_testing_status","formControlName","dg_testing_status",1,"form-control"],["for","cleaning_status"],["id","cleaning_status","formControlName","cleaning_status",1,"form-control"],["type","button",1,"btn","btn-secondary",3,"click"],[3,"value"],[1,"error-message"],["type","button",1,"btn-media-upload",3,"click"],[1,"fas","fa-camera"],["class","media-count",4,"ngIf"],[1,"media-count"],["for","field_comment"],["id","field_comment","formControlName","comment_text","placeholder","Add a comment about this media...",1,"form-control"],["for","field_media"],["type","file","id","field_media","multiple","","accept","image/*,video/*",1,"form-control",3,"change"],["class","existing-media",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"existing-media"],[1,"media-grid"],[1,"comment-info"],[1,"media-files"],["class","media-file",4,"ngFor","ngForOf"],[1,"media-file"],["class","thumbnail",3,"src","click",4,"ngIf"],["class","thumbnail",3,"click",4,"ngIf"],[1,"thumbnail",3,"click","src"],[1,"thumbnail",3,"click"],[3,"src"]],template:function(t,d){t&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),a(4,"Tasks Explorer"),i(),c(5,mt,2,0,"p",2)(6,ut,2,0,"p",2),i(),c(7,ft,5,0,"div",3),i(),o(8,"div",4)(9,"div",5)(10,"label"),a(11,"Search:"),i(),o(12,"input",6),D("ngModelChange",function(v){return $(d.searchTerm,v)||(d.searchTerm=v),v}),m("input",function(){return d.applyFilters()}),i()()(),o(13,"div",7),c(14,xt,2,0,"div",8)(15,Ct,7,2,"div",9)(16,Mt,2,1,"div",10),i()(),c(17,Rt,61,22,"div",11)(18,Kt,16,5,"div",11)(19,Bi,367,76,"div",11)(20,Yi,22,5,"div",11)),t&2&&(s(5),r("ngIf",!d.isAdmin()),s(),r("ngIf",d.isAdmin()),s(),r("ngIf",d.isAdmin()),s(5),N("ngModel",d.searchTerm),s(2),r("ngIf",d.loading),s(),r("ngIf",!d.loading&&d.filteredTasks.length===0),s(),r("ngIf",!d.loading&&d.filteredTasks.length>0),s(),r("ngIf",d.showViewModal&&d.selectedTask),s(),r("ngIf",d.showMediaViewer&&d.selectedMedia),s(),r("ngIf",d.showTaskModal),s(),r("ngIf",d.showFieldMediaModal))},dependencies:[L,R,Q,it,nt,H,et,Y,J,X,tt,Z,G,B],styles:['.tasks-container[_ngcontent-%COMP%]{padding:20px;max-width:1400px;margin:0 auto;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.tasks-header[_ngcontent-%COMP%]{margin-bottom:30px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:15px}.tasks-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2c3e50;margin:0;font-size:28px;font-weight:600}.tasks-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;margin:5px 0 0;font-size:16px}.header-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;transition:all .3s ease;display:inline-flex;align-items:center;gap:8px;text-decoration:none}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3498db,#2980b9);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2980b9,#1f5f8b);transform:translateY(-2px);box-shadow:0 4px 12px #3498db4d}.btn-secondary[_ngcontent-%COMP%]{background:#95a5a6;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#7f8c8d}.btn-danger[_ngcontent-%COMP%]{background:#e74c3c;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background:#c0392b}.btn-icon[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:5px;border-radius:4px;font-size:16px;transition:background-color .3s ease}.btn-icon[_ngcontent-%COMP%]:hover{background:#0000001a}.task-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:30px}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;box-shadow:0 2px 12px #00000014;text-align:center;border:1px solid #f0f0f0;transition:transform .3s ease,box-shadow .3s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 20px #0000001f}.stat-number[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#2c3e50;margin-bottom:8px}.stat-label[_ngcontent-%COMP%]{font-size:14px;color:#7f8c8d;text-transform:uppercase;letter-spacing:.5px}.filters-section[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:12px;box-shadow:0 2px 12px #00000014;margin-bottom:30px;display:flex;flex-wrap:wrap;gap:20px;align-items:end}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:150px}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#2c3e50;margin-bottom:5px;font-size:14px}.filter-select[_ngcontent-%COMP%], .filter-input[_ngcontent-%COMP%]{padding:8px 12px;border:2px solid #e0e0e0;border-radius:6px;font-size:14px;transition:border-color .3s ease}.filter-select[_ngcontent-%COMP%]:focus, .filter-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db}.tasks-content[_ngcontent-%COMP%]{min-height:400px}.loading-message[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#7f8c8d;font-size:18px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:10px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;font-size:16px}.tasks-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(400px,1fr));gap:24px}.task-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;box-shadow:0 2px 12px #00000014;border:1px solid #f0f0f0;transition:all .3s ease;position:relative}.task-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001f}.task-card.overdue[_ngcontent-%COMP%]{border-left:4px solid #e74c3c}.task-card.completed[_ngcontent-%COMP%]{border-left:4px solid #27ae60;opacity:.9}.task-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:start;margin-bottom:16px}.task-title[_ngcontent-%COMP%]{color:#2c3e50;font-size:18px;font-weight:600;margin:0 10px 0 0;flex:1}.task-actions[_ngcontent-%COMP%]{display:flex;gap:5px}.task-meta[_ngcontent-%COMP%]{margin-bottom:12px}.project-info[_ngcontent-%COMP%]{background:#ecf0f1;color:#2c3e50;padding:4px 8px;border-radius:4px;font-size:12px;font-weight:500}.task-description[_ngcontent-%COMP%]{color:#7f8c8d;margin-bottom:16px;line-height:1.5}.task-details[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:16px;flex-wrap:wrap}.status-badge[_ngcontent-%COMP%], .priority-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:12px;font-weight:500;text-transform:uppercase}.status-to-do[_ngcontent-%COMP%]{background:#f39c12;color:#fff}.status-in-progress[_ngcontent-%COMP%]{background:#3498db;color:#fff}.status-completed[_ngcontent-%COMP%]{background:#27ae60;color:#fff}.status-on-hold[_ngcontent-%COMP%]{background:#95a5a6;color:#fff}.priority-low[_ngcontent-%COMP%]{background:#2ecc71;color:#fff}.priority-medium[_ngcontent-%COMP%]{background:#f39c12;color:#fff}.priority-high[_ngcontent-%COMP%]{background:#e67e22;color:#fff}.priority-critical[_ngcontent-%COMP%]{background:#e74c3c;color:#fff}.task-progress[_ngcontent-%COMP%]{margin-bottom:16px}.progress-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.progress-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#2c3e50;font-weight:500}.due-date[_ngcontent-%COMP%]{font-size:12px!important;color:#7f8c8d!important}.progress-bar[_ngcontent-%COMP%]{background:#ecf0f1;border-radius:10px;height:8px;overflow:hidden}.progress-bar.large[_ngcontent-%COMP%]{height:12px}.progress-fill[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3498db,#2980b9);height:100%;border-radius:10px;transition:width .3s ease}.task-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:12px;color:#7f8c8d;flex-wrap:wrap;gap:10px}.unassigned[_ngcontent-%COMP%]{color:#e74c3c;font-style:italic}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;max-width:800px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 10px 40px #0003}.modal-content.large[_ngcontent-%COMP%]{max-width:1000px}.modal-header[_ngcontent-%COMP%]{padding:24px;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#2c3e50;font-size:24px;font-weight:600}.btn-close[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#7f8c8d;padding:0;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center}.btn-close[_ngcontent-%COMP%]:hover{background:#f8f9fa;color:#2c3e50}.modal-body[_ngcontent-%COMP%]{padding:24px}.modal-footer[_ngcontent-%COMP%]{padding:24px;border-top:1px solid #e0e0e0;display:flex;gap:12px;justify-content:flex-end}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group.half[_ngcontent-%COMP%]{flex:1;min-width:200px}.form-row[_ngcontent-%COMP%]{display:flex;gap:20px;flex-wrap:wrap}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:#2c3e50;font-size:14px}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:2px solid #e0e0e0;border-radius:6px;font-size:14px;transition:border-color .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db}.form-control[_ngcontent-%COMP%]:disabled{background:#f8f9fa;color:#6c757d}.form-range[_ngcontent-%COMP%]{width:100%;height:6px;background:#e0e0e0;outline:none;border-radius:3px}.progress-value[_ngcontent-%COMP%]{text-align:center;margin-top:8px;font-weight:500;color:#2c3e50}.error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:12px;margin-top:4px}.task-view-content[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto}.task-info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px;margin-bottom:24px}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.info-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;font-size:14px}.info-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#7f8c8d;font-size:14px}.description-section[_ngcontent-%COMP%]{margin-bottom:24px}.description-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;margin-bottom:8px;display:block}.description-content[_ngcontent-%COMP%]{background:#f8f9fa;padding:16px;border-radius:6px;line-height:1.6;color:#2c3e50}.progress-section[_ngcontent-%COMP%]{margin-bottom:24px}.progress-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;margin-bottom:8px;display:block}.form-section[_ngcontent-%COMP%]{margin-bottom:32px;padding-bottom:24px;border-bottom:1px solid #e0e0e0}.form-section[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.form-section-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#2c3e50;margin-bottom:16px;padding-bottom:8px;position:relative}.form-section-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:50px;height:2px;background:#3498db}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}.form-grid-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px}.form-grid-3[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:20px}.comments-section[_ngcontent-%COMP%]{margin-top:32px;padding-top:24px;border-top:1px solid #e0e0e0}.comments-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.comments-toggle[_ngcontent-%COMP%]{background:none;border:none;color:#3498db;cursor:pointer;font-size:16px;font-weight:500;padding:8px 16px;border-radius:6px;transition:background-color .3s ease}.modal-overlay.media-viewer-overlay[_ngcontent-%COMP%]{z-index:2000!important}.modal-overlay.task-modal-overlay[_ngcontent-%COMP%]{z-index:1500}.comments-toggle[_ngcontent-%COMP%]:hover{background:#3498db1a}.comments-list[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;margin-bottom:20px}.comment-item[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:16px;margin-bottom:16px;border-left:3px solid #3498db}.comment-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.comment-author[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50}.comment-date[_ngcontent-%COMP%]{font-size:12px;color:#7f8c8d}.comment-text[_ngcontent-%COMP%]{color:#2c3e50;line-height:1.5;margin-bottom:12px}.comment-media[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px}.media-item[_ngcontent-%COMP%]{border-radius:6px;overflow:hidden;box-shadow:0 2px 8px #0000001a}.media-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:120px;max-height:120px;object-fit:cover}.media-item[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{max-width:200px;max-height:150px}.comment-form[_ngcontent-%COMP%]{background:#fff;border:1px solid #e0e0e0;border-radius:8px;padding:20px}.file-upload[_ngcontent-%COMP%]{margin-top:12px}.file-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{margin-bottom:8px}.file-info[_ngcontent-%COMP%]{font-size:12px;color:#7f8c8d}@media (max-width: 768px){.tasks-container[_ngcontent-%COMP%]{padding:15px}.tasks-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;text-align:center}.task-stats[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.filters-section[_ngcontent-%COMP%]{flex-direction:column}.tasks-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-row[_ngcontent-%COMP%]{flex-direction:column}.form-grid[_ngcontent-%COMP%], .form-grid-2[_ngcontent-%COMP%], .form-grid-3[_ngcontent-%COMP%], .task-info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-content[_ngcontent-%COMP%]{margin:10px;max-height:calc(100vh - 20px)}}@media (max-width: 480px){.task-stats[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-header[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{padding:16px}}.loading[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.spinner[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border:2px solid #f3f3f3;border-top:2px solid #3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.checkbox-wrapper[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;accent-color:#3498db}.hidden-fields-note[_ngcontent-%COMP%]{background:#fff3cd;border:1px solid #ffeaa7;border-radius:6px;padding:12px;margin-bottom:20px;color:#856404;font-size:14px}.media-viewer-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000e6;display:flex;justify-content:center;align-items:center;z-index:1000}.media-viewer-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;overflow:hidden;max-width:90vw;max-height:90vh;box-shadow:0 4px 12px #0003}.media-player[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .media-player[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:auto;max-height:100%;object-fit:contain}.btn-close[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:none;border:none;font-size:24px;color:#fff;cursor:pointer}.field-with-media[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.btn-media-upload[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center;cursor:pointer;position:relative}.btn-media-upload.has-media[_ngcontent-%COMP%]{background:#28a745}.media-count[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:#dc3545;color:#fff;border-radius:50%;width:18px;height:18px;font-size:10px;display:flex;align-items:center;justify-content:center}.existing-media[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;margin-top:20px}.media-grid[_ngcontent-%COMP%]{display:grid;gap:10px}.media-item[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px;border-radius:5px}.media-files[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.thumbnail[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;cursor:pointer;border-radius:5px}']})};var Ji=[{path:"",component:M}],ct=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=A({type:e});static \u0275inj=P({imports:[K,st,at,W.forChild(Ji)]})};export{ct as TasksModule};
