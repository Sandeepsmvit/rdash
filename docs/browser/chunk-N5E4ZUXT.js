import{a as lt,b as K,c as dt,d as ct,e as pt,f as mt,g as _t,h as ut,i as ft,j as gt,k as xt,l as ht,m as vt,n as Ct,o as bt,p as Pt,q as yt}from"./chunk-GW62PQDN.js";import{a as Mt}from"./chunk-VZQLDR2C.js";import{a as wt,b as St}from"./chunk-WWOXZNFR.js";import{a as Et}from"./chunk-L7GBDS54.js";import{$ as Qe,A as f,G as ye,H as l,I as we,Ka as at,M as v,Ma as st,O as p,P as Re,Q as ce,R as Me,S as n,T as t,U as E,V as w,W as x,X as d,Z as Xe,_ as Je,a as Pe,aa as i,b as He,ba as g,c as It,ca as A,d as Dt,e as Ge,ea as N,fa as W,ga as B,ja as ue,ka as Ie,l as Ae,la as ke,ma as Ze,s as $e,ua as et,v as Ke,va as tt,w as Ye,wa as nt,xa as it,ya as ot,z as u,za as rt}from"./chunk-5OIP4QEW.js";var kt=It((Ue,ze)=>{"use strict";((a,o)=>{typeof define=="function"&&define.amd?define([],o):typeof ze=="object"&&typeof Ue<"u"?ze.exports=o():a.Papa=o()})(Ue,function a(){var o=typeof self<"u"?self:typeof window<"u"?window:o!==void 0?o:{},e,s=!o.document&&!!o.postMessage,r=o.IS_PAPA_WORKER||!1,c={},O=0,b={};function C(m){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(_){var h=Ve(_);h.chunkSize=parseInt(h.chunkSize),_.step||_.chunk||(h.chunkSize=null),this._handle=new De(h),(this._handle.streamer=this)._config=h}.call(this,m),this.parseChunk=function(_,h){var y=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<y){let j=this._config.newline;j||(P=this._config.quoteChar||'"',j=this._handle.guessLineEndings(_,P)),_=[..._.split(j).slice(y)].join(j)}this.isFirstChunk&&q(this._config.beforeFirstChunk)&&(P=this._config.beforeFirstChunk(_))!==void 0&&(_=P),this.isFirstChunk=!1,this._halted=!1;var y=this._partialLine+_,P=(this._partialLine="",this._handle.parse(y,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(_=P.meta.cursor,y=(this._finished||(this._partialLine=y.substring(_-this._baseIndex),this._baseIndex=_),P&&P.data&&(this._rowCount+=P.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),r)o.postMessage({results:P,workerId:b.WORKER_ID,finished:y});else if(q(this._config.chunk)&&!h){if(this._config.chunk(P,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=P=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(P.data),this._completeResults.errors=this._completeResults.errors.concat(P.errors),this._completeResults.meta=P.meta),this._completed||!y||!q(this._config.complete)||P&&P.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),y||P&&P.meta.paused||this._nextChunk(),P}this._halted=!0},this._sendError=function(_){q(this._config.error)?this._config.error(_):r&&this._config.error&&o.postMessage({workerId:b.WORKER_ID,error:_,finished:!1})}}function J(m){var _;(m=m||{}).chunkSize||(m.chunkSize=b.RemoteChunkSize),C.call(this,m),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(h){this._input=h,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(_=new XMLHttpRequest,this._config.withCredentials&&(_.withCredentials=this._config.withCredentials),s||(_.onload=be(this._chunkLoaded,this),_.onerror=be(this._chunkError,this)),_.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var h,y=this._config.downloadRequestHeaders;for(h in y)_.setRequestHeader(h,y[h])}var P;this._config.chunkSize&&(P=this._start+this._config.chunkSize-1,_.setRequestHeader("Range","bytes="+this._start+"-"+P));try{_.send(this._config.downloadRequestBody)}catch(j){this._chunkError(j.message)}s&&_.status===0&&this._chunkError()}},this._chunkLoaded=function(){_.readyState===4&&(_.status<200||400<=_.status?this._chunkError():(this._start+=this._config.chunkSize||_.responseText.length,this._finished=!this._config.chunkSize||this._start>=(h=>(h=h.getResponseHeader("Content-Range"))!==null?parseInt(h.substring(h.lastIndexOf("/")+1)):-1)(_),this.parseChunk(_.responseText)))},this._chunkError=function(h){h=_.statusText||h,this._sendError(new Error(h))}}function R(m){(m=m||{}).chunkSize||(m.chunkSize=b.LocalChunkSize),C.call(this,m);var _,h,y=typeof FileReader<"u";this.stream=function(P){this._input=P,h=P.slice||P.webkitSlice||P.mozSlice,y?((_=new FileReader).onload=be(this._chunkLoaded,this),_.onerror=be(this._chunkError,this)):_=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var P=this._input,j=(this._config.chunkSize&&(j=Math.min(this._start+this._config.chunkSize,this._input.size),P=h.call(P,this._start,j)),_.readAsText(P,this._config.encoding));y||this._chunkLoaded({target:{result:j}})},this._chunkLoaded=function(P){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(P.target.result)},this._chunkError=function(){this._sendError(_.error)}}function re(m){var _;C.call(this,m=m||{}),this.stream=function(h){return _=h,this._nextChunk()},this._nextChunk=function(){var h,y;if(!this._finished)return h=this._config.chunkSize,_=h?(y=_.substring(0,h),_.substring(h)):(y=_,""),this._finished=!_,this.parseChunk(y)}}function ve(m){C.call(this,m=m||{});var _=[],h=!0,y=!1;this.pause=function(){C.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){C.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(P){this._input=P,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){y&&_.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),_.length?this.parseChunk(_.shift()):h=!0},this._streamData=be(function(P){try{_.push(typeof P=="string"?P:P.toString(this._config.encoding)),h&&(h=!1,this._checkIsFinished(),this.parseChunk(_.shift()))}catch(j){this._streamError(j)}},this),this._streamError=be(function(P){this._streamCleanUp(),this._sendError(P)},this),this._streamEnd=be(function(){this._streamCleanUp(),y=!0,this._streamData("")},this),this._streamCleanUp=be(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function De(m){var _,h,y,P,j=Math.pow(2,53),Z=-j,pe=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,me=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,D=this,Y=0,M=0,ae=!1,k=!1,F=[],S={data:[],errors:[],meta:{}};function ee(V){return m.skipEmptyLines==="greedy"?V.join("").trim()==="":V.length===1&&V[0].length===0}function Q(){if(S&&y&&(_e("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+b.DefaultDelimiter+"'"),y=!1),m.skipEmptyLines&&(S.data=S.data.filter(function(H){return!ee(H)})),oe()){let H=function(ne,G){q(m.transformHeader)&&(ne=m.transformHeader(ne,G)),F.push(ne)};var T=H;if(S)if(Array.isArray(S.data[0])){for(var V=0;oe()&&V<S.data.length;V++)S.data[V].forEach(H);S.data.splice(0,1)}else S.data.forEach(H)}function L(H,ne){for(var G=m.header?{}:[],z=0;z<H.length;z++){var I=z,se=H[z],se=((U,$)=>(te=>(m.dynamicTypingFunction&&m.dynamicTyping[te]===void 0&&(m.dynamicTyping[te]=m.dynamicTypingFunction(te)),(m.dynamicTyping[te]||m.dynamicTyping)===!0))(U)?$==="true"||$==="TRUE"||$!=="false"&&$!=="FALSE"&&((te=>{if(pe.test(te)&&(te=parseFloat(te),Z<te&&te<j))return 1})($)?parseFloat($):me.test($)?new Date($):$===""?null:$):$)(I=m.header?z>=F.length?"__parsed_extra":F[z]:I,se=m.transform?m.transform(se,I):se);I==="__parsed_extra"?(G[I]=G[I]||[],G[I].push(se)):G[I]=se}return m.header&&(z>F.length?_e("FieldMismatch","TooManyFields","Too many fields: expected "+F.length+" fields but parsed "+z,M+ne):z<F.length&&_e("FieldMismatch","TooFewFields","Too few fields: expected "+F.length+" fields but parsed "+z,M+ne)),G}var X;S&&(m.header||m.dynamicTyping||m.transform)&&(X=1,!S.data.length||Array.isArray(S.data[0])?(S.data=S.data.map(L),X=S.data.length):S.data=L(S.data,0),m.header&&S.meta&&(S.meta.fields=F),M+=X)}function oe(){return m.header&&F.length===0}function _e(V,L,X,T){V={type:V,code:L,message:X},T!==void 0&&(V.row=T),S.errors.push(V)}q(m.step)&&(P=m.step,m.step=function(V){S=V,oe()?Q():(Q(),S.data.length!==0&&(Y+=V.data.length,m.preview&&Y>m.preview?h.abort():(S.data=S.data[0],P(S,D))))}),this.parse=function(V,L,X){var T=m.quoteChar||'"',T=(m.newline||(m.newline=this.guessLineEndings(V,T)),y=!1,m.delimiter?q(m.delimiter)&&(m.delimiter=m.delimiter(V),S.meta.delimiter=m.delimiter):((T=((H,ne,G,z,I)=>{var se,U,$,te;I=I||[",","	","|",";",b.RECORD_SEP,b.UNIT_SEP];for(var Se=0;Se<I.length;Se++){for(var ge,je=I[Se],le=0,xe=0,ie=0,de=($=void 0,new Oe({comments:z,delimiter:je,newline:ne,preview:10}).parse(H)),Ce=0;Ce<de.data.length;Ce++)G&&ee(de.data[Ce])?ie++:(ge=de.data[Ce].length,xe+=ge,$===void 0?$=ge:0<ge&&(le+=Math.abs(ge-$),$=ge));0<de.data.length&&(xe/=de.data.length-ie),(U===void 0||le<=U)&&(te===void 0||te<xe)&&1.99<xe&&(U=le,se=je,te=xe)}return{successful:!!(m.delimiter=se),bestDelimiter:se}})(V,m.newline,m.skipEmptyLines,m.comments,m.delimitersToGuess)).successful?m.delimiter=T.bestDelimiter:(y=!0,m.delimiter=b.DefaultDelimiter),S.meta.delimiter=m.delimiter),Ve(m));return m.preview&&m.header&&T.preview++,_=V,h=new Oe(T),S=h.parse(_,L,X),Q(),ae?{meta:{paused:!0}}:S||{meta:{paused:!1}}},this.paused=function(){return ae},this.pause=function(){ae=!0,h.abort(),_=q(m.chunk)?"":_.substring(h.getCharIndex())},this.resume=function(){D.streamer._halted?(ae=!1,D.streamer.parseChunk(_,!0)):setTimeout(D.resume,3)},this.aborted=function(){return k},this.abort=function(){k=!0,h.abort(),S.meta.aborted=!0,q(m.complete)&&m.complete(S),_=""},this.guessLineEndings=function(H,T){H=H.substring(0,1048576);var T=new RegExp(fe(T)+"([^]*?)"+fe(T),"gm"),X=(H=H.replace(T,"")).split("\r"),T=H.split(`
`),H=1<T.length&&T[0].length<X[0].length;if(X.length===1||H)return`
`;for(var ne=0,G=0;G<X.length;G++)X[G][0]===`
`&&ne++;return ne>=X.length/2?`\r
`:"\r"}}function fe(m){return m.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Oe(m){var _=(m=m||{}).delimiter,h=m.newline,y=m.comments,P=m.step,j=m.preview,Z=m.fastMode,pe=null,me=!1,D=m.quoteChar==null?'"':m.quoteChar,Y=D;if(m.escapeChar!==void 0&&(Y=m.escapeChar),(typeof _!="string"||-1<b.BAD_DELIMITERS.indexOf(_))&&(_=","),y===_)throw new Error("Comment character same as delimiter");y===!0?y="#":(typeof y!="string"||-1<b.BAD_DELIMITERS.indexOf(y))&&(y=!1),h!==`
`&&h!=="\r"&&h!==`\r
`&&(h=`
`);var M=0,ae=!1;this.parse=function(k,F,S){if(typeof k!="string")throw new Error("Input must be a string");var ee=k.length,Q=_.length,oe=h.length,_e=y.length,V=q(P),L=[],X=[],T=[],H=M=0;if(!k)return le();if(Z||Z!==!1&&k.indexOf(D)===-1){for(var ne=k.split(h),G=0;G<ne.length;G++){if(T=ne[G],M+=T.length,G!==ne.length-1)M+=h.length;else if(S)return le();if(!y||T.substring(0,_e)!==y){if(V){if(L=[],te(T.split(_)),xe(),ae)return le()}else te(T.split(_));if(j&&j<=G)return L=L.slice(0,j),le(!0)}}return le()}for(var z=k.indexOf(_,M),I=k.indexOf(h,M),se=new RegExp(fe(Y)+fe(D),"g"),U=k.indexOf(D,M);;)if(k[M]===D)for(U=M,M++;;){if((U=k.indexOf(D,U+1))===-1)return S||X.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:L.length,index:M}),ge();if(U===ee-1)return ge(k.substring(M,U).replace(se,D));if(D===Y&&k[U+1]===Y)U++;else if(D===Y||U===0||k[U-1]!==Y){z!==-1&&z<U+1&&(z=k.indexOf(_,U+1));var $=Se((I=I!==-1&&I<U+1?k.indexOf(h,U+1):I)===-1?z:Math.min(z,I));if(k.substr(U+1+$,Q)===_){T.push(k.substring(M,U).replace(se,D)),k[M=U+1+$+Q]!==D&&(U=k.indexOf(D,M)),z=k.indexOf(_,M),I=k.indexOf(h,M);break}if($=Se(I),k.substring(U+1+$,U+1+$+oe)===h){if(T.push(k.substring(M,U).replace(se,D)),je(U+1+$+oe),z=k.indexOf(_,M),U=k.indexOf(D,M),V&&(xe(),ae))return le();if(j&&L.length>=j)return le(!0);break}X.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:L.length,index:M}),U++}}else if(y&&T.length===0&&k.substring(M,M+_e)===y){if(I===-1)return le();M=I+oe,I=k.indexOf(h,M),z=k.indexOf(_,M)}else if(z!==-1&&(z<I||I===-1))T.push(k.substring(M,z)),M=z+Q,z=k.indexOf(_,M);else{if(I===-1)break;if(T.push(k.substring(M,I)),je(I+oe),V&&(xe(),ae))return le();if(j&&L.length>=j)return le(!0)}return ge();function te(ie){L.push(ie),H=M}function Se(ie){var de=0;return de=ie!==-1&&(ie=k.substring(U+1,ie))&&ie.trim()===""?ie.length:de}function ge(ie){return S||(ie===void 0&&(ie=k.substring(M)),T.push(ie),M=ee,te(T),V&&xe()),le()}function je(ie){M=ie,te(T),T=[],I=k.indexOf(h,M)}function le(ie){if(m.header&&!F&&L.length&&!me){var de=L[0],Ce=Object.create(null),Le=new Set(de);let Be=!1;for(let Ee=0;Ee<de.length;Ee++){let he=de[Ee];if(Ce[he=q(m.transformHeader)?m.transformHeader(he,Ee):he]){let Te,qe=Ce[he];for(;Te=he+"_"+qe,qe++,Le.has(Te););Le.add(Te),de[Ee]=Te,Ce[he]++,Be=!0,(pe=pe===null?{}:pe)[Te]=he}else Ce[he]=1,de[Ee]=he;Le.add(he)}Be&&console.warn("Duplicate headers found and renamed."),me=!0}return{data:L,errors:X,meta:{delimiter:_,linebreak:h,aborted:ae,truncated:!!ie,cursor:H+(F||0),renamedHeaders:pe}}}function xe(){P(le()),L=[],X=[]}},this.abort=function(){ae=!0},this.getCharIndex=function(){return M}}function Tt(m){var _=m.data,h=c[_.workerId],y=!1;if(_.error)h.userError(_.error,_.file);else if(_.results&&_.results.data){var P={abort:function(){y=!0,Ne(_.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:We,resume:We};if(q(h.userStep)){for(var j=0;j<_.results.data.length&&(h.userStep({data:_.results.data[j],errors:_.results.errors,meta:_.results.meta},P),!y);j++);delete _.results}else q(h.userChunk)&&(h.userChunk(_.results,P,_.file),delete _.results)}_.finished&&!y&&Ne(_.workerId,_.results)}function Ne(m,_){var h=c[m];q(h.userComplete)&&h.userComplete(_),h.terminate(),delete c[m]}function We(){throw new Error("Not implemented.")}function Ve(m){if(typeof m!="object"||m===null)return m;var _,h=Array.isArray(m)?[]:{};for(_ in m)h[_]=Ve(m[_]);return h}function be(m,_){return function(){m.apply(_,arguments)}}function q(m){return typeof m=="function"}return b.parse=function(m,_){var h=(_=_||{}).dynamicTyping||!1;if(q(h)&&(_.dynamicTypingFunction=h,h={}),_.dynamicTyping=h,_.transform=!!q(_.transform)&&_.transform,!_.worker||!b.WORKERS_SUPPORTED)return h=null,b.NODE_STREAM_INPUT,typeof m=="string"?(m=(y=>y.charCodeAt(0)!==65279?y:y.slice(1))(m),h=new(_.download?J:re)(_)):m.readable===!0&&q(m.read)&&q(m.on)?h=new ve(_):(o.File&&m instanceof File||m instanceof Object)&&(h=new R(_)),h.stream(m);(h=(()=>{var y;return!!b.WORKERS_SUPPORTED&&(y=(()=>{var P=o.URL||o.webkitURL||null,j=a.toString();return b.BLOB_URL||(b.BLOB_URL=P.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",j,")();"],{type:"text/javascript"})))})(),(y=new o.Worker(y)).onmessage=Tt,y.id=O++,c[y.id]=y)})()).userStep=_.step,h.userChunk=_.chunk,h.userComplete=_.complete,h.userError=_.error,_.step=q(_.step),_.chunk=q(_.chunk),_.complete=q(_.complete),_.error=q(_.error),delete _.worker,h.postMessage({input:m,config:_,workerId:h.id})},b.unparse=function(m,_){var h=!1,y=!0,P=",",j=`\r
`,Z='"',pe=Z+Z,me=!1,D=null,Y=!1,M=((()=>{if(typeof _=="object"){if(typeof _.delimiter!="string"||b.BAD_DELIMITERS.filter(function(F){return _.delimiter.indexOf(F)!==-1}).length||(P=_.delimiter),typeof _.quotes!="boolean"&&typeof _.quotes!="function"&&!Array.isArray(_.quotes)||(h=_.quotes),typeof _.skipEmptyLines!="boolean"&&typeof _.skipEmptyLines!="string"||(me=_.skipEmptyLines),typeof _.newline=="string"&&(j=_.newline),typeof _.quoteChar=="string"&&(Z=_.quoteChar),typeof _.header=="boolean"&&(y=_.header),Array.isArray(_.columns)){if(_.columns.length===0)throw new Error("Option columns is empty");D=_.columns}_.escapeChar!==void 0&&(pe=_.escapeChar+Z),_.escapeFormulae instanceof RegExp?Y=_.escapeFormulae:typeof _.escapeFormulae=="boolean"&&_.escapeFormulae&&(Y=/^[=+\-@\t\r].*$/)}})(),new RegExp(fe(Z),"g"));if(typeof m=="string"&&(m=JSON.parse(m)),Array.isArray(m)){if(!m.length||Array.isArray(m[0]))return ae(null,m,me);if(typeof m[0]=="object")return ae(D||Object.keys(m[0]),m,me)}else if(typeof m=="object")return typeof m.data=="string"&&(m.data=JSON.parse(m.data)),Array.isArray(m.data)&&(m.fields||(m.fields=m.meta&&m.meta.fields||D),m.fields||(m.fields=Array.isArray(m.data[0])?m.fields:typeof m.data[0]=="object"?Object.keys(m.data[0]):[]),Array.isArray(m.data[0])||typeof m.data[0]=="object"||(m.data=[m.data])),ae(m.fields||[],m.data||[],me);throw new Error("Unable to serialize unrecognized input");function ae(F,S,ee){var Q="",oe=(typeof F=="string"&&(F=JSON.parse(F)),typeof S=="string"&&(S=JSON.parse(S)),Array.isArray(F)&&0<F.length),_e=!Array.isArray(S[0]);if(oe&&y){for(var V=0;V<F.length;V++)0<V&&(Q+=P),Q+=k(F[V],V);0<S.length&&(Q+=j)}for(var L=0;L<S.length;L++){var X=(oe?F:S[L]).length,T=!1,H=oe?Object.keys(S[L]).length===0:S[L].length===0;if(ee&&!oe&&(T=ee==="greedy"?S[L].join("").trim()==="":S[L].length===1&&S[L][0].length===0),ee==="greedy"&&oe){for(var ne=[],G=0;G<X;G++){var z=_e?F[G]:G;ne.push(S[L][z])}T=ne.join("").trim()===""}if(!T){for(var I=0;I<X;I++){0<I&&!H&&(Q+=P);var se=oe&&_e?F[I]:I;Q+=k(S[L][se],I)}L<S.length-1&&(!ee||0<X&&!H)&&(Q+=j)}}return Q}function k(F,S){var ee,Q;return F==null?"":F.constructor===Date?JSON.stringify(F).slice(1,25):(Q=!1,Y&&typeof F=="string"&&Y.test(F)&&(F="'"+F,Q=!0),ee=F.toString().replace(M,pe),(Q=Q||h===!0||typeof h=="function"&&h(F,S)||Array.isArray(h)&&h[S]||((oe,_e)=>{for(var V=0;V<_e.length;V++)if(-1<oe.indexOf(_e[V]))return!0;return!1})(ee,b.BAD_DELIMITERS)||-1<ee.indexOf(P)||ee.charAt(0)===" "||ee.charAt(ee.length-1)===" ")?Z+ee+Z:ee)}},b.RECORD_SEP="",b.UNIT_SEP="",b.BYTE_ORDER_MARK="\uFEFF",b.BAD_DELIMITERS=["\r",`
`,'"',b.BYTE_ORDER_MARK],b.WORKERS_SUPPORTED=!s&&!!o.Worker,b.NODE_STREAM_INPUT=1,b.LocalChunkSize=10485760,b.RemoteChunkSize=5242880,b.DefaultDelimiter=",",b.Parser=Oe,b.ParserHandle=De,b.NetworkStreamer=J,b.FileStreamer=R,b.StringStreamer=re,b.ReadableStreamStreamer=ve,o.jQuery&&((e=o.jQuery).fn.parse=function(m){var _=m.config||{},h=[];return this.each(function(j){if(!(e(this).prop("tagName").toUpperCase()==="INPUT"&&e(this).attr("type").toLowerCase()==="file"&&o.FileReader)||!this.files||this.files.length===0)return!0;for(var Z=0;Z<this.files.length;Z++)h.push({file:this.files[Z],inputElem:this,instanceConfig:e.extend({},_)})}),y(),this;function y(){if(h.length===0)q(m.complete)&&m.complete();else{var j,Z,pe,me,D=h[0];if(q(m.before)){var Y=m.before(D.file,D.inputElem);if(typeof Y=="object"){if(Y.action==="abort")return j="AbortError",Z=D.file,pe=D.inputElem,me=Y.reason,void(q(m.error)&&m.error({name:j},Z,pe,me));if(Y.action==="skip")return void P();typeof Y.config=="object"&&(D.instanceConfig=e.extend(D.instanceConfig,Y.config))}else if(Y==="skip")return void P()}var M=D.instanceConfig.complete;D.instanceConfig.complete=function(ae){q(M)&&M(ae,D.file,D.inputElem),P()},b.parse(D.file,D.instanceConfig)}}function P(){h.splice(0,1),y()}}),r&&(o.onmessage=function(m){m=m.data,b.WORKER_ID===void 0&&m&&(b.WORKER_ID=m.workerId),typeof m.input=="string"?o.postMessage({workerId:b.WORKER_ID,results:b.parse(m.input,m.config),finished:!0}):(o.File&&m.input instanceof File||m.input instanceof Object)&&(m=b.parse(m.input,m.config))&&o.postMessage({workerId:b.WORKER_ID,results:m,finished:!0})}),(J.prototype=Object.create(C.prototype)).constructor=J,(R.prototype=Object.create(C.prototype)).constructor=R,(re.prototype=Object.create(re.prototype)).constructor=re,(ve.prototype=Object.create(C.prototype)).constructor=ve,b})});var Ot=Dt(kt());var Vt=["deleteModal"];function Lt(a,o){if(a&1){let e=w();n(0,"button",16),x("click",function(){u(e);let r=d();return f(r.showCreateForm=!0)}),n(1,"i",17),i(2,"+"),t(),i(3," Add Project "),t()}}function At(a,o){if(a&1){let e=w();n(0,"button",18),x("click",function(){u(e);let r=d();return f(r.resetForm())}),n(1,"i",17),i(2,"\u2190"),t(),i(3," Back to Projects "),t()}}function Rt(a,o){if(a&1){let e=w();n(0,"button",18),x("click",function(){u(e);let r=d();return f(r.resetEditForm())}),n(1,"i",17),i(2,"\u2190"),t(),i(3," Cancel Edit "),t()}}function Ut(a,o){if(a&1){let e=w();n(0,"button",18),x("click",function(){u(e);let r=d();return f(r.resetUserForm())}),n(1,"i",17),i(2,"\u2190"),t(),i(3," Back to Projects "),t()}}function zt(a,o){if(a&1){let e=w();n(0,"div",19)(1,"div",20)(2,"div",21)(3,"h3"),i(4,"All Projects"),t(),n(5,"span",22),i(6),t()()(),n(7,"div",20)(8,"div",21)(9,"h3"),i(10,"LOI Signed"),t(),n(11,"span",22),i(12),t()()(),n(13,"div",20)(14,"div",21)(15,"h3"),i(16,"Token Released"),t(),n(17,"span",22),i(18),t()()(),n(19,"div",20)(20,"div",21)(21,"h3"),i(22,"LL WIP"),t(),n(23,"span",23),i(24),t()()(),n(25,"div",20)(26,"div",21)(27,"h3"),i(28,"LL HO DONE"),t(),n(29,"span",22),i(30),t()()(),n(31,"div",20)(32,"div",21)(33,"h3"),i(34,"Recce Completed"),t(),n(35,"span",22),i(36),t()()(),n(37,"div",20)(38,"div",21)(39,"h3"),i(40,"Fitout WIP"),t(),n(41,"span",24),i(42),t()()(),n(43,"div",20)(44,"div",21)(45,"h3"),i(46,"Project HO Complete"),t(),n(47,"span",22),i(48),t()()(),n(49,"div",20)(50,"div",21)(51,"h3"),i(52,"Launched"),t(),n(53,"span",22),i(54),t()()(),n(55,"div",25)(56,"div",26)(57,"div",27)(58,"span",28),i(59,"Site Type"),t()(),n(60,"div",29),x("click",function(){u(e);let r=d();return f(r.filterBySiteType("BTS"))}),n(61,"span",28),i(62,"BTS"),t(),n(63,"span",22),i(64),t()(),n(65,"div",29),x("click",function(){u(e);let r=d();return f(r.filterBySiteType("Semi BTS"))}),n(66,"span",28),i(67,"Semi BTS"),t(),n(68,"span",22),i(69),t()(),n(70,"div",29),x("click",function(){u(e);let r=d();return f(r.filterBySiteType("RTM"))}),n(71,"span",28),i(72,"RTM"),t(),n(73,"span",22),i(74),t()(),n(75,"div",29),x("click",function(){u(e);let r=d();return f(r.filterBySiteType("C&E"))}),n(76,"span",28),i(77,"C & E"),t(),n(78,"span",22),i(79),t()()()()()}if(a&2){let e=d();l(6),g(e.projectStatusCounts.all_projects),l(6),g(e.projectStatusCounts.loi_signed_yes),l(6),g(e.projectStatusCounts.token_released_yes),l(6),g(e.projectStatusCounts.ll_wip),l(6),g(e.projectStatusCounts.llho_done),l(6),g(e.projectStatusCounts.recce_completed),l(6),g(e.projectStatusCounts.fitout_wip),l(6),g(e.projectStatusCounts.project_ho_complete),l(6),g(e.projectStatusCounts.launched),l(10),g(e.projectStatusCounts.site_type_bts),l(5),g(e.projectStatusCounts.site_type_semi_bts),l(5),g(e.projectStatusCounts.site_type_rtm),l(5),g(e.projectStatusCounts.site_type_c_and_e)}}function Nt(a,o){a&1&&(n(0,"div",144),i(1," Store code is required "),t())}function Wt(a,o){a&1&&(n(0,"div",144),i(1," Store name is required "),t())}function Bt(a,o){a&1&&(n(0,"div",144),i(1," Project code is required "),t())}function qt(a,o){if(a&1&&(n(0,"option",145),i(1),t()),a&2){let e=o.$implicit;p("value",e.name),l(),g(e.name)}}function Ht(a,o){a&1&&(n(0,"div",146),i(1," Please select a state. "),t())}function Gt(a,o){if(a&1&&(n(0,"option",145),i(1),t()),a&2){let e=o.$implicit;p("value",e.name),l(),g(e.name)}}function $t(a,o){a&1&&(n(0,"div",146),i(1," Please select a city. "),t())}function Kt(a,o){a&1&&(n(0,"small",135),i(1," Please select a state first to see available cities. "),t())}function Yt(a,o){a&1&&(n(0,"small",135),i(1," No cities available for selected state. "),t())}function Xt(a,o){if(a&1&&(n(0,"option",145),i(1),t()),a&2){let e=o.$implicit;p("value",e.id),l(),g(e.email)}}function Jt(a,o){if(a&1){let e=w();n(0,"div",147)(1,"div",148)(2,"div",36)(3,"label"),i(4,"User"),t(),n(5,"select",149)(6,"option",59),i(7,"Select user"),t(),v(8,Xt,2,2,"option",60),t()(),n(9,"div",36)(10,"label"),i(11,"Role"),t(),E(12,"input",150),n(13,"div",151),i(14,"Normal User"),t()(),n(15,"button",152),x("click",function(){let r=u(e).index,c=d(2);return f(c.removeUser(r))}),n(16,"i",17),i(17,"\xD7"),t()()()()}if(a&2){let e=o.index,s=d(2);p("formGroupName",e),l(8),p("ngForOf",s.availableUsers)}}function Qt(a,o){a&1&&(n(0,"div",153)(1,"div",154),E(2,"div",155),t(),n(3,"span"),i(4,"Uploading documents..."),t()())}function Zt(a,o){if(a&1&&(n(0,"div",144),i(1),t()),a&2){let e=d(2);l(),A(" ",e.uploadError," ")}}function en(a,o){if(a&1){let e=w();n(0,"div",160)(1,"div",161)(2,"span",162),i(3),t(),n(4,"div",163)(5,"span",164),i(6),t(),n(7,"span",165),i(8),t()()(),n(9,"button",166),x("click",function(){let r=u(e).index,c=d(3);return f(c.removePendingDocument(r))}),i(10," \xD7 "),t()()}if(a&2){let e=o.$implicit,s=d(3);l(3),g(s.getFileTypeIcon(e.name)),l(3),g(e.name),l(2),g(s.getFileSize(e.size))}}function tn(a,o){if(a&1&&(n(0,"div",156)(1,"h5"),i(2,"Documents to Upload:"),t(),n(3,"div",157),v(4,en,11,3,"div",158),t(),n(5,"small",159),i(6," These files will be uploaded after the project is created. "),t()()),a&2){let e=d(2);l(4),p("ngForOf",e.pendingDocuments)}}function nn(a,o){if(a&1){let e=w();n(0,"button",174),x("click",function(){u(e);let r=d().$implicit,c=d(3);return f(c.deleteDocument(r))}),i(1," \xD7 "),t()}}function on(a,o){if(a&1){let e=w();n(0,"div",169)(1,"div",161)(2,"span",162),i(3),t(),n(4,"div",163)(5,"span",164),i(6),t(),n(7,"span",170),i(8),t()()(),n(9,"div",171)(10,"button",172),x("click",function(){let r=u(e).$implicit,c=d(3);return f(c.downloadDocument(r))}),i(11," \u2B07 "),t(),v(12,nn,2,0,"button",173),t()()}if(a&2){let e=o.$implicit,s=d(3);l(3),g(s.getFileTypeIcon(e.document_name)),l(3),g(e.document_name),l(2),g(s.formatDateTime(e.created_at)),l(4),p("ngIf",s.canDelete())}}function rn(a,o){if(a&1&&(n(0,"div",167)(1,"h5"),i(2,"Uploaded Documents:"),t(),n(3,"div",157),v(4,on,13,4,"div",168),t()()),a&2){let e=d(2);l(4),p("ngForOf",e.projectDocuments)}}function an(a,o){a&1&&(n(0,"span"),i(1,"Create Project"),t())}function sn(a,o){a&1&&(n(0,"span",175),E(1,"div",176),i(2," Creating... "),t())}function ln(a,o){if(a&1&&(n(0,"div",144),i(1),t()),a&2){let e=d(2);l(),A(" ",e.submitError," ")}}function dn(a,o){if(a&1){let e=w();n(0,"div",30)(1,"div",31)(2,"div",32)(3,"h2"),i(4,"Create New Project"),t(),n(5,"p"),i(6,"Fill in the project details below"),t()(),n(7,"form",33),x("ngSubmit",function(){u(e);let r=d();return f(r.onSubmit())}),n(8,"div",34)(9,"h3"),i(10,"Basic Information"),t(),n(11,"div",35)(12,"div",36)(13,"label",37),i(14,"Store Code *"),t(),E(15,"input",38),v(16,Nt,2,0,"div",39),t(),n(17,"div",36)(18,"label",40),i(19,"Store Name *"),t(),E(20,"input",41),v(21,Wt,2,0,"div",39),t(),n(22,"div",36)(23,"label",42),i(24,"Project Code *"),t(),E(25,"input",43),v(26,Bt,2,0,"div",39),t(),n(27,"div",36)(28,"label",44),i(29,"Criticality"),t(),n(30,"select",45)(31,"option",46),i(32,"P0"),t(),n(33,"option",47),i(34,"P1"),t(),n(35,"option",48),i(36,"P2"),t()()()()(),n(37,"div",34)(38,"h3"),i(39,"Location Details"),t(),n(40,"div",35)(41,"div",36)(42,"label",49),i(43,"Zone "),n(44,"span",50),i(45," *"),t()(),n(46,"select",51)(47,"option",52),i(48,"CENTRAL"),t(),n(49,"option",53),i(50,"WEST"),t(),n(51,"option",54),i(52,"EAST"),t(),n(53,"option",55),i(54,"NORTH"),t(),n(55,"option",56),i(56,"SOUTH"),t()()(),n(57,"div",36)(58,"label",57),i(59,"State "),n(60,"span",50),i(61,"*"),t()(),n(62,"select",58),x("change",function(r){u(e);let c=d();return f(c.onStateChange(r))}),n(63,"option",59),i(64,"Select State"),t(),v(65,qt,2,2,"option",60),t(),v(66,Ht,2,0,"div",61),t(),n(67,"div",36)(68,"label",62),i(69,"City "),n(70,"span",50),i(71,"*"),t()(),n(72,"select",63)(73,"option",59),i(74,"Select City"),t(),v(75,Gt,2,2,"option",60),t(),v(76,$t,2,0,"div",61)(77,Kt,2,0,"small",64)(78,Yt,2,0,"small",64),t(),n(79,"div",36)(80,"label",65),i(81,"Site Lat/Long"),t(),E(82,"input",66),t(),n(83,"div",67)(84,"label",68),i(85,"Address"),t(),E(86,"textarea",69),t()()(),n(87,"div",34)(88,"h3"),i(89,"Site Information"),t(),n(90,"div",35)(91,"div",36)(92,"label",70),i(93,"Store Type "),n(94,"span",50),i(95," *"),t()(),n(96,"select",71)(97,"option",59),i(98,"Select store type"),t(),n(99,"option",72),i(100,"Dark Store"),t(),n(101,"option",73),i(102,"Super Store"),t(),n(103,"option",74),i(104,"Cafe"),t(),n(105,"option",75),i(106,"Relocation"),t()()(),n(107,"div",36)(108,"label",76),i(109,"Site Type"),n(110,"span",50),i(111," *"),t()(),n(112,"select",77)(113,"option",59),i(114,"Select site type"),t(),n(115,"option",78),i(116,"BTS"),t(),n(117,"option",79),i(118,"Semi BTS"),t(),n(119,"option",80),i(120,"RTM"),t(),n(121,"option",81),i(122,"C&E"),t()()(),n(123,"div",36)(124,"label",82),i(125,"Project Status"),t(),n(126,"select",83)(127,"option",84),i(128,"LL WIP"),t(),n(129,"option",85),i(130,"Fitout WIP"),t(),n(131,"option",86),i(132,"LLHO DONE"),t(),n(133,"option",87),i(134,"Project HO Complete"),t(),n(135,"option",88),i(136,"LAUNCHED"),t(),n(137,"option",89),i(138,"Preinwarding"),t()()(),n(139,"div",36)(140,"label",90),i(141,"Property Area (Sqft)"),t(),E(142,"input",91),t(),n(143,"div",36)(144,"label",92),i(145,"Actual Carpet Area as per Recee (sqft)"),t(),E(146,"input",93),t()()(),n(147,"div",34)(148,"h3"),i(149,"Important Dates"),t(),n(150,"div",35)(151,"div",36)(152,"label",94),i(153,"LL HO Date"),t(),E(154,"input",95),t(),n(155,"div",36)(156,"label",96),i(157,"Launch Date"),t(),E(158,"input",97),t(),n(159,"div",36)(160,"label",98),i(161,"Project Handover Date"),t(),E(162,"input",99),t(),n(163,"div",36)(164,"label",100),i(165,"LOI Release Date"),t(),E(166,"input",101),t(),n(167,"div",36)(168,"label",102),i(169,"Token Release Date"),t(),E(170,"input",103),t(),n(171,"div",36)(172,"label",104),i(173,"Recee Date"),t(),E(174,"input",105),t()()(),n(175,"div",34)(176,"h3"),i(177,"Status Information"),t(),n(178,"div",35)(179,"div",36)(180,"label",106),i(181,"Recee Status"),t(),n(182,"select",107)(183,"option",108),i(184,"Completed"),t(),n(185,"option",109),i(186,"WIP"),t(),n(187,"option",110),i(188,"Not Started"),t(),n(189,"option",111),i(190,"NA"),t()()(),n(191,"div",36)(192,"label",112),i(193,"LOI Signed"),t(),n(194,"select",113)(195,"option",114),i(196,"Yes"),t(),n(197,"option",115),i(198,"No"),t()()(),n(199,"div",67)(200,"label",116),i(201,"Layout"),t(),n(202,"select",117)(203,"option",108),i(204,"Completed"),t(),n(205,"option",109),i(206,"WIP"),t(),n(207,"option",110),i(208,"Not Started"),t(),n(209,"option",111),i(210,"NA"),t()()(),n(211,"div",36)(212,"label",118),i(213,"Token Released"),t(),n(214,"select",119)(215,"option",59),i(216,"Select"),t(),n(217,"option",120),i(218,"Yes"),t(),n(219,"option",115),i(220,"No"),t()()(),n(221,"div",36)(222,"label",121),i(223,"Power Availability (kVA)"),t(),n(224,"select",122)(225,"option",59),i(226,"Select"),t(),n(227,"option",123),i(228,"45 KVA Available"),t(),n(229,"option",124),i(230,"Power Connection Not available"),t(),n(231,"option",125),i(232,">35 KVA Available"),t(),n(233,"option",126),i(234,"<25 KVA Available"),t(),n(235,"option",127),i(236,"<5 KVA Available"),t()()()()(),n(237,"div",34)(238,"h3"),i(239,"Assigned Users"),t(),n(240,"div",128)(241,"div",129)(242,"button",130),x("click",function(){u(e);let r=d();return f(r.addUser())}),n(243,"i",17),i(244,"+"),t(),i(245," Add User "),t()(),n(246,"div",131),v(247,Jt,18,2,"div",132),t()()(),n(248,"div",34)(249,"h3"),i(250,"Documents"),t(),n(251,"div",36)(252,"label",133),i(253,"Upload Document"),t(),n(254,"input",134),x("change",function(r){u(e);let c=d();return f(c.onDocumentFileSelected(r))}),t(),n(255,"small",135),i(256," Allowed types: PDF, DOC, DOCX, XLS, XLSX, TXT, JPG, JPEG, PNG (Max 10MB) "),t()(),v(257,Qt,5,0,"div",136)(258,Zt,2,1,"div",39)(259,tn,7,1,"div",137)(260,rn,5,1,"div",138),t(),n(261,"div",139)(262,"button",140),x("click",function(){u(e);let r=d();return f(r.resetForm())}),i(263," Cancel "),t(),n(264,"button",141),v(265,an,2,0,"span",142)(266,sn,3,0,"span",143),t()(),v(267,ln,2,1,"div",39),t()()()}if(a&2){let e=d();l(7),p("formGroup",e.projectForm),l(8),ce("error",e.isFieldInvalid("store_code")),l(),p("ngIf",e.isFieldInvalid("store_code")),l(4),ce("error",e.isFieldInvalid("store_name")),l(),p("ngIf",e.isFieldInvalid("store_name")),l(4),ce("error",e.isFieldInvalid("project_code")),l(),p("ngIf",e.isFieldInvalid("project_code")),l(36),ce("is-invalid",e.isFieldInvalid("state")),l(3),p("ngForOf",e.statesList),l(),p("ngIf",e.isFieldInvalid("state")),l(6),ce("is-invalid",e.isFieldInvalid("city")),p("disabled",!e.selectedState||e.filteredCitiesList.length===0),l(3),p("ngForOf",e.filteredCitiesList),l(),p("ngIf",e.isFieldInvalid("city")),l(),p("ngIf",!e.selectedState),l(),p("ngIf",e.selectedState&&e.filteredCitiesList.length===0),l(169),p("ngForOf",e.assignedUsersArray.controls),l(7),p("disabled",e.uploadingDocument),l(3),p("ngIf",e.uploadingDocument),l(),p("ngIf",e.uploadError),l(),p("ngIf",e.pendingDocuments.length>0),l(),p("ngIf",e.projectDocuments.length>0),l(4),p("disabled",e.projectForm.invalid||e.isSubmitting),l(),p("ngIf",!e.isSubmitting),l(),p("ngIf",e.isSubmitting),l(),p("ngIf",e.submitError)}}function cn(a,o){a&1&&(n(0,"div",144),i(1," Store code is required "),t())}function pn(a,o){a&1&&(n(0,"div",144),i(1," Store name is required "),t())}function mn(a,o){a&1&&(n(0,"div",144),i(1," Project code is required "),t())}function _n(a,o){if(a&1&&(n(0,"option",145),i(1),t()),a&2){let e=o.$implicit;p("value",e.name),l(),g(e.name)}}function un(a,o){a&1&&(n(0,"div",146),i(1," Please select a state. "),t())}function fn(a,o){if(a&1){let e=w();n(0,"div",36)(1,"label",225),i(2,"State "),n(3,"span",50),i(4,"*"),t()(),n(5,"select",226),x("change",function(r){u(e);let c=d(2);return f(c.onEditStateChange(r))}),n(6,"option",59),i(7,"Select State"),t(),v(8,_n,2,2,"option",60),t(),v(9,un,2,0,"div",61),t()}if(a&2){let e=d(2);l(5),ce("is-invalid",e.isFieldInvalid("state",e.editProjectForm)),l(3),p("ngForOf",e.statesList),l(),p("ngIf",e.isFieldInvalid("state",e.editProjectForm))}}function gn(a,o){if(a&1&&(n(0,"option",145),i(1),t()),a&2){let e=o.$implicit;p("value",e.name),l(),g(e.name)}}function xn(a,o){a&1&&(n(0,"div",146),i(1," Please select a city. "),t())}function hn(a,o){a&1&&(n(0,"small",135),i(1," Please select a state first to see available cities. "),t())}function vn(a,o){a&1&&(n(0,"small",135),i(1," No cities available for selected state. "),t())}function Cn(a,o){if(a&1&&(n(0,"div",36)(1,"label",227),i(2,"City "),n(3,"span",50),i(4,"*"),t()(),n(5,"select",228)(6,"option",59),i(7,"Select City"),t(),v(8,gn,2,2,"option",60),t(),v(9,xn,2,0,"div",61)(10,hn,2,0,"small",64)(11,vn,2,0,"small",64),t()),a&2){let e=d(2);l(5),ce("is-invalid",e.isFieldInvalid("city",e.editProjectForm)),p("disabled",!e.selectedState||e.filteredCitiesList.length===0),l(3),p("ngForOf",e.filteredCitiesList),l(),p("ngIf",e.isFieldInvalid("city",e.editProjectForm)),l(),p("ngIf",!e.selectedState),l(),p("ngIf",e.selectedState&&e.filteredCitiesList.length===0)}}function bn(a,o){if(a&1&&(n(0,"option",231),i(1),t()),a&2){let e,s=o.$implicit,r=d().$implicit;p("value",s.id)("selected",((e=r.get("user_id"))==null?null:e.value)==s.id),l(),A(" ",s.email," ")}}function Pn(a,o){if(a&1&&(n(0,"small",232),i(1),t()),a&2){let e,s=d().$implicit;l(),A(" Current: ",(e=s.get("user_id"))==null?null:e.value," ")}}function yn(a,o){if(a&1){let e=w();n(0,"div",147)(1,"div",148)(2,"div",36)(3,"label"),i(4,"User"),t(),n(5,"select",149)(6,"option",59),i(7,"Select user"),t(),v(8,bn,2,3,"option",229),t(),v(9,Pn,2,1,"small",230),t(),n(10,"div",36)(11,"label"),i(12,"Role"),t(),E(13,"input",150),n(14,"div",151),i(15,"Normal User"),t()(),n(16,"button",152),x("click",function(){let r=u(e).index,c=d(2);return f(c.removeUserFromEdit(r))}),n(17,"i",17),i(18,"\xD7"),t()()()()}if(a&2){let e,s=o.$implicit,r=o.index,c=d(2);p("formGroupName",r),l(8),p("ngForOf",c.availableUsers),l(),p("ngIf",(e=s.get("user_id"))==null?null:e.value)}}function wn(a,o){if(a&1){let e=w();n(0,"li")(1,"a",234),i(2),t(),n(3,"button",152),x("click",function(){let r=u(e).index,c=d(3);return f(c.removeDocument(r))}),i(4,"\u274C Remove"),t()()}if(a&2){let e,s,r=o.$implicit;l(),p("href",(e=r.get("file_path"))==null?null:e.value,ye),l(),A(" ",(s=r.get("document_name"))==null?null:s.value," ")}}function Sn(a,o){if(a&1&&(n(0,"div",157)(1,"h5"),i(2,"Uploaded Documents"),t(),n(3,"ul"),v(4,wn,5,2,"li",233),t()()),a&2){let e=d(2);l(4),p("ngForOf",e.documentsArray.controls)}}function En(a,o){a&1&&(n(0,"span"),i(1,"Update Project"),t())}function Mn(a,o){a&1&&(n(0,"span",175),E(1,"div",176),i(2," Updating... "),t())}function kn(a,o){if(a&1&&(n(0,"div",144),i(1),t()),a&2){let e=d(2);l(),A(" ",e.submitError," ")}}function On(a,o){if(a&1){let e=w();n(0,"div",30)(1,"div",31)(2,"div",32)(3,"h2"),i(4,"Edit Project"),t(),n(5,"p"),i(6,"Update project information"),t()(),n(7,"form",33),x("ngSubmit",function(){u(e);let r=d();return f(r.updateProject())}),n(8,"div",34)(9,"h3"),i(10,"Basic Information"),t(),n(11,"div",35)(12,"div",36)(13,"label",177),i(14,"Store Code *"),t(),E(15,"input",178),v(16,cn,2,0,"div",39),t(),n(17,"div",36)(18,"label",179),i(19,"Store Name *"),t(),E(20,"input",180),v(21,pn,2,0,"div",39),t(),n(22,"div",36)(23,"label",181),i(24,"Project Code *"),t(),E(25,"input",182),v(26,mn,2,0,"div",39),t(),n(27,"div",36)(28,"label",183),i(29,"Criticality"),t(),n(30,"select",184)(31,"option",59),i(32,"Select Criticality"),t(),n(33,"option",46),i(34,"P0"),t(),n(35,"option",47),i(36,"P1"),t(),n(37,"option",48),i(38,"P2"),t()()()()(),n(39,"div",34)(40,"h3"),i(41,"Location Details"),t(),n(42,"div",35)(43,"div",36)(44,"label",49),i(45,"Zone"),t(),E(46,"input",185),t(),v(47,fn,10,4,"div",186)(48,Cn,12,7,"div",186),n(49,"div",36)(50,"label",187),i(51,"Site Lat/Long"),t(),E(52,"input",188),t(),n(53,"div",67)(54,"label",189),i(55,"Address"),t(),E(56,"textarea",190),t()()(),n(57,"div",34)(58,"h3"),i(59,"Site Information"),t(),n(60,"div",35)(61,"div",36)(62,"label",191),i(63,"Store Type"),t(),n(64,"select",192)(65,"option",59),i(66,"Select store type"),t(),n(67,"option",72),i(68,"Dark Store"),t(),n(69,"option",73),i(70,"Super Store"),t(),n(71,"option",74),i(72,"Cafe"),t(),n(73,"option",75),i(74,"Relocation"),t()()(),n(75,"div",36)(76,"label",193),i(77,"Site Type"),t(),n(78,"select",194)(79,"option",59),i(80,"Select site type"),t(),n(81,"option",78),i(82,"BTS"),t(),n(83,"option",79),i(84,"Semi BTS"),t(),n(85,"option",80),i(86,"RTM"),t(),n(87,"option",81),i(88,"C&E"),t()()(),n(89,"div",36)(90,"label",195),i(91,"Project Status"),t(),n(92,"select",196)(93,"option",84),i(94,"LL WIP"),t(),n(95,"option",85),i(96,"Fitout WIP"),t(),n(97,"option",108),i(98,"Completed"),t()()(),n(99,"div",36)(100,"label",197),i(101,"Property Area (Sqft)"),t(),E(102,"input",198),t()()(),n(103,"div",34)(104,"h3"),i(105,"Important Dates"),t(),n(106,"div",35)(107,"div",36)(108,"label",199),i(109,"LL HO Date"),t(),E(110,"input",200),t(),n(111,"div",36)(112,"label",201),i(113,"Launch Date"),t(),E(114,"input",202),t(),n(115,"div",36)(116,"label",203),i(117,"Project Handover Date"),t(),E(118,"input",204),t(),n(119,"div",36)(120,"label",205),i(121,"LOI Release Date"),t(),E(122,"input",206),t(),n(123,"div",36)(124,"label",207),i(125,"Token Release Date"),t(),E(126,"input",208),t(),n(127,"div",36)(128,"label",209),i(129,"Recee Date"),t(),E(130,"input",210),t()()(),n(131,"div",34)(132,"h3"),i(133,"Status Information"),t(),n(134,"div",35)(135,"div",36)(136,"label",211),i(137,"Recee Status"),t(),E(138,"input",212),t(),n(139,"div",36)(140,"label",213),i(141,"LOI Signed Status"),t(),n(142,"select",214)(143,"option",114),i(144,"Yes"),t(),n(145,"option",115),i(146,"No"),t()()(),n(147,"div",36)(148,"label",215),i(149,"Actual Carpet Area as per Recee (sqft)"),t(),E(150,"input",216),t(),n(151,"div",36)(152,"label",217),i(153,"Token Released"),t(),n(154,"select",218)(155,"option",59),i(156,"Select"),t(),n(157,"option",120),i(158,"Yes"),t(),n(159,"option",115),i(160,"No"),t()()(),n(161,"div",36)(162,"label",219),i(163,"Power Availability (kVA)"),t(),n(164,"select",220)(165,"option",59),i(166,"Select"),t(),n(167,"option",123),i(168,"45 KVA Available"),t(),n(169,"option",124),i(170,"Power Connection Not available"),t(),n(171,"option",125),i(172,">35 KVA Available"),t(),n(173,"option",126),i(174,"<25 KVA Available"),t(),n(175,"option",127),i(176,"<5 KVA Available"),t()()(),n(177,"div",67)(178,"label",221),i(179,"Layout"),t(),n(180,"select",222)(181,"option",108),i(182,"Completed"),t(),n(183,"option",109),i(184,"WIP"),t(),n(185,"option",110),i(186,"Not Started"),t(),n(187,"option",111),i(188,"NA"),t()()()()(),n(189,"div",34)(190,"h3"),i(191,"Assigned Users"),t(),n(192,"div",128)(193,"div",129)(194,"button",130),x("click",function(){u(e);let r=d();return f(r.addUserToEdit())}),n(195,"i",17),i(196,"+"),t(),i(197," Add User "),t()(),n(198,"div",131),v(199,yn,19,3,"div",132),t()()(),n(200,"div",36)(201,"label"),i(202,"Upload Document"),t(),n(203,"input",223),x("change",function(r){u(e);let c=d();return f(c.onDocumentFileSelected(r))}),t()(),v(204,Sn,5,1,"div",224),n(205,"div",139)(206,"button",140),x("click",function(){u(e);let r=d();return f(r.resetEditForm())}),i(207," Cancel "),t(),n(208,"button",141),v(209,En,2,0,"span",142)(210,Mn,3,0,"span",143),t()(),v(211,kn,2,1,"div",39),t()()()}if(a&2){let e=d();l(7),p("formGroup",e.editProjectForm),l(8),ce("error",e.isFieldInvalid("store_code",e.editProjectForm)),l(),p("ngIf",e.isFieldInvalid("store_code",e.editProjectForm)),l(4),ce("error",e.isFieldInvalid("store_name",e.editProjectForm)),l(),p("ngIf",e.isFieldInvalid("store_name",e.editProjectForm)),l(4),ce("error",e.isFieldInvalid("project_code",e.editProjectForm)),l(),p("ngIf",e.isFieldInvalid("project_code",e.editProjectForm)),l(21),p("ngIf",e.showEditForm),l(),p("ngIf",e.showEditForm),l(151),p("ngForOf",e.editAssignedUsersArray.controls),l(5),p("ngIf",e.documentsArray.length>0),l(4),p("disabled",e.editProjectForm.invalid||e.isSubmitting),l(),p("ngIf",!e.isSubmitting),l(),p("ngIf",e.isSubmitting),l(),p("ngIf",e.submitError)}}function jn(a,o){a&1&&(n(0,"div",144),i(1," Valid email is required "),t())}function Tn(a,o){a&1&&(n(0,"div",144),i(1," Password is required "),t())}function In(a,o){if(a&1&&(n(0,"span"),i(1),t()),a&2){let e=d(2);l(),g(e.selectedUser?"Update User":"Create User")}}function Dn(a,o){if(a&1&&(n(0,"span",175),E(1,"div",176),i(2),t()),a&2){let e=d(2);l(2),A(" ",e.selectedUser?"Updating...":"Creating..."," ")}}function Fn(a,o){if(a&1&&(n(0,"div",144),i(1),t()),a&2){let e=d(2);l(),A(" ",e.submitError," ")}}function Vn(a,o){if(a&1){let e=w();n(0,"div",30)(1,"div",31)(2,"div",32)(3,"h2"),i(4),t(),n(5,"p"),i(6),t()(),n(7,"form",33),x("ngSubmit",function(){u(e);let r=d();return f(r.saveUser())}),n(8,"div",34)(9,"h3"),i(10,"User Information"),t(),n(11,"div",35)(12,"div",36)(13,"label",235),i(14,"Email *"),t(),E(15,"input",236),v(16,jn,2,0,"div",39),t(),n(17,"div",36)(18,"label",237),i(19),t(),E(20,"input",238),v(21,Tn,2,0,"div",39),t(),n(22,"div",36)(23,"label",239),i(24,"Role *"),t(),n(25,"select",240)(26,"option",241),i(27,"Normal User"),t(),n(28,"option",242),i(29,"Admin"),t(),n(30,"option",243),i(31,"Super Admin"),t(),n(32,"option",244),i(33,"Editor"),t(),n(34,"option",245),i(35,"Associate"),t(),n(36,"option",246),i(37,"Ground Team"),t()()()()(),n(38,"div",139)(39,"button",140),x("click",function(){u(e);let r=d();return f(r.resetUserForm())}),i(40," Cancel "),t(),n(41,"button",141),v(42,In,2,1,"span",142)(43,Dn,3,1,"span",143),t()(),v(44,Fn,2,1,"div",39),t()()()}if(a&2){let e=d();l(4),g(e.selectedUser?"Edit User":"Create New User"),l(2),g(e.selectedUser?"Update user information":"Add a new user to the system"),l(),p("formGroup",e.userForm),l(8),ce("error",e.isFieldInvalid("email",e.userForm)),l(),p("ngIf",e.isFieldInvalid("email",e.userForm)),l(3),A("Password ",e.selectedUser?"":"*",""),l(),ce("error",e.isFieldInvalid("password",e.userForm)),p("placeholder",e.selectedUser?"Leave blank to keep current password":"Enter password"),l(),p("ngIf",e.isFieldInvalid("password",e.userForm)),l(20),p("disabled",e.userForm.invalid||e.isSubmitting),l(),p("ngIf",!e.isSubmitting),l(),p("ngIf",e.isSubmitting),l(),p("ngIf",e.submitError)}}function Ln(a,o){if(a&1){let e=w();n(0,"button",281),x("click",function(){u(e);let r=d(2);return f(r.clearFilter("store_code"))}),i(1," \xD7 "),t()}}function An(a,o){if(a&1){let e=w();n(0,"button",281),x("click",function(){u(e);let r=d(2);return f(r.clearFilter("store_name"))}),i(1," \xD7 "),t()}}function Rn(a,o){if(a&1){let e=w();n(0,"button",281),x("click",function(){u(e);let r=d(2);return f(r.clearFilter("project_code"))}),i(1," \xD7 "),t()}}function Un(a,o){if(a&1){let e=w();n(0,"button",281),x("click",function(){u(e);let r=d(2);return f(r.clearFilter("zone"))}),i(1," \xD7 "),t()}}function zn(a,o){if(a&1){let e=w();n(0,"button",281),x("click",function(){u(e);let r=d(2);return f(r.clearFilter("city"))}),i(1," \xD7 "),t()}}function Nn(a,o){if(a&1&&(n(0,"option",145),i(1),t()),a&2){let e=o.$implicit;p("value",e),l(),g(e)}}function Wn(a,o){if(a&1){let e=w();n(0,"button",281),x("click",function(){u(e);let r=d(2);return f(r.clearFilter("state"))}),i(1," \xD7 "),t()}}function Bn(a,o){if(a&1){let e=w();n(0,"button",281),x("click",function(){u(e);let r=d(2);return f(r.clearFilter("site_lat_long"))}),i(1," \xD7 "),t()}}function qn(a,o){if(a&1){let e=w();n(0,"button",281),x("click",function(){u(e);let r=d(2);return f(r.clearFilter("store_type"))}),i(1," \xD7 "),t()}}function Hn(a,o){if(a&1){let e=w();n(0,"button",281),x("click",function(){u(e);let r=d(2);return f(r.clearFilter("site_type"))}),i(1," \xD7 "),t()}}function Gn(a,o){if(a&1){let e=w();n(0,"button",281),x("click",function(){u(e);let r=d(2);return f(r.clearFilter("project_status"))}),i(1," \xD7 "),t()}}function $n(a,o){if(a&1){let e=w();n(0,"button",281),x("click",function(){u(e);let r=d(2);return f(r.clearFilter("ll_ho_date"))}),i(1," \xD7 "),t()}}function Kn(a,o){if(a&1){let e=w();n(0,"button",281),x("click",function(){u(e);let r=d(2);return f(r.clearFilter("launch_date"))}),i(1," \xD7 "),t()}}function Yn(a,o){if(a&1){let e=w();n(0,"button",281),x("click",function(){u(e);let r=d(2);return f(r.clearFilter("project_handover_date"))}),i(1," \xD7 "),t()}}function Xn(a,o){if(a&1){let e=w();n(0,"button",281),x("click",function(){u(e);let r=d(2);return f(r.clearFilter("layout"))}),i(1," \xD7 "),t()}}function Jn(a,o){if(a&1){let e=w();n(0,"button",281),x("click",function(){u(e);let r=d(2);return f(r.clearFilter("token_released"))}),i(1," \xD7 "),t()}}function Qn(a,o){if(a&1){let e=w();n(0,"button",281),x("click",function(){u(e);let r=d(2);return f(r.clearFilter("criticality"))}),i(1," \xD7 "),t()}}function Zn(a,o){if(a&1){let e=w();n(0,"button",281),x("click",function(){u(e);let r=d(2);return f(r.clearFilter("address"))}),i(1," \xD7 "),t()}}function ei(a,o){if(a&1){let e=w();n(0,"button",281),x("click",function(){u(e);let r=d(2);return f(r.clearFilter("created_by"))}),i(1," \xD7 "),t()}}function ti(a,o){if(a&1){let e=w();n(0,"button",281),x("click",function(){u(e);let r=d(2);return f(r.clearFilter("recee_status"))}),i(1," \xD7 "),t()}}function ni(a,o){a&1&&E(0,"th")}function ii(a,o){a&1&&(n(0,"th"),i(1,"Actions"),t())}function oi(a,o){if(a&1){let e=w();n(0,"button",286),x("click",function(){u(e);let r=d(2).$implicit,c=d(2);return f(c.editProject(r))}),i(1,"\u270F\uFE0F"),t()}}function ri(a,o){if(a&1){let e=w();n(0,"button",287),x("click",function(){u(e);let r=d(2).$implicit,c=d(2);return f(c.confirmDeleteProject(r))}),i(1,"\u{1F5D1}\uFE0F"),t()}}function ai(a,o){if(a&1){let e=w();n(0,"td")(1,"button",283),x("click",function(){u(e);let r=d().$implicit,c=d(2);return f(c.showProjectDetails(r))}),i(2,"\u{1F441}\uFE0F"),t(),v(3,oi,2,0,"button",284)(4,ri,2,0,"button",285),t()}if(a&2){let e=d(3);l(3),p("ngIf",e.canEdit()),l(),p("ngIf",e.canDelete())}}function si(a,o){if(a&1){let e=w();n(0,"tr",282),x("dblclick",function(r){let c=u(e).$implicit,O=d(2);return f(O.onRowDoubleClick(r,c))}),n(1,"td"),i(2),t(),n(3,"td"),i(4),t(),n(5,"td"),i(6),t(),n(7,"td"),i(8),t(),n(9,"td"),i(10),t(),n(11,"td"),i(12),t(),n(13,"td"),i(14),t(),n(15,"td"),i(16),t(),n(17,"td"),i(18),t(),n(19,"td"),i(20),t(),n(21,"td"),i(22),ue(23,"date"),t(),n(24,"td"),i(25),ue(26,"date"),t(),n(27,"td"),i(28),ue(29,"date"),t(),n(30,"td"),i(31),t(),n(32,"td"),i(33),t(),n(34,"td"),i(35),t(),n(36,"td"),i(37),t(),n(38,"td"),i(39),ue(40,"slice"),t(),n(41,"td"),i(42),t(),n(43,"td"),i(44),ue(45,"date"),t(),n(46,"td"),i(47),t(),v(48,ai,5,2,"td",142),t()}if(a&2){let e=o.$implicit,s=d(2);l(2),g(e.store_code),l(2),g(e.store_name),l(2),g(e.project_code),l(2),g(e.zone||""),l(2),g(e.city||""),l(2),g(e.state||""),l(2),g(e.site_lat_long||""),l(2),g(e.store_type||""),l(2),g(e.site_type||""),l(2),g(e.project_status||""),l(2),g(e.ll_ho_date?Ie(23,22,e.ll_ho_date):""),l(3),g(e.launch_date?Ie(26,24,e.launch_date):""),l(3),g(e.project_handover_date?Ie(29,26,e.project_handover_date):""),l(3),g(e.layout||""),l(2),g(e.token_released||""),l(2),g(e.criticality||""),l(2),g(e.address||""),l(2),g(e.created_by_email?Ze(40,28,e.created_by_email,0,e.created_by_email.indexOf("@")):""),l(3),g(e.recee_status||""),l(2),g(e.created_at?Ie(45,32,e.created_at):""),l(3),g(e.tasks_count||0),l(),p("ngIf",s.canEdit()||s.canDelete()||s.canView())}}function li(a,o){a&1&&(n(0,"tr")(1,"td",288),i(2,"No projects found"),t()())}function di(a,o){if(a&1){let e=w();n(0,"div",247)(1,"div",248)(2,"div",249)(3,"input",250),B("ngModelChange",function(r){u(e);let c=d();return W(c.searchTerm,r)||(c.searchTerm=r),f(r)}),x("ngModelChange",function(){u(e);let r=d();return f(r.filterProjects())}),t(),n(4,"i",251),i(5,"\u{1F50D}"),t()()(),n(6,"div",252)(7,"div",253)(8,"h3"),i(9),t(),n(10,"div",254)(11,"button",255),x("click",function(){u(e);let r=d();return f(r.clearAllFilters())}),n(12,"i",17),i(13,"\u{1F5D1}\uFE0F"),t(),i(14," Clear Filters "),t()()(),n(15,"div",256)(16,"table",257)(17,"thead")(18,"tr",258)(19,"th")(20,"input",259),x("input",function(){u(e);let r=d();return f(r.applyColumnFilter())}),B("ngModelChange",function(r){u(e);let c=d();return W(c.filters.store_code,r)||(c.filters.store_code=r),f(r)}),t(),v(21,Ln,2,0,"button",260),t(),n(22,"th")(23,"input",261),x("input",function(){u(e);let r=d();return f(r.applyColumnFilter())}),B("ngModelChange",function(r){u(e);let c=d();return W(c.filters.store_name,r)||(c.filters.store_name=r),f(r)}),t(),v(24,An,2,0,"button",260),t(),n(25,"th")(26,"input",262),x("input",function(){u(e);let r=d();return f(r.applyColumnFilter())}),B("ngModelChange",function(r){u(e);let c=d();return W(c.filters.project_code,r)||(c.filters.project_code=r),f(r)}),t(),v(27,Rn,2,0,"button",260),t(),n(28,"th")(29,"select",263),x("change",function(){u(e);let r=d();return f(r.applyColumnFilter())}),B("ngModelChange",function(r){u(e);let c=d();return W(c.filters.zone,r)||(c.filters.zone=r),f(r)}),n(30,"option",59),i(31,"All Zones"),t(),n(32,"option",52),i(33,"CENTRAL"),t(),n(34,"option",53),i(35,"WEST"),t(),n(36,"option",54),i(37,"EAST"),t(),n(38,"option",55),i(39,"NORTH"),t(),n(40,"option",56),i(41,"SOUTH"),t()(),v(42,Un,2,0,"button",260),t(),n(43,"th")(44,"input",264),x("input",function(){u(e);let r=d();return f(r.applyColumnFilter())}),B("ngModelChange",function(r){u(e);let c=d();return W(c.filters.city,r)||(c.filters.city=r),f(r)}),t(),v(45,zn,2,0,"button",260),t(),n(46,"th")(47,"select",265),x("change",function(){u(e);let r=d();return f(r.applyColumnFilter())}),B("ngModelChange",function(r){u(e);let c=d();return W(c.filters.state,r)||(c.filters.state=r),f(r)}),n(48,"option",59),i(49,"All States"),t(),v(50,Nn,2,2,"option",60),t(),v(51,Wn,2,0,"button",260),t(),n(52,"th")(53,"input",266),x("input",function(){u(e);let r=d();return f(r.applyColumnFilter())}),B("ngModelChange",function(r){u(e);let c=d();return W(c.filters.site_lat_long,r)||(c.filters.site_lat_long=r),f(r)}),t(),v(54,Bn,2,0,"button",260),t(),n(55,"th")(56,"select",267),x("change",function(){u(e);let r=d();return f(r.applyColumnFilter())}),B("ngModelChange",function(r){u(e);let c=d();return W(c.filters.store_type,r)||(c.filters.store_type=r),f(r)}),n(57,"option",59),i(58,"All Store Types"),t(),n(59,"option",72),i(60,"Dark Store"),t(),n(61,"option",73),i(62,"Super Store"),t(),n(63,"option",74),i(64,"Cafe"),t(),n(65,"option",75),i(66,"Relocation"),t()(),v(67,qn,2,0,"button",260),t(),n(68,"th")(69,"select",268),x("change",function(){u(e);let r=d();return f(r.applyColumnFilter())}),B("ngModelChange",function(r){u(e);let c=d();return W(c.filters.site_type,r)||(c.filters.site_type=r),f(r)}),n(70,"option",59),i(71,"All Site Types"),t(),n(72,"option",78),i(73,"BTS"),t(),n(74,"option",79),i(75,"Semi BTS"),t(),n(76,"option",80),i(77,"RTM"),t(),n(78,"option",81),i(79,"C&E"),t()(),v(80,Hn,2,0,"button",260),t(),n(81,"th")(82,"select",269),x("change",function(){u(e);let r=d();return f(r.applyColumnFilter())}),B("ngModelChange",function(r){u(e);let c=d();return W(c.filters.project_status,r)||(c.filters.project_status=r),f(r)}),n(83,"option",59),i(84,"All Status"),t(),n(85,"option",84),i(86,"LL WIP"),t(),n(87,"option",85),i(88,"Fitout WIP"),t(),n(89,"option",86),i(90,"LLHO DONE"),t(),n(91,"option",87),i(92,"Project HO Complete"),t(),n(93,"option",88),i(94,"LAUNCHED"),t()(),v(95,Gn,2,0,"button",260),t(),n(96,"th")(97,"input",270),x("change",function(){u(e);let r=d();return f(r.applyColumnFilter())}),B("ngModelChange",function(r){u(e);let c=d();return W(c.filters.ll_ho_date,r)||(c.filters.ll_ho_date=r),f(r)}),t(),v(98,$n,2,0,"button",260),t(),n(99,"th")(100,"input",271),x("change",function(){u(e);let r=d();return f(r.applyColumnFilter())}),B("ngModelChange",function(r){u(e);let c=d();return W(c.filters.launch_date,r)||(c.filters.launch_date=r),f(r)}),t(),v(101,Kn,2,0,"button",260),t(),n(102,"th")(103,"input",272),x("change",function(){u(e);let r=d();return f(r.applyColumnFilter())}),B("ngModelChange",function(r){u(e);let c=d();return W(c.filters.project_handover_date,r)||(c.filters.project_handover_date=r),f(r)}),t(),v(104,Yn,2,0,"button",260),t(),n(105,"th")(106,"select",273),x("change",function(){u(e);let r=d();return f(r.applyColumnFilter())}),B("ngModelChange",function(r){u(e);let c=d();return W(c.filters.layout,r)||(c.filters.layout=r),f(r)}),n(107,"option",59),i(108,"All Layouts"),t(),n(109,"option",108),i(110,"Completed"),t(),n(111,"option",109),i(112,"WIP"),t(),n(113,"option",110),i(114,"Not Started"),t(),n(115,"option",111),i(116,"NA"),t()(),v(117,Xn,2,0,"button",260),t(),n(118,"th")(119,"select",274),x("change",function(){u(e);let r=d();return f(r.applyColumnFilter())}),B("ngModelChange",function(r){u(e);let c=d();return W(c.filters.token_released,r)||(c.filters.token_released=r),f(r)}),n(120,"option",59),i(121,"All"),t(),n(122,"option",120),i(123,"Yes"),t(),n(124,"option",115),i(125,"No"),t()(),v(126,Jn,2,0,"button",260),t(),n(127,"th")(128,"select",275),x("change",function(){u(e);let r=d();return f(r.applyColumnFilter())}),B("ngModelChange",function(r){u(e);let c=d();return W(c.filters.criticality,r)||(c.filters.criticality=r),f(r)}),n(129,"option",59),i(130,"All Criticality"),t(),n(131,"option",46),i(132,"P0"),t(),n(133,"option",47),i(134,"P1"),t(),n(135,"option",48),i(136,"P2"),t()(),v(137,Qn,2,0,"button",260),t(),n(138,"th")(139,"input",276),x("input",function(){u(e);let r=d();return f(r.applyColumnFilter())}),B("ngModelChange",function(r){u(e);let c=d();return W(c.filters.address,r)||(c.filters.address=r),f(r)}),t(),v(140,Zn,2,0,"button",260),t(),n(141,"th")(142,"input",277),x("input",function(){u(e);let r=d();return f(r.applyColumnFilter())}),B("ngModelChange",function(r){u(e);let c=d();return W(c.filters.created_by,r)||(c.filters.created_by=r),f(r)}),t(),v(143,ei,2,0,"button",260),t(),n(144,"th")(145,"input",278),x("input",function(){u(e);let r=d();return f(r.applyColumnFilter())}),B("ngModelChange",function(r){u(e);let c=d();return W(c.filters.recee_status,r)||(c.filters.recee_status=r),f(r)}),t(),v(146,ti,2,0,"button",260),t(),E(147,"th")(148,"th")(149,"th"),v(150,ni,1,0,"th",142),t(),n(151,"tr")(152,"th"),i(153,"Store Code"),t(),n(154,"th"),i(155," Store Name "),n(156,"div",279),x("mousedown",function(r){u(e);let c=d();return f(c.startResize(r,1))}),t()(),n(157,"th"),i(158,"Project Code"),t(),n(159,"th"),i(160,"Zone"),t(),n(161,"th"),i(162,"City"),t(),n(163,"th"),i(164,"State"),t(),n(165,"th"),i(166,"Site Lat/Long"),t(),n(167,"th"),i(168,"Store Type"),t(),n(169,"th"),i(170,"Site Type"),t(),n(171,"th"),i(172,"Project Status"),t(),n(173,"th"),i(174,"LL HO Date"),t(),n(175,"th"),i(176,"Launch Date"),t(),n(177,"th"),i(178,"Project Handover Date"),t(),n(179,"th"),i(180,"Layout"),t(),n(181,"th"),i(182,"Token Released"),t(),n(183,"th"),i(184,"Criticality"),t(),n(185,"th"),i(186,"Address"),t(),n(187,"th"),i(188,"Created By"),t(),n(189,"th"),i(190,"RECEE Status"),t(),n(191,"th"),i(192,"Created At"),t(),n(193,"th"),i(194,"Tasks Count"),t(),v(195,ii,2,0,"th",142),t()(),n(196,"tbody"),v(197,si,49,34,"tr",280)(198,li,3,0,"tr",142),t()()()()()}if(a&2){let e=d();l(3),N("ngModel",e.searchTerm),l(6),A("Projects (",e.filteredProjects.length,")"),l(11),N("ngModel",e.filters.store_code),l(),p("ngIf",e.filters.store_code),l(2),N("ngModel",e.filters.store_name),l(),p("ngIf",e.filters.store_name),l(2),N("ngModel",e.filters.project_code),l(),p("ngIf",e.filters.project_code),l(2),N("ngModel",e.filters.zone),l(13),p("ngIf",e.filters.zone),l(2),N("ngModel",e.filters.city),l(),p("ngIf",e.filters.city),l(2),N("ngModel",e.filters.state),l(3),p("ngForOf",e.getUniqueValues("state")),l(),p("ngIf",e.filters.state),l(2),N("ngModel",e.filters.site_lat_long),l(),p("ngIf",e.filters.site_lat_long),l(2),N("ngModel",e.filters.store_type),l(11),p("ngIf",e.filters.store_type),l(2),N("ngModel",e.filters.site_type),l(11),p("ngIf",e.filters.site_type),l(2),N("ngModel",e.filters.project_status),l(13),p("ngIf",e.filters.project_status),l(2),N("ngModel",e.filters.ll_ho_date),l(),p("ngIf",e.filters.ll_ho_date),l(2),N("ngModel",e.filters.launch_date),l(),p("ngIf",e.filters.launch_date),l(2),N("ngModel",e.filters.project_handover_date),l(),p("ngIf",e.filters.project_handover_date),l(2),N("ngModel",e.filters.layout),l(11),p("ngIf",e.filters.layout),l(2),N("ngModel",e.filters.token_released),l(7),p("ngIf",e.filters.token_released),l(2),N("ngModel",e.filters.criticality),l(9),p("ngIf",e.filters.criticality),l(2),N("ngModel",e.filters.address),l(),p("ngIf",e.filters.address),l(2),N("ngModel",e.filters.created_by),l(),p("ngIf",e.filters.created_by),l(2),N("ngModel",e.filters.recee_status),l(),p("ngIf",e.filters.recee_status),l(4),p("ngIf",e.canEdit()||e.canDelete()||e.canView()),l(45),p("ngIf",e.canEdit()||e.canDelete()||e.canView()),l(2),p("ngForOf",e.filteredProjects),l(),p("ngIf",e.filteredProjects.length===0)}}function ci(a,o){a&1&&(n(0,"div",295)(1,"div",175),E(2,"div",176),i(3," Loading project details... "),t()())}function pi(a,o){if(a&1&&(n(0,"div",327)(1,"i",328),i(2,"\u{1F4C4}"),t(),n(3,"span"),i(4),t(),n(5,"small"),i(6),ue(7,"date"),t()()),a&2){let e=o.$implicit;l(4),g(e.document_name),l(2),g(ke(7,2,e.created_at,"short"))}}function mi(a,o){if(a&1&&(n(0,"div",301)(1,"h4"),i(2,"Documents"),t(),n(3,"div",325),v(4,pi,8,5,"div",326),t()()),a&2){let e=d(3);l(4),p("ngForOf",e.viewProject.documents)}}function _i(a,o){a&1&&(n(0,"div",295)(1,"div",175),E(2,"div",176),i(3," Loading attachments... "),t()())}function ui(a,o){a&1&&(n(0,"div",329)(1,"div",330)(2,"i",331),i(3,"\u{1F4CE}"),t(),n(4,"h4"),i(5,"No Attachments Found"),t(),n(6,"p"),i(7,"No media files have been uploaded for this project's tasks yet."),t()()())}function fi(a,o){if(a&1&&(n(0,"p",343),i(1),t()),a&2){let e=d().$implicit;l(),g(e.comment_text)}}function gi(a,o){if(a&1){let e=w();n(0,"div",353)(1,"img",354),x("click",function(){u(e);let r=d().$implicit,c=d(5);return f(c.openMediaModal(r))}),t(),n(2,"div",355)(3,"button",356),x("click",function(){u(e);let r=d().$implicit,c=d(5);return f(c.openMediaModal(r))}),n(4,"i",17),i(5,"\u{1F441}\uFE0F"),t(),i(6," View "),t()()()}if(a&2){let e=d().$implicit,s=d(5);l(),p("src",s.getMediaUrl(e.file_path),ye)("alt",e.file_name)}}function xi(a,o){if(a&1){let e=w();n(0,"div",357)(1,"video",358),E(2,"source",359),t(),n(3,"div",355)(4,"button",356),x("click",function(){u(e);let r=d().$implicit,c=d(5);return f(c.openMediaModal(r))}),n(5,"i",17),i(6,"\u25B6\uFE0F"),t(),i(7," Play "),t()()()}if(a&2){let e=d().$implicit,s=d(5);l(2),p("src",s.getMediaUrl(e.file_path),ye)("type","video/"+e.file_type)}}function hi(a,o){if(a&1){let e=w();n(0,"div",360)(1,"div",162),i(2,"\u{1F4C4}"),t(),n(3,"div",355)(4,"button",356),x("click",function(){u(e);let r=d().$implicit,c=d(5);return f(c.openMediaModal(r))}),n(5,"i",17),i(6,"\u{1F4C4}"),t(),i(7," Open "),t()()()}}function vi(a,o){if(a&1&&(n(0,"div",344)(1,"div",345),v(2,gi,7,2,"div",346)(3,xi,8,2,"div",347)(4,hi,8,0,"div",348),t(),n(5,"div",349)(6,"div",350),i(7),t(),n(8,"div",351)(9,"span",352),i(10),t(),n(11,"span",165),i(12),t()()()()),a&2){let e=o.$implicit,s=d(5);l(2),p("ngIf",s.isImage(e.file_type)),l(),p("ngIf",s.isVideo(e.file_type)),l(),p("ngIf",!s.isImage(e.file_type)&&!s.isVideo(e.file_type)),l(3),g(e.file_name),l(3),g(e.file_type==null?null:e.file_type.toUpperCase()),l(2),g(s.getFileSize(e.file_size))}}function Ci(a,o){if(a&1&&(n(0,"div",334)(1,"div",335)(2,"div",336)(3,"div",337)(4,"span",338),i(5),t(),n(6,"span",339),i(7),t()(),v(8,fi,2,1,"p",340),t()(),n(9,"div",341),v(10,vi,13,6,"div",342),t()()),a&2){let e=o.$implicit,s=d(4);l(5),g(e.user_email||"Unknown User"),l(2),g(s.formatDateTime(e.created_at)),l(),p("ngIf",e.comment_text),l(2),p("ngForOf",e.media_files)}}function bi(a,o){if(a&1&&(n(0,"div",332),v(1,Ci,11,4,"div",333),t()),a&2){let e=d(3);l(),p("ngForOf",e.viewProjectAttachments)}}function Pi(a,o){a&1&&(n(0,"div",361)(1,"div",330)(2,"i",331),i(3,"\u{1F465}"),t(),n(4,"h4"),i(5,"No Users Assigned"),t(),n(6,"p"),i(7,"This project doesn't have any assigned users yet."),t()()())}function yi(a,o){if(a&1&&(n(0,"div",378)(1,"span",387),i(2),t(),n(3,"span",380),i(4,"On Hold"),t()()),a&2){let e=d().$implicit;l(2),g(e.taskStats.on_hold)}}function wi(a,o){if(a&1&&(n(0,"p"),i(1),t()),a&2){let e=d().$implicit;l(),g(e.description)}}function Si(a,o){if(a&1&&(n(0,"div",401)(1,"small"),i(2),t()()),a&2){let e=d().$implicit,s=d(6);l(2),A("Due: ",s.formatDate(e.due_date),"")}}function Ei(a,o){if(a&1&&(n(0,"div",392)(1,"div",393)(2,"div",394)(3,"h6"),i(4),t(),v(5,wi,2,1,"p",142),t(),n(6,"div",395)(7,"span",396),i(8),t(),n(9,"span",397),i(10),t(),n(11,"div",398)(12,"div",154),E(13,"div",155),t(),n(14,"span",399),i(15),t()()()(),v(16,Si,3,1,"div",400),t()),a&2){let e=o.$implicit,s=d(6);l(4),g(e.title),l(),p("ngIf",e.description),l(2),Me(s.getTaskStatusClass(e.status)),l(),A(" ",e.status," "),l(),Me(s.getTaskPriorityClass(e.priority)),l(),A(" ",e.priority," "),l(3),Re("width",e.progress_percentage,"%"),l(2),A("",e.progress_percentage,"%"),l(),p("ngIf",e.due_date)}}function Mi(a,o){if(a&1&&(n(0,"div",388)(1,"div",389)(2,"h6"),i(3),t()(),n(4,"div",390),v(5,Ei,17,12,"div",391),t()()),a&2){let e=d().$implicit;l(3),A("Tasks (",e.tasks.length,")"),l(2),p("ngForOf",e.tasks)}}function ki(a,o){a&1&&(n(0,"div",402)(1,"small",232),i(2,"No tasks assigned to this user"),t()())}function Oi(a,o){if(a&1&&(n(0,"div",364)(1,"div",365)(2,"div",366)(3,"div",367)(4,"i",368),i(5,"\u{1F464}"),t()(),n(6,"div",369)(7,"h5"),i(8),t(),n(9,"div",370)(10,"span",371),i(11),t(),n(12,"span",372),i(13),t()()()(),n(14,"div",373)(15,"div",374)(16,"div",375)(17,"span"),i(18),t()()()()(),n(19,"div",376)(20,"div",377)(21,"div",378)(22,"span",379),i(23),t(),n(24,"span",380),i(25,"Total Tasks"),t()(),n(26,"div",378)(27,"span",381),i(28),t(),n(29,"span",380),i(30,"Completed"),t()(),n(31,"div",378)(32,"span",382),i(33),t(),n(34,"span",380),i(35,"In Progress"),t()(),n(36,"div",378)(37,"span",383),i(38),t(),n(39,"span",380),i(40,"To Do"),t()(),v(41,yi,5,1,"div",384),t()(),v(42,Mi,6,2,"div",385)(43,ki,3,0,"div",386),t()),a&2){let e=o.$implicit,s=d(4);l(8),g(e.email),l(3),g(e.role),l(2),g(e.user_role),l(2),Re("background","conic-gradient(from 0deg, "+s.getUserProgressColor(e.taskStats.avg_progress)+" 0deg "+e.taskStats.avg_progress*3.6+"deg, #e0e0e0 "+e.taskStats.avg_progress*3.6+"deg 360deg)"),l(3),A("",e.taskStats.avg_progress,"%"),l(5),g(e.taskStats.total),l(5),g(e.taskStats.completed),l(5),g(e.taskStats.in_progress),l(5),g(e.taskStats.todo),l(3),p("ngIf",e.taskStats.on_hold>0),l(),p("ngIf",e.tasks&&e.tasks.length>0),l(),p("ngIf",!e.tasks||e.tasks.length===0)}}function ji(a,o){if(a&1&&(n(0,"div",362),v(1,Oi,44,13,"div",363),t()),a&2){let e=d(3);l(),p("ngForOf",e.viewProjectUsers)}}function Ti(a,o){if(a&1&&(n(0,"div",296)(1,"div",297)(2,"div",298)(3,"div",21)(4,"h3"),i(5,"Project Information"),t(),n(6,"span",299),i(7),t()(),n(8,"div",300)(9,"div",301)(10,"h4"),i(11,"Basic Information"),t(),n(12,"div",302)(13,"div",303)(14,"label"),i(15,"Store Code:"),t(),n(16,"span"),i(17),t()(),n(18,"div",303)(19,"label"),i(20,"Store Name:"),t(),n(21,"span"),i(22),t()(),n(23,"div",303)(24,"label"),i(25,"Project Code:"),t(),n(26,"span"),i(27),t()(),n(28,"div",303)(29,"label"),i(30,"Criticality:"),t(),n(31,"span",304),i(32),t()()()(),n(33,"div",301)(34,"h4"),i(35,"Location Details"),t(),n(36,"div",302)(37,"div",303)(38,"label"),i(39,"Zone:"),t(),n(40,"span"),i(41),t()(),n(42,"div",303)(43,"label"),i(44,"City:"),t(),n(45,"span"),i(46),t()(),n(47,"div",303)(48,"label"),i(49,"State:"),t(),n(50,"span"),i(51),t()(),n(52,"div",303)(53,"label"),i(54,"Coordinates:"),t(),n(55,"span"),i(56),t()(),n(57,"div",305)(58,"label"),i(59,"Address:"),t(),n(60,"span"),i(61),t()()()(),n(62,"div",301)(63,"h4"),i(64,"Site Information"),t(),n(65,"div",302)(66,"div",303)(67,"label"),i(68,"Store Type:"),t(),n(69,"span"),i(70),t()(),n(71,"div",303)(72,"label"),i(73,"Site Type:"),t(),n(74,"span"),i(75),t()(),n(76,"div",303)(77,"label"),i(78,"Property Area:"),t(),n(79,"span"),i(80),t()()()(),n(81,"div",301)(82,"h4"),i(83,"Important Dates"),t(),n(84,"div",302)(85,"div",303)(86,"label"),i(87,"LL HO Date:"),t(),n(88,"span"),i(89),t()(),n(90,"div",303)(91,"label"),i(92,"Launch Date:"),t(),n(93,"span"),i(94),t()(),n(95,"div",303)(96,"label"),i(97,"Project Handover:"),t(),n(98,"span"),i(99),t()(),n(100,"div",303)(101,"label"),i(102,"LOI Release Date:"),t(),n(103,"span"),i(104),t()(),n(105,"div",303)(106,"label"),i(107,"Token Release Date:"),t(),n(108,"span"),i(109),t()(),n(110,"div",303)(111,"label"),i(112,"Recee Date:"),t(),n(113,"span"),i(114),t()()()(),n(115,"div",301)(116,"h4"),i(117,"Status Information"),t(),n(118,"div",302)(119,"div",303)(120,"label"),i(121,"Recee Status:"),t(),n(122,"span"),i(123),t()(),n(124,"div",303)(125,"label"),i(126,"LOI Signed Status:"),t(),n(127,"span"),i(128),t()(),n(129,"div",305)(130,"label"),i(131,"Layout:"),t(),n(132,"span"),i(133),t()(),n(134,"div",303)(135,"label"),i(136,"Actual Carpet Area (sqft):"),t(),n(137,"span"),i(138),t()(),n(139,"div",303)(140,"label"),i(141,"Token Released:"),t(),n(142,"span"),i(143),t()(),n(144,"div",303)(145,"label"),i(146,"Power Availability (kVA):"),t(),n(147,"span"),i(148),t()()()(),n(149,"div",301)(150,"h4"),i(151,"Project Metadata"),t(),n(152,"div",302)(153,"div",303)(154,"label"),i(155,"Created By:"),t(),n(156,"span"),i(157),t()(),n(158,"div",303)(159,"label"),i(160,"Created At:"),t(),n(161,"span"),i(162),ue(163,"date"),t()(),n(164,"div",303)(165,"label"),i(166,"Last Updated:"),t(),n(167,"span"),i(168),ue(169,"date"),t()()()(),v(170,mi,5,1,"div",306),t()(),n(171,"div",307)(172,"div",21)(173,"h3"),i(174,"Project Attachments"),t(),n(175,"span",308),i(176),t()(),v(177,_i,4,0,"div",293)(178,ui,8,0,"div",309)(179,bi,2,1,"div",310),t()(),n(180,"div",311)(181,"div",312)(182,"div",21)(183,"h3"),i(184,"Assigned Users & Progress"),t(),n(185,"span",313),i(186),t()(),n(187,"div",314),v(188,Pi,8,0,"div",315)(189,ji,2,1,"div",316),t()(),n(190,"div",317)(191,"div",21)(192,"h3"),i(193,"Project Summary"),t()(),n(194,"div",318)(195,"div",319)(196,"div",320)(197,"div",321),i(198,"\u{1F4CA}"),t(),n(199,"div",322)(200,"span",323),i(201),t(),n(202,"span",324),i(203,"Total Tasks"),t()()(),n(204,"div",320)(205,"div",321),i(206,"\u{1F465}"),t(),n(207,"div",322)(208,"span",323),i(209),t(),n(210,"span",324),i(211,"Team Members"),t()()(),n(212,"div",320)(213,"div",321),i(214,"\u2705"),t(),n(215,"div",322)(216,"span",323),i(217),t(),n(218,"span",324),i(219,"Completed Tasks"),t()()(),n(220,"div",320)(221,"div",321),i(222,"\u{1F4CE}"),t(),n(223,"div",322)(224,"span",323),i(225),t(),n(226,"span",324),i(227,"Attachments"),t()()()()()()()()),a&2){let e=d(2);l(6),Me(e.getStatusClass(e.viewProject.project_status)),l(),A(" ",e.viewProject.project_status," "),l(10),g(e.viewProject.store_code),l(5),g(e.viewProject.store_name),l(5),g(e.viewProject.project_code),l(4),Me("criticality-"+(e.viewProject.criticality||"none").toLowerCase()),l(),A(" ",e.viewProject.criticality||"Not Set"," "),l(9),g(e.viewProject.zone||"Not specified"),l(5),g(e.viewProject.city||"Not specified"),l(5),g(e.viewProject.state||"Not specified"),l(5),g(e.viewProject.site_lat_long||"Not specified"),l(5),g(e.viewProject.address||"Not specified"),l(9),g(e.viewProject.store_type||"Not specified"),l(5),g(e.viewProject.site_type||"Not specified"),l(5),g(e.viewProject.property_area_sqft?e.viewProject.property_area_sqft+" sqft":"Not specified"),l(9),g(e.formatDate(e.viewProject.ll_ho_date)),l(5),g(e.formatDate(e.viewProject.launch_date)),l(5),g(e.formatDate(e.viewProject.project_handover_date)),l(5),g(e.formatDate(e.viewProject.loi_release_date)),l(5),g(e.formatDate(e.viewProject.token_release_date)),l(5),g(e.formatDate(e.viewProject.recee_date)),l(9),g(e.viewProject.recee_status||"Not specified"),l(5),g(e.viewProject.loi_signed_status||"Not specified"),l(5),g(e.viewProject.layout||"Not specified"),l(5),g(e.viewProject.actual_carpet_area_sqft?e.viewProject.actual_carpet_area_sqft+" sqft":"Not specified"),l(5),g(e.viewProject.token_released||"Not specified"),l(5),g(e.viewProject.power_availability_kva||"Not specified"),l(9),g(e.viewProject.created_by_email||e.viewProject.created_by),l(5),g(ke(163,44,e.viewProject.created_at,"medium")),l(6),g(ke(169,47,e.viewProject.updated_at,"medium")),l(2),p("ngIf",e.viewProject.documents&&e.viewProject.documents.length>0),l(6),A("",e.viewProjectAttachments.length," Items"),l(),p("ngIf",e.loadingAttachments),l(),p("ngIf",!e.loadingAttachments&&e.viewProjectAttachments.length===0),l(),p("ngIf",!e.loadingAttachments&&e.viewProjectAttachments.length>0),l(7),A("",e.viewProjectUsers.length," Users"),l(2),p("ngIf",e.viewProjectUsers.length===0),l(),p("ngIf",e.viewProjectUsers.length>0),l(12),g(e.viewProjectTasks.length),l(8),g(e.viewProjectUsers.length),l(8),g(e.getCompletedTasksCount()),l(8),g(e.viewProjectAttachments.length)}}function Ii(a,o){if(a&1){let e=w();n(0,"div",289)(1,"div",290)(2,"div",291)(3,"button",292),x("click",function(){u(e);let r=d();return f(r.closeProjectView())}),n(4,"i",17),i(5,"\u2190"),t(),i(6," Back to Projects "),t(),n(7,"h2"),i(8),t()(),v(9,ci,4,0,"div",293)(10,Ti,228,50,"div",294),t()()}if(a&2){let e=d();l(8),A("",e.viewProject.store_name," - Project Details"),l(),p("ngIf",e.loadingProjectDetails),l(),p("ngIf",!e.loadingProjectDetails)}}function Di(a,o){if(a&1&&(n(0,"div",413),E(1,"img",414),t()),a&2){let e=d(2);l(),p("src",e.getMediaUrl(e.selectedMedia.file_path),ye)("alt",e.selectedMedia.file_name)}}function Fi(a,o){if(a&1&&(n(0,"div",415)(1,"video",416),E(2,"source",359),i(3," Your browser does not support the video tag. "),t()()),a&2){let e=d(2);l(2),p("src",e.getMediaUrl(e.selectedMedia.file_path),ye)("type","video/"+e.selectedMedia.file_type)}}function Vi(a,o){if(a&1&&(n(0,"div",417)(1,"div",418),i(2,"\u{1F4C4}"),t(),n(3,"h4"),i(4),t(),n(5,"p"),i(6),t(),n(7,"p"),i(8),t(),n(9,"a",419),i(10," Download File "),t()()),a&2){let e=d(2);l(4),g(e.selectedMedia.file_name),l(2),A("File Type: ",e.selectedMedia.file_type==null?null:e.selectedMedia.file_type.toUpperCase(),""),l(2),A("File Size: ",e.getFileSize(e.selectedMedia.file_size),""),l(),p("href",e.getMediaUrl(e.selectedMedia.file_path),ye)}}function Li(a,o){if(a&1){let e=w();n(0,"div",403),x("click",function(){u(e);let r=d();return f(r.closeMediaModal())}),n(1,"div",404),x("click",function(r){return u(e),f(r.stopPropagation())}),n(2,"div",405)(3,"h3"),i(4),t(),n(5,"button",406),x("click",function(){u(e);let r=d();return f(r.closeMediaModal())}),n(6,"i",17),i(7,"\xD7"),t()()(),n(8,"div",407),v(9,Di,2,2,"div",408)(10,Fi,4,2,"div",409)(11,Vi,11,4,"div",410),t(),n(12,"div",411)(13,"div",351)(14,"span"),i(15),t(),n(16,"span"),i(17),t()(),n(18,"a",412),i(19," Download "),t()()()()}if(a&2){let e=d();l(4),g(e.selectedMedia==null?null:e.selectedMedia.file_name),l(5),p("ngIf",e.selectedMedia&&e.isImage(e.selectedMedia.file_type)),l(),p("ngIf",e.selectedMedia&&e.isVideo(e.selectedMedia.file_type)),l(),p("ngIf",e.selectedMedia&&!e.isImage(e.selectedMedia.file_type)&&!e.isVideo(e.selectedMedia.file_type)),l(4),A("Type: ",e.selectedMedia==null||e.selectedMedia.file_type==null?null:e.selectedMedia.file_type.toUpperCase(),""),l(2),A("Size: ",e.getFileSize(e.selectedMedia==null?null:e.selectedMedia.file_size),""),l(),p("href",e.getMediaUrl(e.selectedMedia==null?null:e.selectedMedia.file_path),ye)}}function Ai(a,o){if(a&1&&(n(0,"p",428)(1,"strong"),i(2),t(),i(3),t()),a&2){let e=d(2);l(2),g(e.projectToDelete.store_name),l(),A(" (",e.projectToDelete.project_code,") ")}}function Ri(a,o){if(a&1){let e=w();n(0,"div",420),x("click",function(){u(e);let r=d();return f(r.cancelDeleteProject())}),n(1,"div",421),x("click",function(r){return u(e),f(r.stopPropagation())}),n(2,"div",422)(3,"h3"),i(4,"Confirm Delete"),t()(),n(5,"div",423)(6,"p"),i(7,"Are you sure you want to delete the project:"),t(),v(8,Ai,4,2,"p",424),n(9,"p",425),i(10,"This action cannot be undone."),t()(),n(11,"div",426)(12,"button",140),x("click",function(){u(e);let r=d();return f(r.cancelDeleteProject())}),i(13," Cancel "),t(),n(14,"button",427),x("click",function(){u(e);let r=d();return f(r.deleteProject())}),i(15," Delete Project "),t()()()()}if(a&2){let e=d();l(8),p("ngIf",e.projectToDelete)}}function Ui(a,o){if(a&1&&(n(0,"p",369)(1,"strong"),i(2),t(),i(3),t()),a&2){let e=d(2);l(2),g(e.userToDelete.email),l(),A(" (",e.userToDelete.role,") ")}}function zi(a,o){if(a&1){let e=w();n(0,"div",420),x("click",function(){u(e);let r=d();return f(r.cancelDeleteUser())}),n(1,"div",421),x("click",function(r){return u(e),f(r.stopPropagation())}),n(2,"div",422)(3,"h3"),i(4,"Confirm Delete User"),t()(),n(5,"div",423)(6,"p"),i(7,"Are you sure you want to delete the user:"),t(),v(8,Ui,4,2,"p",429),n(9,"p",425),i(10,"This action cannot be undone."),t()(),n(11,"div",426)(12,"button",140),x("click",function(){u(e);let r=d();return f(r.cancelDeleteUser())}),i(13," Cancel "),t(),n(14,"button",427),x("click",function(){u(e);let r=d();return f(r.deleteUser())}),i(15," Delete User "),t()()()()}if(a&2){let e=d();l(8),p("ngIf",e.userToDelete)}}function Ni(a,o){if(a&1){let e=w();n(0,"button",16),x("click",function(){u(e);let r=d(2);return f(r.showCreateUser())}),n(1,"i",17),i(2,"+"),t(),i(3," Add New User "),t()}}function Wi(a,o){a&1&&(n(0,"th"),i(1,"Actions"),t())}function Bi(a,o){if(a&1){let e=w();n(0,"button",439),x("click",function(){u(e);let r=d(2).$implicit,c=d(2);return f(c.editUser(r))}),i(1," \u270F\uFE0F "),t()}}function qi(a,o){if(a&1){let e=w();n(0,"button",440),x("click",function(){u(e);let r=d(2).$implicit,c=d(2);return f(c.confirmDeleteUser(r))}),i(1," \u{1F5D1}\uFE0F "),t()}}function Hi(a,o){if(a&1&&(n(0,"td",436),v(1,Bi,2,0,"button",437)(2,qi,2,0,"button",438),t()),a&2){let e=d(3);l(),p("ngIf",e.canEdit()),l(),p("ngIf",e.canDelete())}}function Gi(a,o){if(a&1&&(n(0,"tr")(1,"td"),i(2),t(),n(3,"td")(4,"span",434),i(5),t()(),n(6,"td"),i(7),ue(8,"date"),t(),n(9,"td"),i(10),ue(11,"date"),t(),v(12,Hi,3,2,"td",435),t()),a&2){let e=o.$implicit,s=d(2);l(2),g(e.email),l(2),Me("role-"+e.role.toLowerCase().replace(" ","-")),l(),A(" ",e.role," "),l(2),g(ke(8,7,e.created_at,"short")),l(3),g(ke(11,10,e.updated_at,"short")),l(2),p("ngIf",s.canEdit()||s.canDelete())}}function $i(a,o){a&1&&(n(0,"tr")(1,"td",441),i(2,"No users found"),t()())}function Ki(a,o){if(a&1&&(n(0,"div",430)(1,"div",431)(2,"div",432)(3,"h3"),i(4,"User Management"),t(),v(5,Ni,4,0,"button",6),t(),n(6,"div",433)(7,"table",257)(8,"thead")(9,"tr")(10,"th"),i(11,"Email"),t(),n(12,"th"),i(13,"Role"),t(),n(14,"th"),i(15,"Created At"),t(),n(16,"th"),i(17,"Last Updated"),t(),v(18,Wi,2,0,"th",142),t()(),n(19,"tbody"),v(20,Gi,13,13,"tr",233)(21,$i,3,0,"tr",142),t()()()()()),a&2){let e=d();l(5),p("ngIf",e.canAdd()),l(13),p("ngIf",e.canEdit()||e.canDelete()),l(2),p("ngForOf",e.users),l(),p("ngIf",e.users.length===0)}}function Yi(a,o){if(a&1&&(n(0,"div",458)(1,"strong"),i(2,"Error:"),t(),i(3),t()),a&2){let e=d(2);l(3),A(" ",e.stateCityError," ")}}function Xi(a,o){if(a&1){let e=w();n(0,"input",465),B("ngModelChange",function(r){u(e);let c=d().$implicit;return W(c.State,r)||(c.State=r),f(r)}),t()}if(a&2){let e=d().$implicit;N("ngModel",e.State)}}function Ji(a,o){if(a&1&&(n(0,"span"),i(1),t()),a&2){let e=d().$implicit;l(),g(e.State||"")}}function Qi(a,o){if(a&1){let e=w();n(0,"input",466),B("ngModelChange",function(r){u(e);let c=d().$implicit;return W(c["State Code"],r)||(c["State Code"]=r),f(r)}),t()}if(a&2){let e=d().$implicit;N("ngModel",e["State Code"])}}function Zi(a,o){if(a&1&&(n(0,"span"),i(1),t()),a&2){let e=d().$implicit;l(),g(e["State Code"]||"")}}function eo(a,o){if(a&1){let e=w();n(0,"input",466),B("ngModelChange",function(r){u(e);let c=d().$implicit;return W(c["District Code"],r)||(c["District Code"]=r),f(r)}),t()}if(a&2){let e=d().$implicit;N("ngModel",e["District Code"])}}function to(a,o){if(a&1&&(n(0,"span"),i(1),t()),a&2){let e=d().$implicit;l(),g(e["District Code"]||"")}}function no(a,o){if(a&1){let e=w();n(0,"input",467),B("ngModelChange",function(r){u(e);let c=d().$implicit;return W(c["District Name"],r)||(c["District Name"]=r),f(r)}),t()}if(a&2){let e=d().$implicit;N("ngModel",e["District Name"])}}function io(a,o){if(a&1&&(n(0,"span"),i(1),t()),a&2){let e=d().$implicit;l(),g(e["District Name"]||"")}}function oo(a,o){if(a&1){let e=w();n(0,"input",466),B("ngModelChange",function(r){u(e);let c=d().$implicit;return W(c["Town Code"],r)||(c["Town Code"]=r),f(r)}),t()}if(a&2){let e=d().$implicit;N("ngModel",e["Town Code"])}}function ro(a,o){if(a&1&&(n(0,"span"),i(1),t()),a&2){let e=d().$implicit;l(),g(e["Town Code"]||"")}}function ao(a,o){if(a&1){let e=w();n(0,"input",468),B("ngModelChange",function(r){u(e);let c=d().$implicit;return W(c["Town Name"],r)||(c["Town Name"]=r),f(r)}),t()}if(a&2){let e=d().$implicit;N("ngModel",e["Town Name"])}}function so(a,o){if(a&1&&(n(0,"span"),i(1),t()),a&2){let e=d().$implicit;l(),g(e["Town Name"]||"")}}function lo(a,o){if(a&1){let e=w();n(0,"div",469)(1,"button",470),x("click",function(){u(e);let r=d().index,c=d(2);return f(c.saveRow(r))}),E(2,"i",471),t(),n(3,"button",472),x("click",function(){u(e);let r=d(3);return f(r.cancelEdit())}),E(4,"i",473),t()()}}function co(a,o){if(a&1){let e=w();n(0,"div",469)(1,"button",474),x("click",function(){u(e);let r=d().index,c=d(2);return f(c.startEdit(r))}),n(2,"i",475),i(3,"Update"),t()(),n(4,"button",476),x("click",function(){u(e);let r=d().index,c=d(2);return f(c.deleteRow(r))}),n(5,"i",477),i(6,"Remove"),t()()()}}function po(a,o){if(a&1&&(n(0,"tr")(1,"td"),v(2,Xi,1,1,"input",459)(3,Ji,2,1,"span",142),t(),n(4,"td"),v(5,Qi,1,1,"input",460)(6,Zi,2,1,"span",142),t(),n(7,"td"),v(8,eo,1,1,"input",460)(9,to,2,1,"span",142),t(),n(10,"td"),v(11,no,1,1,"input",461)(12,io,2,1,"span",142),t(),n(13,"td"),v(14,oo,1,1,"input",460)(15,ro,2,1,"span",142),t(),n(16,"td"),v(17,ao,1,1,"input",462)(18,so,2,1,"span",142),t(),n(19,"td",463),v(20,lo,5,0,"div",464)(21,co,7,0,"div",464),t()()),a&2){let e=o.index,s=d(2);ce("editing",s.editingRowIndex===e),l(2),p("ngIf",s.editingRowIndex===e),l(),p("ngIf",s.editingRowIndex!==e),l(2),p("ngIf",s.editingRowIndex===e),l(),p("ngIf",s.editingRowIndex!==e),l(2),p("ngIf",s.editingRowIndex===e),l(),p("ngIf",s.editingRowIndex!==e),l(2),p("ngIf",s.editingRowIndex===e),l(),p("ngIf",s.editingRowIndex!==e),l(2),p("ngIf",s.editingRowIndex===e),l(),p("ngIf",s.editingRowIndex!==e),l(2),p("ngIf",s.editingRowIndex===e),l(),p("ngIf",s.editingRowIndex!==e),l(2),p("ngIf",s.editingRowIndex===e),l(),p("ngIf",s.editingRowIndex!==e)}}function mo(a,o){if(a&1){let e=w();n(0,"div",442),x("click",function(){u(e);let r=d();return f(r.showStateCityEditor=!1)}),n(1,"div",443),x("click",function(r){return u(e),f(r.stopPropagation())}),n(2,"div",444)(3,"h4"),E(4,"i",445),i(5," State & City Management"),t(),n(6,"button",446),x("click",function(){u(e);let r=d();return f(r.showStateCityEditor=!1)}),i(7,"\xD7"),t()(),n(8,"div",447),v(9,Yi,4,1,"div",448),n(10,"div",449)(11,"button",450),x("click",function(){u(e);let r=d();return f(r.saveAllChanges())}),E(12,"i",451),i(13," Save All "),t(),n(14,"button",452),x("click",function(){u(e);let r=d();return f(r.addNewRow())}),E(15,"i",453),i(16," Add Row "),t()(),n(17,"div",256)(18,"table",454)(19,"thead")(20,"tr")(21,"th"),i(22,"State"),t(),n(23,"th"),i(24,"State Code"),t(),n(25,"th"),i(26,"District Code"),t(),n(27,"th"),i(28,"District Name"),t(),n(29,"th"),i(30,"Town Code"),t(),n(31,"th"),i(32,"Town Name"),t(),n(33,"th"),i(34,"Actions"),t()()(),n(35,"tbody"),v(36,po,22,16,"tr",455),t()()()(),n(37,"div",456)(38,"small"),i(39),t(),n(40,"button",457),x("click",function(){u(e);let r=d();return f(r.showStateCityEditor=!1)}),i(41,"Close"),t()()()()}if(a&2){let e=d();l(9),p("ngIf",e.stateCityError),l(27),p("ngForOf",e.stateCityRows),l(3),A("Total Entries: ",e.stateCityRows.length,"")}}var Fe=class a{constructor(o,e,s,r,c,O,b){this.fb=o;this.projectService=e;this.userService=s;this.authService=r;this.taskService=c;this.http=O;this.commentService=b;this.initializeForms()}deleteModal;projectForm;editProjectForm;userForm;showCreateForm=!1;showEditForm=!1;showUserForm=!1;showDeleteModal=!1;showViewProject=!1;isSubmitting=!1;submitError="";projects=[];filteredProjects=[];projectStatusCounts=null;availableUsers=[];searchTerm="";currentUserRole="";selectedProject=null;projectToDelete=null;viewProject=null;viewProjectTasks=[];viewProjectUsers=[];viewProjectAttachments=[];loadingProjectDetails=!1;loadingAttachments=!1;users=[];selectedUser=null;showDeleteUserModal=!1;userToDelete=null;usersLoaded=!1;projectsLoaded=!1;showMediaModal=!1;selectedMedia=null;statesList=[];citiesList=[];filteredCitiesList=[];selectedState="";stateCityDataLoaded=!1;showStateCityEditor=!1;stateCityRows=[];editingRowIndex=null;originalRowData=null;isLoadingStateCityData=!1;stateCityError="";originalCsvData=[];showDropdown=!1;dropdownPosition={x:0,y:0};selectedRowProject=null;uploadingDocument=!1;uploadError="";pendingDocuments=[];projectDocuments=[];isResizing=!1;currentColumn=-1;startX=0;startWidth=0;ngOnInit(){this.currentUserRole=this.authService.getCurrentUserRole(),this.loadStateCityData(),this.loadInitialData()}onEditStateChange(o){let e=o.target.value;this.selectedState=e,e?(this.filteredCitiesList=this.citiesList.filter(s=>s.state_name===e).sort((s,r)=>s.name.localeCompare(r.name)),this.editProjectForm.patchValue({city:""})):(this.filteredCitiesList=[],this.editProjectForm.patchValue({city:""}))}getCompletedTasksCount(){return!this.viewProjectTasks||!Array.isArray(this.viewProjectTasks)?0:this.viewProjectTasks.filter(o=>o.status==="Completed").length}getOnHoldTasksCount(){return!this.viewProjectTasks||!Array.isArray(this.viewProjectTasks)?0:this.viewProjectTasks.filter(o=>o.status==="On Hold").length}getInProgressTasksCount(){return!this.viewProjectTasks||!Array.isArray(this.viewProjectTasks)?0:this.viewProjectTasks.filter(o=>o.status==="In Progress").length}getTodoTasksCount(){return!this.viewProjectTasks||!Array.isArray(this.viewProjectTasks)?0:this.viewProjectTasks.filter(o=>o.status==="To Do").length}loadInitialData(){Ae({projects:this.projectService.getProjects(),users:this.userService.getUsers()}).subscribe({next:o=>{this.projects=o.projects.projects,this.filteredProjects=this.projects,this.projectStatusCounts=o.projects.status_counts,this.projectsLoaded=!0,this.applyColumnFilter(),this.availableUsers=o.users.users,this.users=o.users.users,this.usersLoaded=!0},error:o=>{console.error("Error loading initial data:",o),this.submitError="Failed to load initial data"}})}showProjectDetails(o){this.viewProject=o,this.showViewProject=!0,this.loadingProjectDetails=!0,this.loadProjectDetails(o.id),this.loadProjectAttachments(o.id)}loadProjectDetails(o){Ae({project:this.projectService.getProject(o),tasks:this.projectService.getProjectTasks(o)}).subscribe({next:e=>{this.viewProject=e.project.project,this.viewProjectTasks=e.tasks.tasks||[],this.processProjectUsers(),this.loadingProjectDetails=!1},error:e=>{console.error("Error loading project details:",e),this.viewProjectTasks=[],this.loadingProjectDetails=!1}})}loadProjectAttachments(o){this.loadingAttachments=!0,this.projectService.getProjectTasks(o).subscribe({next:e=>{let s=e.tasks||[];if(s.length===0){this.viewProjectAttachments=[],this.loadingAttachments=!1;return}let r=s.map(c=>this.commentService.getComments(c.id).toPromise().then(O=>(O?.comments||[]).map(C=>He(Pe({},C),{task_title:c.title,task_id:c.id,media_files:C.media_files||[]})),O=>(console.error(`Error loading comments for task ${c.id}:`,O),[])));Promise.all(r).then(c=>{let O=c.flat();this.viewProjectAttachments=O.filter(b=>b.media_files&&b.media_files.length>0).sort((b,C)=>new Date(C.created_at).getTime()-new Date(b.created_at).getTime()),this.loadingAttachments=!1}).catch(c=>{console.error("Error processing attachments:",c),this.viewProjectAttachments=[],this.loadingAttachments=!1})},error:e=>{console.error("Error loading tasks for attachments:",e),this.viewProjectAttachments=[],this.loadingAttachments=!1}})}processProjectUsers(){if(!this.viewProject||!this.viewProject.assigned_users){this.viewProjectUsers=[];return}this.viewProjectUsers=this.viewProject.assigned_users.map(o=>{let e=this.availableUsers.find(R=>R.id.toString()===o.user_id.toString()),s=this.viewProjectTasks.filter(R=>R.assigned_to===o.user_id),r=s.length,c=s.filter(R=>R.status==="Completed").length,O=s.filter(R=>R.status==="In Progress").length,b=s.filter(R=>R.status==="To Do").length,C=s.filter(R=>R.status==="On Hold").length,J=r>0?Math.round(s.reduce((R,re)=>R+re.progress_percentage,0)/r):0;return{id:o.user_id,email:e?.email||"Unknown User",role:o.role,user_role:e?.role||"Unknown",tasks:s,taskStats:{total:r,completed:c,in_progress:O,todo:b,on_hold:C,avg_progress:J}}})}closeProjectView(){this.showViewProject=!1,this.viewProject=null,this.viewProjectTasks=[],this.viewProjectUsers=[],this.viewProjectAttachments=[]}openMediaModal(o){this.selectedMedia=o,this.showMediaModal=!0}closeMediaModal(){this.showMediaModal=!1,this.selectedMedia=null}isImage(o){return o?["jpg","jpeg","png","gif","webp"].includes(o.toLowerCase()):!1}isVideo(o){return o?["mp4","mov","avi","webm","mkv"].includes(o.toLowerCase()):!1}getMediaUrl(o){return o?`https://aliceblue-jaguar-943425.hostingersite.com/uploads/${o.split("/").pop()||o}`:""}getTaskPriorityClass(o){return`priority-${o.toLowerCase()}`}getTaskStatusClass(o){return`status-${o.toLowerCase().replace(" ","-")}`}formatDate(o){return o?new Date(o).toLocaleDateString():"Not set"}formatDateTime(o){if(!o)return"Unknown Date";try{return new Date(o).toLocaleString()}catch{return"Invalid Date"}}getUserProgressColor(o){return o>=80?"#4CAF50":o>=60?"#FF9800":o>=40?"#FFC107":"#F44336"}canAdd(){return this.currentUserRole==="Admin"||this.currentUserRole==="Super Admin"}canEdit(){return this.currentUserRole==="Super Admin"}canDelete(){return this.currentUserRole==="Super Admin"}canView(){return!0}initializeForms(){this.projectForm=this.fb.group({store_code:["",K.required],store_name:["",K.required],project_code:["",K.required],zone:["",K.required],city:["",K.required],state:["",K.required],site_lat_long:[""],store_type:["",K.required],site_type:["",K.required],ll_ho_date:[""],launch_date:[""],project_handover_date:[""],loi_release_date:[""],token_release_date:[""],recee_date:[""],recee_status:[""],loi_signed_status:[""],layout:[""],project_status:["LL WIP"],property_area_sqft:[""],assigned_users:this.fb.array([]),documents:this.fb.array([]),criticality:[""],address:[""],actual_carpet_area_sqft:[""],token_released:[""],power_availability_kva:[""]}),this.editProjectForm=this.fb.group({store_code:["",K.required],store_name:["",K.required],project_code:["",K.required],zone:[""],city:[""],state:[""],site_lat_long:[""],store_type:[""],site_type:[""],ll_ho_date:[""],launch_date:[""],project_handover_date:[""],loi_release_date:[""],token_release_date:[""],recee_date:[""],recee_status:[""],loi_signed_status:[""],layout:[""],project_status:["LL WIP"],property_area_sqft:[""],assigned_users:this.fb.array([]),documents:this.fb.array([]),criticality:[""],address:[""],actual_carpet_area_sqft:[""],token_released:[""],power_availability_kva:[""]}),this.userForm=this.fb.group({email:["",[K.required,K.email]],password:["",K.required],role:["Normal User",K.required]})}get assignedUsersArray(){return this.projectForm.get("assigned_users")}get documentsArray(){return this.projectForm.get("documents")}get editAssignedUsersArray(){return this.editProjectForm.get("assigned_users")}get editDocumentsArray(){return this.editProjectForm.get("documents")}loadProjects(){this.projectService.getProjects().subscribe({next:o=>{this.projects=o.projects,this.filteredProjects=this.projects,this.projectStatusCounts=o.status_counts,this.projectsLoaded=!0},error:o=>{console.error("Error loading projects:",o),this.submitError="Failed to load projects"}})}loadUsers(){this.userService.getUsers().subscribe({next:o=>{this.availableUsers=o.users,this.users=o.users,this.usersLoaded=!0},error:o=>{console.error("Error loading users:",o)}})}ensureUsersLoaded(){return new Promise((o,e)=>{this.usersLoaded&&this.availableUsers.length>0?o():this.userService.getUsers().subscribe({next:s=>{this.availableUsers=s.users,this.users=s.users,this.usersLoaded=!0,o()},error:s=>{console.error("Error loading users for task creation:",s),e(s)}})})}extractUsername(o){return o.split("@")[0]}findUserById(o){let e=o.toString();return this.availableUsers.find(r=>r.id.toString()===e)}createDefaultTasksForProject(o,e){return Ge(this,null,function*(){if(!(!e||e.length===0))try{yield this.ensureUsersLoaded();let s=e.map(r=>{if(r.user_id){let c=r.user_id,O=this.findUserById(c);if(O){let b=this.extractUsername(O.email),C=`${o.store_name} - ${b}`,J={project_id:o.id,title:C,description:`Default task created for project: ${o.store_name} (${o.project_code})`,status:"To Do",priority:"Medium",assigned_to:parseInt(c),progress_percentage:0,store_type:void 0,property_type:void 0,photo_video_capture:!1,comments:void 0,earth_leveling_status:void 0,footing_stone_status:void 0,column_erection_status:void 0,roofing_sheets_status:void 0,roof_insulation_status:void 0,sides_cladding_status:void 0,roof_trusses_status:void 0,wall_construction_status:void 0,flooring_concrete_status:void 0,plastering_painting_status:void 0,plumbing_status:void 0,parking_availability_status:void 0,associates_restroom_status:void 0,zeptons_restroom_status:void 0,water_availability_status:void 0,permanent_power_status:void 0,temporary_connection_available:void 0,parking_work_status:void 0,dg_bed_status:void 0,store_shutters_status:void 0,approach_road_status:void 0,temporary_power_kva_status:void 0,flooring_tiles_level_issues:void 0,restroom_fixtures_status:void 0,dg_installation_status:void 0,cctv_installation_status:void 0,lights_fans_installation_status:void 0,racks_installation_status:void 0,cold_room_installation_status:void 0,panda_bin_installation_status:void 0,crates_installation_status:void 0,flykiller_installation_status:void 0,dg_testing_status:void 0,cleaning_status:void 0,due_date:void 0};return this.taskService.createTask(J).toPromise().then(R=>R,R=>{throw R.error&&console.error("Error details:",R.error),R})}else return console.warn(`User with ID ${c} not found in available users`),Promise.resolve(null)}else return console.warn("Assigned user has no user_id:",r),Promise.resolve(null)}).filter(r=>r!==null);s.length>0&&(yield Promise.all(s))}catch(s){console.error("Error in createDefaultTasksForProject:",s)}})}onSubmit(){if(this.projectForm.valid&&this.canAdd()){this.isSubmitting=!0,this.submitError="";let o=Pe({},this.projectForm.value);o.assigned_users=o.assigned_users.filter(s=>s.user_id!==null&&s.user_id!==void 0&&s.user_id!=="").map(s=>({user_id:s.user_id,role:"Normal User"})),delete o.documents;let e=[...o.assigned_users];this.projectService.createProject(o).subscribe({next:s=>{this.pendingDocuments.length>0&&this.uploadPendingDocuments(s.project.id),e.length>0&&this.createDefaultTasksForProject(s.project,e),this.resetForm(),this.showCreateForm=!1,this.loadProjects()},error:s=>{console.error("Error creating project:",s),this.submitError=s.error?.error||"Failed to create project. Please try again.",this.isSubmitting=!1},complete:()=>{this.isSubmitting=!1}})}}getFormValidationErrors(){let o={};return Object.keys(this.projectForm.controls).forEach(e=>{let s=this.projectForm.get(e);s&&!s.valid&&(o[e]=s.errors)}),o}updateProject(){if(this.editProjectForm.valid&&this.selectedProject&&this.canEdit()){this.isSubmitting=!0,this.submitError="";let o=Pe({},this.editProjectForm.value);o.assigned_users=o.assigned_users.filter(e=>e.user_id!==null&&e.user_id!==void 0&&e.user_id!=="").map(e=>({user_id:e.user_id,role:"Normal User"})),delete o.documents,this.projectService.updateProject(this.selectedProject.id,o).subscribe({next:e=>{o.assigned_users.length>0&&this.createDefaultTasksForProject(e.project,o.assigned_users),this.resetEditForm(),this.showEditForm=!1,this.loadProjects()},error:e=>{console.error("Error updating project:",e),console.error("Error details:",e.error),this.submitError=e.error?.error||e.error?.message||"Failed to update project. Please try again.",this.isSubmitting=!1},complete:()=>{this.isSubmitting=!1}})}else console.error("Form validation failed"),console.error("Form errors:",this.getEditFormValidationErrors()),this.submitError="Please check all required fields"}getEditFormValidationErrors(){let o={};return Object.keys(this.editProjectForm.controls).forEach(e=>{let s=this.editProjectForm.get(e);s&&!s.valid&&(o[e]=s.errors)}),this.editAssignedUsersArray&&this.editAssignedUsersArray.controls.forEach((e,s)=>{e.valid||(o[`assigned_user_${s}`]=e.errors)}),o}editProject(o){if(this.canEdit()){if(!this.usersLoaded||this.availableUsers.length===0){console.log("Users not loaded, loading users first..."),this.loadUsers(),setTimeout(()=>this.editProject(o),500);return}this.selectedProject=o,this.showEditForm=!0,this.selectedState=o.state||"",this.selectedState&&(this.filteredCitiesList=this.citiesList.filter(e=>e.state_name===this.selectedState).sort((e,s)=>e.name.localeCompare(s.name))),this.editProjectForm.patchValue({store_code:o.store_code,store_name:o.store_name,project_code:o.project_code,zone:o.zone,city:o.city,state:o.state,site_lat_long:o.site_lat_long,store_type:o.store_type,site_type:o.site_type,ll_ho_date:o.ll_ho_date,launch_date:o.launch_date,project_handover_date:o.project_handover_date,loi_release_date:o.loi_release_date,token_release_date:o.token_release_date,recee_date:o.recee_date,recee_status:o.recee_status,loi_signed_status:o.loi_signed_status,layout:o.layout,project_status:o.project_status,property_area_sqft:o.property_area_sqft,criticality:o.criticality,address:o.address,actual_carpet_area_sqft:o.actual_carpet_area_sqft,token_released:o.token_released,power_availability_kva:o.power_availability_kva}),this.editAssignedUsersArray.clear(),o.assigned_users&&o.assigned_users.length>0?o.assigned_users.forEach((e,s)=>{let r=null;if(e.user_id!==void 0&&(r=this.availableUsers.find(c=>c.id.toString()===e.user_id.toString()),r||(r=this.availableUsers.find(c=>c.id==e.user_id)),!r&&e.email&&(r=this.availableUsers.find(c=>c.email===e.email))),r){let c=this.fb.group({user_id:[r.id.toString(),K.required],role:[e.role||"Normal User",K.required]});this.editAssignedUsersArray.push(c)}else{let c=this.fb.group({user_id:[e.user_id?.toString()||"",K.required],role:[e.role||"Normal User",K.required]});this.editAssignedUsersArray.push(c)}}):console.log("No assigned users found for this project"),this.editDocumentsArray.clear(),o.documents&&o.documents.length>0&&o.documents.forEach(e=>{this.editDocumentsArray.push(this.fb.group({name:[e.document_name]}))}),setTimeout(()=>{console.log("Form validation status:",{formValid:this.editProjectForm.valid,assignedUsersValid:this.editAssignedUsersArray.valid,formErrors:this.getEditFormValidationErrors()})},100)}}confirmDeleteProject(o){this.canDelete()&&(this.projectToDelete=o,this.showDeleteModal=!0)}deleteProject(){this.projectToDelete&&this.canDelete()&&this.projectService.deleteProject(this.projectToDelete.id).subscribe({next:o=>{console.log("Project deleted successfully:",o),this.showDeleteModal=!1,this.projectToDelete=null,this.loadProjects()},error:o=>{console.error("Error deleting project:",o),this.submitError=o.error?.error||"Failed to delete project. Please try again."}})}showCreateUser(){this.canAdd()&&(this.selectedUser=null,this.userForm.reset(),this.userForm.patchValue({role:"Normal User"}),this.showUserForm=!0)}editUser(o){this.canEdit()&&(this.selectedUser=o,this.userForm.patchValue({email:o.email,role:o.role,password:""}),this.userForm.get("password")?.clearValidators(),this.userForm.get("password")?.updateValueAndValidity(),this.showUserForm=!0)}saveUser(){if(this.userForm.valid){this.isSubmitting=!0,this.submitError="";let o=Pe({},this.userForm.value);this.selectedUser?(o.password||delete o.password,this.userService.updateUser(this.selectedUser.id,o).subscribe({next:e=>{this.resetUserForm(),this.loadUsers()},error:e=>{console.error("Error updating user:",e),this.submitError=e.error?.error||"Failed to update user. Please try again.",this.isSubmitting=!1},complete:()=>{this.isSubmitting=!1}})):this.userService.createUser(o).subscribe({next:e=>{this.resetUserForm(),this.loadUsers()},error:e=>{console.error("Error creating user:",e),this.submitError=e.error?.error||"Failed to create user. Please try again.",this.isSubmitting=!1},complete:()=>{this.isSubmitting=!1}})}}confirmDeleteUser(o){this.canDelete()&&(this.userToDelete=o,this.showDeleteUserModal=!0)}deleteUser(){this.userToDelete&&this.canDelete()&&this.userService.deleteUser(this.userToDelete.id).subscribe({next:o=>{this.showDeleteUserModal=!1,this.userToDelete=null,this.loadUsers()},error:o=>{console.error("Error deleting user:",o),this.submitError=o.error?.error||"Failed to delete user. Please try again."}})}addUser(){let o=this.fb.group({user_id:[""],role:[""]});this.assignedUsersArray.push(o)}removeUser(o){this.assignedUsersArray.removeAt(o)}addUserToEdit(){let o=this.fb.group({user_id:["",K.required],role:["Normal User",K.required]});this.editAssignedUsersArray.push(o)}removeUserFromEdit(o){o>=0&&o<this.editAssignedUsersArray.length&&this.editAssignedUsersArray.removeAt(o)}addDocument(o,e){this.documentsArray.push(this.fb.group({document_name:[o],file_path:[e]}))}removeDocument(o){this.documentsArray.removeAt(o)}addDocumentToEdit(){let o=this.fb.group({name:[""]});this.editDocumentsArray.push(o)}removeDocumentFromEdit(o){this.editDocumentsArray.removeAt(o)}isFieldInvalid(o,e=this.projectForm){let s=e.get(o);return s?s.invalid&&s.touched:!1}filterProjects(){if(!this.searchTerm.trim()){this.filteredProjects=this.projects;return}let o=this.searchTerm.toLowerCase();this.filteredProjects=this.projects.filter(e=>e.store_code.toLowerCase().includes(o)||e.store_name.toLowerCase().includes(o)||e.project_code.toLowerCase().includes(o)||e.city&&e.city.toLowerCase().includes(o)||e.state&&e.state.toLowerCase().includes(o)||e.criticality&&e.criticality.toLowerCase().includes(o)||e.address&&e.address.toLowerCase().includes(o))}getStatusClass(o){return o.toLowerCase().replace(/\s+/g,"-")}resetForm(){this.projectForm.reset(),this.initializeForms(),this.submitError="",this.isSubmitting=!1,this.showCreateForm=!1,this.selectedState="",this.filteredCitiesList=[],this.pendingDocuments=[],this.projectDocuments=[]}resetEditForm(){this.editProjectForm.reset(),this.selectedProject=null,this.submitError="",this.isSubmitting=!1,this.showEditForm=!1,this.selectedState="",this.filteredCitiesList=[]}resetUserForm(){this.userForm.reset(),this.userForm.patchValue({role:"Normal User"}),this.userForm.get("password")?.setValidators([K.required]),this.userForm.get("password")?.updateValueAndValidity(),this.selectedUser=null,this.submitError="",this.isSubmitting=!1,this.showUserForm=!1}cancelDeleteProject(){this.showDeleteModal=!1,this.projectToDelete=null}cancelDeleteUser(){this.showDeleteUserModal=!1,this.userToDelete=null}onRowDoubleClick(o,e){o.preventDefault(),o.stopPropagation(),this.selectedRowProject=e,this.dropdownPosition={x:o.clientX,y:o.clientY},this.showDropdown=!0,setTimeout(()=>{document.addEventListener("click",this.closeDropdown.bind(this),{once:!0})},0)}closeDropdown(){this.showDropdown=!1,this.selectedRowProject=null}handleDropdownAction(o){if(this.selectedRowProject){switch(o){case"view":this.canView()&&this.showProjectDetails(this.selectedRowProject);break;case"edit":this.canEdit()&&this.editProject(this.selectedRowProject);break;case"delete":this.canDelete()&&this.confirmDeleteProject(this.selectedRowProject);break}this.closeDropdown()}}onDocumentFileSelected(o){let e=o.target;if(e.files.length===0)return;let s=e.files[0];if(s.size>10*1024*1024){alert("File size should not exceed 10MB"),e.value="";return}let r=["pdf","doc","docx","xls","xlsx","txt","jpg","jpeg","png"],c=s.name.split(".").pop()?.toLowerCase();if(!c||!r.includes(c)){alert("Invalid file type. Please select: PDF, DOC, DOCX, XLS, XLSX, TXT, JPG, JPEG, PNG"),e.value="";return}this.pendingDocuments.push(s),e.value=""}uploadPendingDocuments(o){if(this.pendingDocuments.length===0)return;this.uploadingDocument=!0,this.uploadError="";let e=this.pendingDocuments.map(s=>this.projectService.uploadProjectDocument(o,s).toPromise());Promise.all(e).then(s=>{this.pendingDocuments=[],this.uploadingDocument=!1,this.loadProjectDocuments(o)},s=>{console.error("Error uploading documents:",s),this.uploadError="Some documents failed to upload",this.uploadingDocument=!1})}loadProjectDocuments(o){this.projectService.getProjectDocuments(o).subscribe({next:e=>{this.projectDocuments=e.documents},error:e=>{console.error("Error loading project documents:",e)}})}removePendingDocument(o){this.pendingDocuments.splice(o,1)}downloadDocument(o){let e=this.projectService.getDocumentUrl(o.file_path);window.open(e,"_blank")}deleteDocument(o){confirm(`Are you sure you want to delete "${o.document_name}"?`)&&this.projectService.deleteProjectDocument(o.id).subscribe({next:()=>{this.projectDocuments=this.projectDocuments.filter(e=>e.id!==o.id)},error:e=>{console.error("Error deleting document:",e),alert("Failed to delete document")}})}getFileSize(o){if(!o||o===0)return"0 Bytes";let e=1024,s=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(o)/Math.log(e));return parseFloat((o/Math.pow(e,r)).toFixed(2))+" "+s[r]}getFileTypeIcon(o){let e=o.split(".").pop()?.toLowerCase()||"";return this.projectService.getFileTypeIcon(e)}filters={store_code:"",store_name:"",project_code:"",zone:"",city:"",state:"",site_lat_long:"",store_type:"",site_type:"",project_status:"",criticality:"",address:"",created_by:"",recee_status:"",ll_ho_date:"",launch_date:"",project_handover_date:"",layout:"",token_released:""};applyColumnFilter(){this.filteredProjects=this.projects.filter(o=>(!this.filters.store_code||o.store_code.toLowerCase().includes(this.filters.store_code.toLowerCase()))&&(!this.filters.store_name||o.store_name.toLowerCase().includes(this.filters.store_name.toLowerCase()))&&(!this.filters.project_code||o.project_code.toLowerCase().includes(this.filters.project_code.toLowerCase()))&&(!this.filters.zone||o.zone?.toLowerCase().includes(this.filters.zone.toLowerCase()))&&(!this.filters.city||o.city?.toLowerCase().includes(this.filters.city.toLowerCase()))&&(!this.filters.state||o.state?.toLowerCase().includes(this.filters.state.toLowerCase()))&&(!this.filters.site_lat_long||o.site_lat_long?.toLowerCase().includes(this.filters.site_lat_long.toLowerCase()))&&(!this.filters.store_type||o.store_type?.toLowerCase().includes(this.filters.store_type.toLowerCase()))&&(!this.filters.site_type||o.site_type?.toLowerCase().includes(this.filters.site_type.toLowerCase()))&&(!this.filters.project_status||o.project_status?.toLowerCase().includes(this.filters.project_status.toLowerCase()))&&(!this.filters.criticality||o.criticality?.toLowerCase().includes(this.filters.criticality.toLowerCase()))&&(!this.filters.address||o.address?.toLowerCase().includes(this.filters.address.toLowerCase()))&&(!this.filters.created_by||o.created_by_email?.toLowerCase().includes(this.filters.created_by.toLowerCase()))&&(!this.filters.recee_status||o.recee_status?.toLowerCase().includes(this.filters.recee_status.toLowerCase()))&&(!this.filters.layout||o.layout?.toLowerCase().includes(this.filters.layout.toLowerCase()))&&(!this.filters.token_released||o.token_released?.toLowerCase().includes(this.filters.token_released.toLowerCase())))}matchesDateFilter(o,e){return!o||!e?!0:new Date(o).toISOString().split("T")[0]===e}filterBySiteType(o){this.filters.site_type=o,this.applyColumnFilter()}clearAllFilters(){Object.keys(this.filters).forEach(o=>{this.filters[o]=""}),this.searchTerm="",this.filteredProjects=[...this.projects]}clearFilter(o){this.filters[o]="",this.applyColumnFilter()}getUniqueValues(o){return this.projects.map(s=>s[o]).filter(s=>s!=null&&s!=="").map(s=>String(s)).filter((s,r,c)=>c.indexOf(s)===r).sort()}downloadProjectsAsCSV(){let o=["Store Code","Store Name","Project Code","Zone","City","State","Site Lat/Long","Store Type","Site Type","Project Status","LL HO Date","Launch Date","Project Handover Date","Layout","Token Released","Criticality","Address","Created At"],e=this.filteredProjects.map(C=>({storeCode:C.store_code||"",storeName:C.store_name||"",projectCode:C.project_code||"",zone:C.zone||"",city:C.city||"",state:C.state||"",siteLatLong:C.site_lat_long||"",storeType:C.store_type||"",siteType:C.site_type||"",projectStatus:C.project_status||"",llHoDate:C.ll_ho_date||"",launchDate:C.launch_date||"",handoverDate:C.project_handover_date||"",layout:C.layout||"",tokenReleased:C.token_released||"",criticality:C.criticality||"",address:C.address||"",createdAt:C.created_at||"",assignedUsersCount:C.assigned_users?.length||0})),s=[o.join(","),...e.map(C=>[this.escapeCsvField(C.storeCode),this.escapeCsvField(C.storeName),this.escapeCsvField(C.projectCode),this.escapeCsvField(C.zone),this.escapeCsvField(C.city),this.escapeCsvField(C.state),this.escapeCsvField(C.siteLatLong),this.escapeCsvField(C.storeType),this.escapeCsvField(C.siteType),this.escapeCsvField(C.projectStatus),this.escapeCsvField(C.llHoDate),this.escapeCsvField(C.launchDate),this.escapeCsvField(C.handoverDate),this.escapeCsvField(C.layout),this.escapeCsvField(C.tokenReleased),this.escapeCsvField(C.criticality),this.escapeCsvField(C.address),this.escapeCsvField(C.createdAt)].join(","))].join(`
`),r=new Blob(["\uFEFF"+s],{type:"text/csv;charset=utf-8;"}),c=window.URL.createObjectURL(r),O=document.createElement("a");O.href=c;let b=new Date().toISOString().slice(0,10);O.download=`projects-export-${b}.csv`,O.click(),window.URL.revokeObjectURL(c)}escapeCsvField(o){if(o==null)return"";let e=o.toString();return e.includes(",")||e.includes('"')||e.includes(`
`)?`"${e.replace(/"/g,'""')}"`:e}toggleStateCityEditor(){this.showStateCityEditor=!this.showStateCityEditor,this.showStateCityEditor?this.loadStateCityDataForEditor():(this.editingRowIndex=null,this.originalRowData=null)}loadStateCityDataForEditor(){this.isLoadingStateCityData=!0,this.projectService.getStateCityDataForEditing().subscribe({next:o=>{console.log("Raw CSV data loaded for editing:",o),this.originalCsvData=o.data||[],this.stateCityRows=this.originalCsvData.map(e=>Pe({},e)),this.isLoadingStateCityData=!1,console.log("Editor rows prepared:",this.stateCityRows.length)},error:o=>{console.error("Error loading state-city data for editing:",o),this.stateCityError="Failed to load data: "+(o.error?.error||"Network error"),this.isLoadingStateCityData=!1}})}convertResponseToRows(o){let e=o.cities.map(s=>({State:s.state_name,"State Code":o.states.find(r=>r.name===s.state_name)?.code||"","District Code":s.district_code||"","District Name":s.name,"Town Code":"","Town Name":""}));this.stateCityRows=Array.from(new Map(e.map(s=>[`${s.State}-${s["District Name"]}`,s])).values()).sort((s,r)=>s.State.localeCompare(r.State)||s["District Name"].localeCompare(r["District Name"]))}addNewRow(){let o={State:"","State Code":"","District Code":"","District Name":"","Town Code":"","Town Name":""};this.stateCityRows.push(o),this.startEdit(this.stateCityRows.length-1),console.log("New row added. Total rows:",this.stateCityRows.length)}startEdit(o){this.editingRowIndex!==null&&this.editingRowIndex!==o&&this.saveRow(this.editingRowIndex),this.originalRowData=Pe({},this.stateCityRows[o]),this.editingRowIndex=o,console.log("Started editing row:",o)}saveRow(o){console.log("Saving row:",o,this.stateCityRows[o]),this.editingRowIndex=null,this.originalRowData=null;let e=this.stateCityRows[o];(!e.State||!e["District Name"])&&console.warn("Row has missing required data:",e)}cancelEdit(){this.originalRowData!==null&&this.editingRowIndex!==null&&(!this.originalRowData.State&&!this.originalRowData["District Name"]?(this.stateCityRows.splice(this.editingRowIndex,1),console.log("Cancelled new row creation")):(this.stateCityRows[this.editingRowIndex]=Pe({},this.originalRowData),console.log("Cancelled edit, restored original data"))),this.editingRowIndex=null,this.originalRowData=null}deleteRow(o){confirm("Are you sure you want to delete this row?")&&(console.log("Deleting row at index:",o),this.stateCityRows.splice(o,1),this.editingRowIndex===o?(this.editingRowIndex=null,this.originalRowData=null):this.editingRowIndex!==null&&this.editingRowIndex>o&&this.editingRowIndex--,console.log("Row deleted. Remaining rows:",this.stateCityRows.length))}saveAllChanges(){this.editingRowIndex!==null&&this.saveRow(this.editingRowIndex),console.log("Saving all changes. Total rows:",this.stateCityRows.length),this.isLoadingStateCityData=!0,this.stateCityError="",this.projectService.updateStateCityData(this.stateCityRows).subscribe({next:o=>{console.log("Save successful:",o),alert(o.message||"State-City data updated successfully!"),this.processStateCityDataFromArray(this.stateCityRows),console.log("Save completed. Current rows:",this.stateCityRows),this.isLoadingStateCityData=!1},error:o=>{console.error("Save failed:",o),this.stateCityError="Save failed: "+(o.error?.error||"Network error"),this.isLoadingStateCityData=!1}})}processStateCityDataFromArray(o){console.log("Processing data for dropdowns, total rows:",o.length);let e=new Map,s=[];o.forEach((c,O)=>{let b=c.State||c.state||c.STATE,C=c["District Name"]||c["Town Name"]||c.District||c.City||c.city,J=c["State Code"]||c.StateCode||c.state_code,R=c["District Code"]||c.DistrictCode||c.district_code;if(b){let re=b.toString().trim(),ve=C?C.toString().trim():"";e.has(re)||e.set(re,{name:re,code:J?.toString().trim()||""}),ve&&s.push({name:ve,state_name:re,district_code:R?.toString().trim()||""})}else O<5&&console.log(`Row ${O} missing state:`,c)}),this.statesList=Array.from(e.values()).sort((c,O)=>c.name.localeCompare(O.name));let r=new Map;s.forEach(c=>{let O=`${c.name}-${c.state_name}`;r.has(O)||r.set(O,c)}),this.citiesList=Array.from(r.values()).sort((c,O)=>c.name.localeCompare(O.name)),this.selectedState&&(this.filteredCitiesList=this.citiesList.filter(c=>c.state_name===this.selectedState).sort((c,O)=>c.name.localeCompare(O.name))),this.stateCityDataLoaded=!0,console.log("Updated dropdown data:",{states:this.statesList.length,cities:this.citiesList.length,filteredCities:this.filteredCitiesList.length})}downloadStateCityCSV(){this.projectService.exportStateCityCSV().subscribe({next:o=>{let e=window.URL.createObjectURL(o),s=document.createElement("a");s.href=e,s.download=`StateCity-${new Date().toISOString().slice(0,10)}.csv`,s.click(),window.URL.revokeObjectURL(e)},error:o=>{alert("Export failed")}})}loadStateCityData(){this.isLoadingStateCityData=!0,this.projectService.getStateCityData().subscribe({next:o=>{console.log("State-City data loaded for dropdowns:",o),this.statesList=o.states||[],this.citiesList=o.cities||[],this.stateCityDataLoaded=!0,this.isLoadingStateCityData=!1,console.log("States loaded:",this.statesList.length),console.log("Cities loaded:",this.citiesList.length)},error:o=>{console.error("Error loading state-city data:",o),this.stateCityError="Failed to load state-city data",this.isLoadingStateCityData=!1}})}tryLoadingFromPaths(o,e){if(e>=o.length){console.error("CSV file not found in any of the attempted paths"),this.loadFallbackStateCityData();return}let s=o[e];this.http.get(s,{responseType:"text"}).subscribe({next:r=>{this.processStateCityData(r)},error:r=>{console.error(`Error loading from ${s}:`,r),this.tryLoadingFromPaths(o,e+1)}})}processStateCityData(o){if(!o||o.trim().length===0){console.error("CSV data is empty"),this.loadFallbackStateCityData();return}Ot.parse(o,{header:!0,skipEmptyLines:!0,dynamicTyping:!1,delimitersToGuess:[",","	","|",";"],complete:e=>{e.errors&&e.errors.length>0;try{let s=e.data;if(!s||s.length===0){this.loadFallbackStateCityData();return}let r=s[0],c=new Map,O=[];s.forEach((C,J)=>{let R=C.State||C.state||C.STATE,re=C["District Name"]||C.District||C.City||C.city||C.CITY,ve=C.StateCode||C["State Code"]||C.state_code,De=C.DistrictCode||C["District Code"]||C.district_code;if(R&&re){let fe=R.toString().trim(),Oe=re.toString().trim();c.has(fe)||c.set(fe,{name:fe,code:ve?.toString().trim()}),O.push({name:Oe,state_name:fe,district_code:De?.toString().trim()})}else J<5&&console.warn(`Row ${J} missing required data:`,{state:R,city:re,row:C})}),this.statesList=Array.from(c.values()).sort((C,J)=>C.name.localeCompare(J.name));let b=new Map;O.forEach(C=>{let J=`${C.name}-${C.state_name}`;b.has(J)||b.set(J,C)}),this.citiesList=Array.from(b.values()).sort((C,J)=>C.name.localeCompare(J.name)),this.stateCityDataLoaded=!0}catch(s){console.error("Error processing CSV data:",s),this.loadFallbackStateCityData()}},error:e=>{console.error("Papa Parse error:",e),this.loadFallbackStateCityData()}})}loadStateCityDataAlternative(){this.http.get("assets/StateCity.csv",{responseType:"text"}).subscribe({next:o=>{this.processStateCityData(o)},error:o=>{console.error("HTTP method failed:",o),fetch("assets/StateCity.csv").then(e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.text()}).then(e=>{this.processStateCityData(e)}).catch(e=>{console.error("Fetch method also failed:",e),console.error("File not found. Check if StateCity.csv exists in src/assets/"),this.loadFallbackStateCityData()})}})}loadFallbackStateCityData(){this.statesList=[{name:"Andhra Pradesh"},{name:"Arunachal Pradesh"},{name:"Assam"},{name:"Bihar"},{name:"Chhattisgarh"},{name:"Delhi"},{name:"Goa"},{name:"Gujarat"},{name:"Haryana"},{name:"Himachal Pradesh"},{name:"Jharkhand"},{name:"Karnataka"},{name:"Kerala"},{name:"Madhya Pradesh"},{name:"Maharashtra"},{name:"Manipur"},{name:"Meghalaya"},{name:"Mizoram"},{name:"Nagaland"},{name:"Odisha"},{name:"Punjab"},{name:"Rajasthan"},{name:"Sikkim"},{name:"Tamil Nadu"},{name:"Telangana"},{name:"Tripura"},{name:"Uttar Pradesh"},{name:"Uttarakhand"},{name:"West Bengal"}].sort((o,e)=>o.name.localeCompare(e.name)),this.citiesList=[{name:"Mumbai",state_name:"Maharashtra"},{name:"Delhi",state_name:"Delhi"},{name:"Bangalore",state_name:"Karnataka"},{name:"Hyderabad",state_name:"Telangana"},{name:"Chennai",state_name:"Tamil Nadu"},{name:"Kolkata",state_name:"West Bengal"},{name:"Pune",state_name:"Maharashtra"},{name:"Ahmedabad",state_name:"Gujarat"},{name:"Jaipur",state_name:"Rajasthan"},{name:"Lucknow",state_name:"Uttar Pradesh"}].sort((o,e)=>o.name.localeCompare(e.name)),this.stateCityDataLoaded=!0}onStateChange(o){let e=o.target.value;this.selectedState=e,e?(this.filteredCitiesList=this.citiesList.filter(s=>s.state_name===e).sort((s,r)=>s.name.localeCompare(r.name)),this.projectForm.patchValue({city:""}),this.showEditForm&&this.editProjectForm.patchValue({city:""})):(this.filteredCitiesList=[],this.projectForm.patchValue({city:""}),this.showEditForm&&this.editProjectForm.patchValue({city:""}))}startResize(o,e){this.isResizing=!0,this.currentColumn=e,this.startX=o.clientX;let s=o.target.parentElement;this.startWidth=s.offsetWidth,document.addEventListener("mousemove",this.doResize.bind(this)),document.addEventListener("mouseup",this.stopResize.bind(this)),document.body.classList.add("column-resizing"),o.preventDefault()}doResize(o){if(!this.isResizing)return;let e=o.clientX-this.startX,s=Math.max(80,this.startWidth+e),O=document.querySelector(".data-table").querySelectorAll("thead tr:last-child th")[this.currentColumn];O&&(O.style.width=s+"px",O.style.minWidth=s+"px")}stopResize(){this.isResizing=!1,this.currentColumn=-1,document.removeEventListener("mousemove",this.doResize.bind(this)),document.removeEventListener("mouseup",this.stopResize.bind(this)),document.body.classList.remove("column-resizing")}static \u0275fac=function(e){return new(e||a)(we(bt),we(wt),we(Et),we(st),we(St),we(rt),we(Mt))};static \u0275cmp=Ke({type:a,selectors:[["app-projects"]],viewQuery:function(e,s){if(e&1&&Xe(Vt,5),e&2){let r;Je(r=Qe())&&(s.deleteModal=r.first)}},decls:27,vars:15,consts:[[1,"projects-container"],[1,"projects-header"],[1,"header-left"],[1,"header-right"],["title","State City MS",1,"btn-primary","btn-state-city-manager",3,"click"],["title","Download projects as CSV",1,"btn-primary",3,"click"],["class","btn-primary",3,"click",4,"ngIf"],["class","btn-secondary",3,"click",4,"ngIf"],["class","status-cards",4,"ngIf"],["class","create-project-section",4,"ngIf"],["class","projects-list-section",4,"ngIf"],["class","view-project-section",4,"ngIf"],["class","media-modal-overlay",3,"click",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],["class","users-management-section",4,"ngIf"],["class","state-city-editor-overlay",3,"click",4,"ngIf"],[1,"btn-primary",3,"click"],[1,"icon"],[1,"btn-secondary",3,"click"],[1,"status-cards"],[1,"status-card"],[1,"card-header"],[1,"count"],[1,"count","ll-wip"],[1,"count","fitout-wip"],[1,"status-card","site-type-card",2,"width","800px","height","120px"],[1,"site-type-grid"],[1,"site-type-item","site-type-header"],[1,"label"],[1,"site-type-item","clickable",3,"click"],[1,"create-project-section"],[1,"form-card"],[1,"form-header"],[1,"project-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"form-grid"],[1,"form-group"],["for","store_code"],["type","text","id","store_code","formControlName","store_code","placeholder","Enter store code",1,"form-control"],["class","error-message",4,"ngIf"],["for","store_name"],["type","text","id","store_name","formControlName","store_name","placeholder","Enter store name",1,"form-control"],["for","project_code"],["type","text","id","project_code","formControlName","project_code","placeholder","Enter project code",1,"form-control"],["for","criticality"],["id","criticality","formControlName","criticality",1,"form-control"],["value","P0"],["value","P1"],["value","P2"],["for","edit_zone"],[1,"text-danger"],["id","edit_zone","formControlName","zone",1,"form-control"],["value","CENTRAL"],["value","WEST"],["value","EAST"],["value","NORTH"],["value","SOUTH"],["for","state"],["id","state","formControlName","state",1,"form-control",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["for","city"],["id","city","formControlName","city",1,"form-control",3,"disabled"],["class","form-text text-muted",4,"ngIf"],["for","site_lat_long"],["type","text","id","site_lat_long","formControlName","site_lat_long","placeholder","Enter coordinates",1,"form-control"],[1,"form-group","full-width"],["for","address"],["id","address","formControlName","address","placeholder","Enter full address","rows","3",1,"form-control"],["for","store_type"],["id","store_type","formControlName","store_type",1,"form-control"],["value","Dark Store"],["value","Super Store"],["value","Cafe"],["value","Relocation"],["for","site_type"],["id","site_type","formControlName","site_type",1,"form-control"],["value","BTS"],["value","Semi BTS"],["value","RTM"],["value","C&E"],["for","project_status"],["id","project_status","formControlName","project_status",1,"form-control"],["value","LL WIP"],["value","Fitout WIP"],["value","LLHO DONE"],["value","Project HO Complete"],["value","LAUNCHED"],["value","Preinwarding"],["for","property_area_sqft"],["type","number","id","property_area_sqft","formControlName","property_area_sqft","placeholder","Enter area in sqft",1,"form-control"],["for","actual_carpet_area_sqft"],["type","number","id","actual_carpet_area_sqft","formControlName","actual_carpet_area_sqft","placeholder","Enter carpet area in sqft",1,"form-control"],["for","ll_ho_date"],["type","date","id","ll_ho_date","formControlName","ll_ho_date",1,"form-control"],["for","launch_date"],["type","date","id","launch_date","formControlName","launch_date",1,"form-control"],["for","project_handover_date"],["type","date","id","project_handover_date","formControlName","project_handover_date",1,"form-control"],["for","loi_release_date"],["type","date","id","loi_release_date","formControlName","loi_release_date",1,"form-control"],["for","token_release_date"],["type","date","id","token_release_date","formControlName","token_release_date",1,"form-control"],["for","recee_date"],["type","date","id","recee_date","formControlName","recee_date",1,"form-control"],["for","recee_status"],["id","recee_status","formControlName","recee_status",1,"form-control"],["value","Completed"],["value","WIP"],["value","Not Started"],["value","NA"],["for","loi_signed_status"],["id","loi_signed_status","formControlName","loi_signed_status",1,"form-control"],["value","YES"],["value","No"],["for","layout"],["id","layout","formControlName","layout",1,"form-control"],["for","token_released"],["id","token_released","formControlName","token_released",1,"form-control"],["value","Yes"],["for","power_availability_kva"],["id","power_availability_kva","formControlName","power_availability_kva",1,"form-control"],["value","45 KVA Available"],["value","Power Connection Not available"],["value",">35 KVA Available"],["value","<25 KVA Available"],["value","<5 KVA Available"],[1,"dynamic-section"],[1,"dynamic-header"],["type","button",1,"btn-add",3,"click"],["formArrayName","assigned_users",1,"dynamic-items"],["class","dynamic-item",3,"formGroupName",4,"ngFor","ngForOf"],["for","document-upload"],["type","file","id","document-upload","accept",".pdf,.doc,.docx,.xls,.xlsx,.txt,.jpg,.jpeg,.png",1,"form-control",3,"change","disabled"],[1,"form-text","text-muted"],["class","upload-progress",4,"ngIf"],["class","pending-documents",4,"ngIf"],["class","uploaded-documents",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn-cancel",3,"click"],["type","submit",1,"btn-submit",3,"disabled"],[4,"ngIf"],["class","loading-spinner",4,"ngIf"],[1,"error-message"],[3,"value"],[1,"invalid-feedback"],[1,"dynamic-item",3,"formGroupName"],[1,"dynamic-item-content"],["formControlName","user_id",1,"form-control"],["type","hidden","formControlName","role","value","Normal User"],[1,"form-control","readonly"],["type","button",1,"btn-remove",3,"click"],[1,"upload-progress"],[1,"progress-bar"],[1,"progress-fill"],[1,"pending-documents"],[1,"document-list"],["class","document-item pending",4,"ngFor","ngForOf"],[1,"form-text","text-info"],[1,"document-item","pending"],[1,"document-info"],[1,"file-icon"],[1,"file-details"],[1,"file-name"],[1,"file-size"],["type","button","title","Remove file",1,"btn-remove",3,"click"],[1,"uploaded-documents"],["class","document-item uploaded",4,"ngFor","ngForOf"],[1,"document-item","uploaded"],[1,"file-date"],[1,"document-actions"],["type","button","title","Download",1,"btn-download",3,"click"],["type","button","class","btn-remove","title","Delete",3,"click",4,"ngIf"],["type","button","title","Delete",1,"btn-remove",3,"click"],[1,"loading-spinner"],[1,"spinner"],["for","edit_store_code"],["type","text","id","edit_store_code","formControlName","store_code","placeholder","Enter store code",1,"form-control"],["for","edit_store_name"],["type","text","id","edit_store_name","formControlName","store_name","placeholder","Enter store name",1,"form-control"],["for","edit_project_code"],["type","text","id","edit_project_code","formControlName","project_code","placeholder","Enter project code",1,"form-control"],["for","edit_criticality"],["id","edit_criticality","formControlName","criticality",1,"form-control"],["type","text","id","edit_zone","formControlName","zone","placeholder","Enter zone",1,"form-control"],["class","form-group",4,"ngIf"],["for","edit_site_lat_long"],["type","text","id","edit_site_lat_long","formControlName","site_lat_long","placeholder","Enter coordinates",1,"form-control"],["for","edit_address"],["id","edit_address","formControlName","address","placeholder","Enter full address","rows","3",1,"form-control"],["for","edit_store_type"],["id","edit_store_type","formControlName","store_type",1,"form-control"],["for","edit_site_type"],["id","edit_site_type","formControlName","site_type",1,"form-control"],["for","edit_project_status"],["id","edit_project_status","formControlName","project_status",1,"form-control"],["for","edit_property_area_sqft"],["type","number","id","edit_property_area_sqft","formControlName","property_area_sqft","placeholder","Enter area in sqft",1,"form-control"],["for","edit_ll_ho_date"],["type","date","id","edit_ll_ho_date","formControlName","ll_ho_date",1,"form-control"],["for","edit_launch_date"],["type","date","id","edit_launch_date","formControlName","launch_date",1,"form-control"],["for","edit_project_handover_date"],["type","date","id","edit_project_handover_date","formControlName","project_handover_date",1,"form-control"],["for","edit_loi_release_date"],["type","date","id","edit_loi_release_date","formControlName","loi_release_date",1,"form-control"],["for","edit_token_release_date"],["type","date","id","edit_token_release_date","formControlName","token_release_date",1,"form-control"],["for","edit_recee_date"],["type","date","id","edit_recee_date","formControlName","recee_date",1,"form-control"],["for","edit_recee_status"],["type","text","id","edit_recee_status","formControlName","recee_status","placeholder","Enter recee status",1,"form-control"],["for","edit_loi_signed_status"],["id","edit_loi_signed_status","formControlName","loi_signed_status",1,"form-control"],["for","edit_actual_carpet_area_sqft"],["type","number","id","edit_actual_carpet_area_sqft","formControlName","actual_carpet_area_sqft","placeholder","Enter carpet area in sqft",1,"form-control"],["for","edit_token_released"],["id","edit_token_released","formControlName","token_released",1,"form-control"],["for","edit_power_availability_kva"],["id","edit_power_availability_kva","formControlName","power_availability_kva",1,"form-control"],["for","edit_layout"],["id","edit_layout","formControlName","layout",1,"form-control"],["type","file","accept",".pdf,.doc,.docx,.xls,.xlsx,.txt,.jpg,.jpeg,.png",3,"change"],["class","document-list",4,"ngIf"],["for","editState"],["id","editState","formControlName","state",1,"form-control",3,"change"],["for","editCity"],["id","editCity","formControlName","city",1,"form-control",3,"disabled"],[3,"value","selected",4,"ngFor","ngForOf"],["class","text-muted",4,"ngIf"],[3,"value","selected"],[1,"text-muted"],[4,"ngFor","ngForOf"],["target","_blank",1,"document-link",3,"href"],["for","user_email"],["type","email","id","user_email","formControlName","email","placeholder","Enter user email",1,"form-control"],["for","user_password"],["type","password","id","user_password","formControlName","password",1,"form-control",3,"placeholder"],["for","user_role"],["id","user_role","formControlName","role",1,"form-control"],["value","Normal User"],["value","Admin"],["value","Super Admin"],["value","Editor"],["value","Associate"],["value","Ground Team"],[1,"projects-list-section"],[1,"search-filter-section"],[1,"search-container"],["type","text","placeholder","Search projects by store code, name, city...",1,"search-input",3,"ngModelChange","ngModel"],[1,"search-icon"],[1,"projects-table-section"],[1,"table-header"],[1,"table-actions"],["title","Clear All Filters",1,"btn-secondary",3,"click"],[1,"table-container"],[1,"data-table"],[1,"filter-row"],["type","text","placeholder","Filter Store Code","title","Filter by Store Code",1,"filter-input",3,"input","ngModelChange","ngModel"],["class","clear-filter-btn",3,"click",4,"ngIf"],["type","text","placeholder","Filter Store Name","title","Filter by Store Name",1,"filter-input",3,"input","ngModelChange","ngModel"],["type","text","placeholder","Filter Project Code","title","Filter by Project Code",1,"filter-input",3,"input","ngModelChange","ngModel"],["title","Filter by Zone",1,"filter-input",3,"change","ngModelChange","ngModel"],["type","text","placeholder","Filter City","title","Filter by City",1,"filter-input",3,"input","ngModelChange","ngModel"],["title","Filter by State",1,"filter-input",3,"change","ngModelChange","ngModel"],["type","text","placeholder","Filter Lat/Long","title","Filter by Coordinates",1,"filter-input",3,"input","ngModelChange","ngModel"],["title","Filter by Store Type",1,"filter-input",3,"change","ngModelChange","ngModel"],["title","Filter by Site Type",1,"filter-input",3,"change","ngModelChange","ngModel"],["title","Filter by Project Status",1,"filter-input",3,"change","ngModelChange","ngModel"],["type","date","title","Filter by LL HO Date",1,"filter-input",3,"change","ngModelChange","ngModel"],["type","date","title","Filter by Launch Date",1,"filter-input",3,"change","ngModelChange","ngModel"],["type","date","title","Filter by Handover Date",1,"filter-input",3,"change","ngModelChange","ngModel"],["title","Filter by Layout",1,"filter-input",3,"change","ngModelChange","ngModel"],["title","Filter by Token Released",1,"filter-input",3,"change","ngModelChange","ngModel"],["title","Filter by Criticality",1,"filter-input",3,"change","ngModelChange","ngModel"],["type","text","placeholder","Filter Address","title","Filter by Address",1,"filter-input",3,"input","ngModelChange","ngModel"],["type","text","placeholder","Filter Created By","title","Filter by Created By",1,"filter-input",3,"input","ngModelChange","ngModel"],["type","text","placeholder","Filter Recee Status","title","Filter by Recee Status",1,"filter-input",3,"input","ngModelChange","ngModel"],[1,"column-resizer",3,"mousedown"],["class","table-row",3,"dblclick",4,"ngFor","ngForOf"],[1,"clear-filter-btn",3,"click"],[1,"table-row",3,"dblclick"],["title","View Project Details",1,"btn-action","view",3,"click"],["class","btn-action edit","title","Edit Project",3,"click",4,"ngIf"],["class","btn-action delete","title","Delete Project",3,"click",4,"ngIf"],["title","Edit Project",1,"btn-action","edit",3,"click"],["title","Delete Project",1,"btn-action","delete",3,"click"],["colspan","22",1,"no-data"],[1,"view-project-section"],[1,"view-project-container"],[1,"view-project-header"],[1,"btn-back",3,"click"],["class","loading-state",4,"ngIf"],["class","view-project-content",4,"ngIf"],[1,"loading-state"],[1,"view-project-content"],[1,"project-details-panel"],[1,"details-card"],[1,"status-badge"],[1,"details-content"],[1,"detail-section"],[1,"detail-grid"],[1,"detail-item"],[1,"criticality-badge"],[1,"detail-item","full-width"],["class","detail-section",4,"ngIf"],[1,"attachments-card"],[1,"attachments-count"],["class","no-attachments-state",4,"ngIf"],["class","attachments-content",4,"ngIf"],[1,"users-progress-panel"],[1,"users-card"],[1,"users-count"],[1,"users-content"],["class","no-users-state",4,"ngIf"],["class","users-list",4,"ngIf"],[1,"project-summary-card"],[1,"summary-content"],[1,"summary-stats"],[1,"summary-item"],[1,"summary-icon"],[1,"summary-info"],[1,"summary-value"],[1,"summary-label"],[1,"documents-list"],["class","document-item",4,"ngFor","ngForOf"],[1,"document-item"],[1,"document-icon"],[1,"no-attachments-state"],[1,"empty-state"],[1,"empty-icon"],[1,"attachments-content"],["class","attachment-item",4,"ngFor","ngForOf"],[1,"attachment-item"],[1,"attachment-header"],[1,"attachment-info"],[1,"attachment-meta"],[1,"user-email"],[1,"upload-date"],["class","comment-text",4,"ngIf"],[1,"media-grid"],["class","media-item",4,"ngFor","ngForOf"],[1,"comment-text"],[1,"media-item"],[1,"media-thumbnail"],["class","image-preview",4,"ngIf"],["class","video-preview",4,"ngIf"],["class","file-preview",4,"ngIf"],[1,"media-details"],[1,"media-name"],[1,"media-info"],[1,"file-type"],[1,"image-preview"],[1,"preview-image",3,"click","src","alt"],[1,"media-overlay"],[1,"view-button",3,"click"],[1,"video-preview"],["preload","metadata",1,"preview-video"],[3,"src","type"],[1,"file-preview"],[1,"no-users-state"],[1,"users-list"],["class","user-item",4,"ngFor","ngForOf"],[1,"user-item"],[1,"user-header"],[1,"user-info"],[1,"user-avatar"],[1,"avatar-icon"],[1,"user-details"],[1,"user-roles"],[1,"role-badge","project-role"],[1,"role-badge","user-role"],[1,"user-progress-circle"],[1,"progress-circle"],[1,"progress-inner"],[1,"user-stats"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-value"],[1,"stat-label"],[1,"stat-value","completed"],[1,"stat-value","in-progress"],[1,"stat-value","todo"],["class","stat-item",4,"ngIf"],["class","user-tasks",4,"ngIf"],["class","no-tasks-state",4,"ngIf"],[1,"stat-value","on-hold"],[1,"user-tasks"],[1,"tasks-header"],[1,"tasks-list"],["class","task-item",4,"ngFor","ngForOf"],[1,"task-item"],[1,"task-content"],[1,"task-info"],[1,"task-meta"],[1,"task-status"],[1,"task-priority"],[1,"task-progress"],[1,"progress-text"],["class","task-dates",4,"ngIf"],[1,"task-dates"],[1,"no-tasks-state"],[1,"media-modal-overlay",3,"click"],[1,"media-modal-content",3,"click"],[1,"media-modal-header"],[1,"close-button",3,"click"],[1,"media-modal-body"],["class","modal-image-container",4,"ngIf"],["class","modal-video-container",4,"ngIf"],["class","modal-file-info",4,"ngIf"],[1,"media-modal-footer"],["target","_blank",1,"download-link",3,"href"],[1,"modal-image-container"],[1,"modal-image",3,"src","alt"],[1,"modal-video-container"],["controls","",1,"modal-video"],[1,"modal-file-info"],[1,"file-icon-large"],["target","_blank",1,"download-button",3,"href"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-body"],["class","project-details",4,"ngIf"],[1,"warning-text"],[1,"modal-actions"],["type","button",1,"btn-delete",3,"click"],[1,"project-details"],["class","user-details",4,"ngIf"],[1,"users-management-section"],[1,"users-list-container"],[1,"users-header"],[1,"users-table-container"],[1,"role-badge"],["class","actions-cell",4,"ngIf"],[1,"actions-cell"],["class","btn-action edit","title","Edit User",3,"click",4,"ngIf"],["class","btn-action delete","title","Delete User",3,"click",4,"ngIf"],["title","Edit User",1,"btn-action","edit",3,"click"],["title","Delete User",1,"btn-action","delete",3,"click"],["colspan","5",1,"no-data"],[1,"state-city-editor-overlay",3,"click"],[1,"state-city-editor-modal",3,"click"],[1,"editor-header"],[1,"fas","fa-database"],[1,"btn-close",3,"click"],[1,"editor-body"],["class","alert alert-error",4,"ngIf"],[1,"editor-toolbar"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"fas","fa-save"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],[1,"editor-table"],[3,"editing",4,"ngFor","ngForOf"],[1,"editor-footer"],[1,"btn","btn-outline",3,"click"],[1,"alert","alert-error"],["type","text","class","input-sm","placeholder","State",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","class","input-sm","placeholder","Code",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","class","input-sm","placeholder","District",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","class","input-sm","placeholder","Town",3,"ngModel","ngModelChange",4,"ngIf"],[1,"actions"],["class","btn-group",4,"ngIf"],["type","text","placeholder","State",1,"input-sm",3,"ngModelChange","ngModel"],["type","text","placeholder","Code",1,"input-sm",3,"ngModelChange","ngModel"],["type","text","placeholder","District",1,"input-sm",3,"ngModelChange","ngModel"],["type","text","placeholder","Town",1,"input-sm",3,"ngModelChange","ngModel"],[1,"btn-group"],["title","Save",1,"btn","btn-save",3,"click"],[1,"fas","fa-check"],["title","Cancel",1,"btn","btn-cancel",3,"click"],[1,"fas","fa-times"],["title","Edit",1,"btn","btn-edit",3,"click"],[1,"fas","fa-edit"],["title","Delete",1,"btn","btn-delete",3,"click"],[1,"fas","fa-trash"]],template:function(e,s){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),i(4,"Project Management System"),t(),n(5,"p"),i(6,"Manage projects and users with role-based access"),t()(),n(7,"div",3)(8,"button",4),x("click",function(){return s.toggleStateCityEditor()}),i(9," State City MS "),t(),n(10,"button",5),x("click",function(){return s.downloadProjectsAsCSV()}),i(11," \u{1F4E5} Download CSV "),t(),v(12,Lt,4,0,"button",6)(13,At,4,0,"button",7)(14,Rt,4,0,"button",7)(15,Ut,4,0,"button",7),t()(),v(16,zt,80,13,"div",8)(17,dn,268,31,"div",9)(18,On,212,18,"div",9)(19,Vn,45,15,"div",9)(20,di,199,45,"div",10)(21,Ii,11,3,"div",11)(22,Li,20,7,"div",12)(23,Ri,16,1,"div",13)(24,zi,16,1,"div",13)(25,Ki,22,4,"div",14)(26,mo,42,3,"div",15),t()),e&2&&(l(12),p("ngIf",s.canAdd()&&!s.showCreateForm&&!s.showEditForm&&!s.showUserForm&&!s.showViewProject),l(),p("ngIf",s.showCreateForm),l(),p("ngIf",s.showEditForm),l(),p("ngIf",s.showUserForm),l(),p("ngIf",s.projectStatusCounts&&!s.showCreateForm&&!s.showEditForm&&!s.showUserForm&&!s.showViewProject),l(),p("ngIf",s.showCreateForm),l(),p("ngIf",s.showEditForm),l(),p("ngIf",s.showUserForm),l(),p("ngIf",!s.showCreateForm&&!s.showEditForm&&!s.showUserForm&&!s.showViewProject),l(),p("ngIf",s.showViewProject&&s.viewProject),l(),p("ngIf",s.showMediaModal),l(),p("ngIf",s.showDeleteModal),l(),p("ngIf",s.showDeleteUserModal),l(),p("ngIf",s.showUserForm&&!s.selectedUser),l(),p("ngIf",s.showStateCityEditor))},dependencies:[et,tt,mt,vt,Ct,lt,_t,ht,dt,ct,ut,xt,ft,gt,pt,it,nt],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}.clickable[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .2s}.clickable[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;border-radius:4px;padding:4px}.filter-input[_ngcontent-%COMP%]{width:100%;padding:6px;font-size:12px;border:1px solid #ccc;border-radius:4px;margin-bottom:4px}.projects-container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;background-color:#f8fafc;min-height:100vh}.projects-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;padding:20px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:12px;color:#fff;box-shadow:0 4px 6px #0000001a}.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 5px;font-size:2rem;font-weight:700}.header-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.9;font-size:1rem}.header-right[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%], .btn-submit[_ngcontent-%COMP%], .btn-cancel[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%], .btn-add[_ngcontent-%COMP%], .btn-remove[_ngcontent-%COMP%], .btn-action[_ngcontent-%COMP%], .btn-back[_ngcontent-%COMP%]{padding:10px 16px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;display:inline-flex;align-items:center;gap:6px;transition:all .2s ease;text-decoration:none}.btn-primary[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#2563eb;transform:translateY(-1px)}.btn-secondary[_ngcontent-%COMP%]{background:#fff3;color:#fff;border:1px solid rgba(255,255,255,.3)}.btn-secondary[_ngcontent-%COMP%]:hover{background:#ffffff4d}.btn-back[_ngcontent-%COMP%]{background:#6b7280;color:#fff;margin-bottom:20px}.btn-back[_ngcontent-%COMP%]:hover{background:#4b5563}.btn-submit[_ngcontent-%COMP%]{background:#10b981;color:#fff;padding:12px 24px}.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:#059669}.btn-submit[_ngcontent-%COMP%]:disabled{background:#9ca3af;cursor:not-allowed}.btn-cancel[_ngcontent-%COMP%]{background:#6b7280;color:#fff;padding:12px 24px}.btn-cancel[_ngcontent-%COMP%]:hover{background:#4b5563}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff;padding:12px 24px}.btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626}.btn-add[_ngcontent-%COMP%]{background:#8b5cf6;color:#fff;padding:8px 12px;font-size:12px}.btn-add[_ngcontent-%COMP%]:hover{background:#7c3aed}.btn-remove[_ngcontent-%COMP%]{background:#f87171;color:#fff;padding:6px 8px;font-size:12px;min-width:auto}.btn-remove[_ngcontent-%COMP%]:hover{background:#ef4444}.btn-action[_ngcontent-%COMP%]{background:transparent;border:1px solid #d1d5db;padding:6px 8px;font-size:14px;min-width:auto}.btn-action.view[_ngcontent-%COMP%]{color:#059669;border-color:#059669}.btn-action.view[_ngcontent-%COMP%]:hover{background:#ecfdf5}.btn-action.edit[_ngcontent-%COMP%]{color:#3b82f6;border-color:#3b82f6}.btn-action.edit[_ngcontent-%COMP%]:hover{background:#eff6ff}.btn-action.delete[_ngcontent-%COMP%]{color:#ef4444;border-color:#ef4444}.btn-action.delete[_ngcontent-%COMP%]:hover{background:#fef2f2}.icon[_ngcontent-%COMP%]{font-size:14px}.status-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:30px}.status-card[_ngcontent-%COMP%]{background:#fff;display:flex;padding:10px;flex-direction:column;border-radius:12px;box-shadow:0 2px 4px #0000001a;border-left:4px solid #3b82f6}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;color:#374151}.count[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#3b82f6;margin:20px;display:flex}.site-type-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:12px;margin-top:12px}.site-type-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;background-color:#f9fafb;border-radius:8px;cursor:pointer;transition:all .2s ease;font-size:.9rem;min-width:120px}.site-type-header[_ngcontent-%COMP%]{font-weight:700;color:#374151;cursor:default!important}.site-type-header[_ngcontent-%COMP%]:hover{background-color:#e5e7eb!important;transform:none!important}.count.ll-wip[_ngcontent-%COMP%]{color:#f59e0b}.count.fitout-wip[_ngcontent-%COMP%]{color:#8b5cf6}.count.completed[_ngcontent-%COMP%]{color:#10b981}.create-project-section[_ngcontent-%COMP%]{margin-bottom:30px}.form-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a;overflow:hidden}.form-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:25px}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 5px;font-size:1.8rem;font-weight:600}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.9}.project-form[_ngcontent-%COMP%]{padding:25px}.form-section[_ngcontent-%COMP%]{margin-bottom:35px}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;font-size:1.3rem;color:#374151;padding-bottom:10px;border-bottom:2px solid #e5e7eb}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:6px;font-weight:500;color:#374151;font-size:14px}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.form-control[_ngcontent-%COMP%]{padding:12px;border:2px solid #e5e7eb;border-radius:6px;font-size:14px;transition:border-color .2s ease;background:#fff}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-control.error[_ngcontent-%COMP%]{border-color:#ef4444}.form-control.error[_ngcontent-%COMP%]:focus{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441a}select.form-control[_ngcontent-%COMP%]{cursor:pointer}textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.error-message[_ngcontent-%COMP%]{color:#ef4444;font-size:12px;margin-top:4px}.dynamic-section[_ngcontent-%COMP%]{border:2px dashed #d1d5db;border-radius:8px;padding:20px;background:#f9fafb}.dynamic-header[_ngcontent-%COMP%]{margin-bottom:15px}.dynamic-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.dynamic-item[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:8px;padding:15px}.dynamic-item-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr auto;gap:15px;align-items:end}.form-actions[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:flex-end;margin-top:30px;padding-top:20px;border-top:1px solid #e5e7eb}.loading-spinner[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid transparent;border-top:2px solid currentColor;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.search-filter-section[_ngcontent-%COMP%]{margin-bottom:25px}.search-container[_ngcontent-%COMP%]{position:relative;max-width:400px}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 40px 12px 12px;border:2px solid #e5e7eb;border-radius:8px;font-size:14px;transition:border-color .2s ease}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.search-icon[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);color:#6b7280;font-size:16px}.users-table-section[_ngcontent-%COMP%], .projects-table-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 4px #0000001a;margin-bottom:25px;overflow:hidden}.table-header[_ngcontent-%COMP%]{background:#f8fafc;padding:20px 25px;border-bottom:1px solid #e5e7eb}.table-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#374151;font-size:1.2rem}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:14px}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8fafc;padding:15px 20px;text-align:center;font-weight:600;color:#374151;border-bottom:2px solid #e5e7eb;white-space:nowrap}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:15px 20px;border-bottom:1px solid #f3f4f6;vertical-align:middle}.data-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f9fafb}.store-code[_ngcontent-%COMP%], .project-code[_ngcontent-%COMP%]{font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-weight:500}.store-name[_ngcontent-%COMP%]{font-weight:500;color:#374151}.actions-cell[_ngcontent-%COMP%]{text-align:center}.actions-cell[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{margin:0 2px}.no-data[_ngcontent-%COMP%]{text-align:center;color:#6b7280;font-style:italic;padding:40px 20px}.view-project-section[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000c;z-index:1000;display:flex;align-items:center;justify-content:center;padding:20px;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.view-project-container[_ngcontent-%COMP%]{background:#fff;width:95vw;height:90vh;border-radius:16px;box-shadow:0 25px 50px #0006;display:flex;flex-direction:column;overflow:hidden;animation:_ngcontent-%COMP%_slideInUp .3s ease-out}.view-project-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e40af,#3730a3);color:#fff;padding:25px 30px;display:flex;align-items:center;gap:20px;border-bottom:1px solid rgba(255,255,255,.1)}.view-project-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;font-weight:600;flex:1}.view-project-content[_ngcontent-%COMP%]{flex:1;display:grid;grid-template-columns:1fr 400px;overflow:hidden}.loading-state[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;background:#f8fafc}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{flex-direction:column;gap:15px;color:#6b7280;font-size:16px}.loading-state[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border-width:3px}.project-details-panel[_ngcontent-%COMP%]{background:#f8fafc;overflow-y:auto;padding:30px}.details-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000000d;overflow:hidden}.details-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e0e7ff,#c7d2fe);padding:20px 25px;border-bottom:1px solid #e5e7eb}.details-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1e40af;font-size:1.4rem;margin:0}.details-content[_ngcontent-%COMP%]{padding:25px}.detail-section[_ngcontent-%COMP%]{margin-bottom:35px}.detail-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.detail-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#374151;font-size:1.2rem;font-weight:600;margin:0 0 15px;padding-bottom:8px;border-bottom:2px solid #e5e7eb}.detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}.detail-item[_ngcontent-%COMP%]{background:#f9fafb;padding:15px;border-radius:8px;border-left:3px solid #3b82f6}.detail-item.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.detail-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#4b5563;font-size:12px;text-transform:uppercase;letter-spacing:.5px;margin-bottom:5px}.detail-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#1f2937;font-size:14px;font-weight:500}.criticality-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:20px;font-size:12px;font-weight:600;text-transform:uppercase}.criticality-badge.criticality-pg0[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.criticality-badge.criticality-pg1[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.criticality-badge.criticality-pg2[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.criticality-badge.criticality-none[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.documents-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.document-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;background:#fff;border:1px solid #e5e7eb;border-radius:8px}.document-icon[_ngcontent-%COMP%]{font-size:20px}.document-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;font-weight:500}.document-item[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#6b7280;font-size:12px}.users-progress-panel[_ngcontent-%COMP%]{background:#fff;border-left:1px solid #e5e7eb;overflow-y:auto;display:flex;flex-direction:column}.users-card[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.users-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f0fdf4,#dcfce7);padding:20px 25px;border-bottom:1px solid #e5e7eb}.users-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#166534;font-size:1.3rem;margin:0}.users-count[_ngcontent-%COMP%]{background:#22c55e;color:#fff;padding:4px 12px;border-radius:20px;font-size:12px;font-weight:600}.users-content[_ngcontent-%COMP%]{flex:1;padding:25px;overflow-y:auto}.no-users-state[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;text-align:center}.empty-state[_ngcontent-%COMP%]{color:#6b7280}.empty-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:15px;display:block}.empty-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;color:#374151}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.users-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.user-item[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e5e7eb;border-radius:12px;padding:20px;transition:all .2s ease}.user-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0000001a;transform:translateY(-1px)}.user-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:15px}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;background:linear-gradient(135deg,#3b82f6,#1d4ed8);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:16px}.user-details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 5px;color:#1f2937;font-size:14px;font-weight:600}.user-roles[_ngcontent-%COMP%]{display:flex;gap:6px}.role-badge.project-role[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.role-badge.user-role[_ngcontent-%COMP%]{background:#f3e8ff;color:#7c3aed}.user-progress-circle[_ngcontent-%COMP%]{position:relative}.progress-circle[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;display:flex;align-items:center;justify-content:center;position:relative}.progress-inner[_ngcontent-%COMP%]{width:46px;height:46px;background:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:600;color:#374151}.user-stats[_ngcontent-%COMP%]{margin-bottom:15px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(80px,1fr));gap:12px}.stat-item[_ngcontent-%COMP%]{text-align:center;padding:10px;background:#fff;border-radius:8px;border:1px solid #e5e7eb}.stat-value[_ngcontent-%COMP%]{display:block;font-size:18px;font-weight:700;margin-bottom:3px}.stat-value.completed[_ngcontent-%COMP%]{color:#059669}.stat-value.in-progress[_ngcontent-%COMP%]{color:#d97706}.stat-value.todo[_ngcontent-%COMP%]{color:#3b82f6}.stat-value.on-hold[_ngcontent-%COMP%]{color:#dc2626}.stat-label[_ngcontent-%COMP%]{font-size:11px;color:#6b7280;text-transform:uppercase;letter-spacing:.5px}.user-tasks[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb;padding-top:15px}.tasks-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0 0 10px;color:#374151;font-size:13px;font-weight:600}.tasks-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;max-height:200px;overflow-y:auto}.task-item[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:8px;padding:12px}.task-content[_ngcontent-%COMP%]{margin-bottom:8px}.task-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0 0 4px;font-size:13px;color:#1f2937;font-weight:500}.task-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:11px;color:#6b7280;line-height:1.4}.task-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.task-status[_ngcontent-%COMP%], .task-priority[_ngcontent-%COMP%]{padding:2px 6px;border-radius:4px;font-size:10px;font-weight:500;text-transform:uppercase}.task-status.status-completed[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.task-status.status-in-progress[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.task-status.status-to-do[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.task-status.status-on-hold[_ngcontent-%COMP%], .task-priority.priority-high[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.task-priority.priority-medium[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.task-priority.priority-low[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.task-progress[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;flex:1}.progress-bar[_ngcontent-%COMP%]{flex:1;height:6px;background:#e5e7eb;border-radius:3px;overflow:hidden}.progress-fill[_ngcontent-%COMP%]{height:100%;background:#3b82f6;transition:width .3s ease}.progress-text[_ngcontent-%COMP%]{font-size:10px;color:#6b7280;font-weight:500;min-width:30px;text-align:right}.task-dates[_ngcontent-%COMP%]{margin-top:6px;padding-top:6px;border-top:1px solid #f3f4f6}.task-dates[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#6b7280;font-size:10px}.no-tasks-state[_ngcontent-%COMP%]{text-align:center;padding:15px;color:#9ca3af;font-style:italic}.project-summary-card[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb;background:#f8fafc}.project-summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);padding:15px 25px}.project-summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#92400e;font-size:1.1rem;margin:0}.summary-content[_ngcontent-%COMP%]{padding:20px 25px}.summary-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:15px}.summary-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:15px;background:#fff;border-radius:8px;border:1px solid #e5e7eb}.summary-icon[_ngcontent-%COMP%]{font-size:24px}.summary-info[_ngcontent-%COMP%]{flex:1}.summary-value[_ngcontent-%COMP%]{display:block;font-size:20px;font-weight:700;color:#1f2937;margin-bottom:2px}.summary-label[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;text-transform:uppercase;letter-spacing:.5px}.status-badge[_ngcontent-%COMP%], .role-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:4px;font-size:12px;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.status-badge.ll-wip[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.status-badge.fitout-wip[_ngcontent-%COMP%]{background:#ede9fe;color:#7c3aed}.status-badge.completed[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.role-badge.admin[_ngcontent-%COMP%], .role-badge.super-admin[_ngcontent-%COMP%]{background:#fecaca;color:#991b1b}.role-badge.editor[_ngcontent-%COMP%]{background:#bfdbfe;color:#1e40af}.role-badge.normal-user[_ngcontent-%COMP%]{background:#e5e7eb;color:#374151}.role-badge.associate[_ngcontent-%COMP%], .role-badge.ground-team[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 25px #0000004d;max-width:500px;width:100%;max-height:90vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{padding:20px 25px;border-bottom:1px solid #e5e7eb}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#374151;font-size:1.3rem}.modal-body[_ngcontent-%COMP%]{padding:25px}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 15px;color:#6b7280;line-height:1.5}.project-details[_ngcontent-%COMP%], .user-details[_ngcontent-%COMP%]{background:#f3f4f6;padding:12px 15px;border-radius:6px;border-left:4px solid #3b82f6}.warning-text[_ngcontent-%COMP%]{color:#ef4444;font-weight:500;margin-top:15px}.modal-actions[_ngcontent-%COMP%]{padding:20px 25px;border-top:1px solid #e5e7eb;display:flex;gap:12px;justify-content:flex-end}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 1200px){.view-project-content[_ngcontent-%COMP%]{grid-template-columns:1fr 350px}}@media (max-width: 1024px){.view-project-container[_ngcontent-%COMP%]{width:98vw;height:95vh}.view-project-content[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-template-rows:1fr auto}.users-progress-panel[_ngcontent-%COMP%]{border-left:none;border-top:1px solid #e5e7eb;max-height:40vh}.project-details-panel[_ngcontent-%COMP%]{padding:20px}.detail-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.summary-stats[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (max-width: 768px){.projects-container[_ngcontent-%COMP%]{padding:15px}.projects-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:15px}.header-right[_ngcontent-%COMP%]{width:100%;justify-content:flex-start;flex-wrap:wrap}.status-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:30px;width:100%}.site-type-card[_ngcontent-%COMP%]{grid-column:1 / -1}.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.dynamic-item-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:10px}.form-actions[_ngcontent-%COMP%]{flex-direction:column-reverse}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.table-container[_ngcontent-%COMP%]{font-size:12px}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 8px;text-align:center}.modal-overlay[_ngcontent-%COMP%]{padding:10px}.modal-actions[_ngcontent-%COMP%]{flex-direction:column-reverse}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.view-project-section[_ngcontent-%COMP%]{padding:10px}.view-project-container[_ngcontent-%COMP%]{width:100vw;height:100vh;border-radius:0}.view-project-header[_ngcontent-%COMP%]{padding:15px 20px;flex-direction:column;align-items:flex-start;gap:10px}.view-project-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4rem}.project-details-panel[_ngcontent-%COMP%], .users-content[_ngcontent-%COMP%]{padding:15px}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.summary-stats[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 480px){.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4rem}.data-table[_ngcontent-%COMP%]{font-size:11px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:8px 12px;font-size:12px}.view-project-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem}.detail-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.users-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem}.user-item[_ngcontent-%COMP%]{padding:15px}.progress-circle[_ngcontent-%COMP%]{width:50px;height:50px}.progress-inner[_ngcontent-%COMP%]{width:38px;height:38px;font-size:10px}}@media print{.projects-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%], .form-actions[_ngcontent-%COMP%], .btn-action[_ngcontent-%COMP%], .search-filter-section[_ngcontent-%COMP%], .view-project-section[_ngcontent-%COMP%]{display:none}.projects-container[_ngcontent-%COMP%]{padding:0;background:#fff}.form-card[_ngcontent-%COMP%], .projects-table-section[_ngcontent-%COMP%], .users-table-section[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #e5e7eb}}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar, .project-details-panel[_ngcontent-%COMP%]::-webkit-scrollbar, .users-content[_ngcontent-%COMP%]::-webkit-scrollbar, .tasks-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-track, .project-details-panel[_ngcontent-%COMP%]::-webkit-scrollbar-track, .users-content[_ngcontent-%COMP%]::-webkit-scrollbar-track, .tasks-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:4px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .project-details-panel[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .users-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .tasks-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:4px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover, .project-details-panel[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover, .users-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover, .tasks-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}button[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:2px solid #3b82f6;outline-offset:2px}.modal-overlay[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.modal-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .2s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@media (prefers-contrast: high){.form-control[_ngcontent-%COMP%]{border-width:3px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%], .btn-submit[_ngcontent-%COMP%]{border:2px solid currentColor}.view-project-container[_ngcontent-%COMP%]{border:3px solid #000}}@media (prefers-color-scheme: dark){.view-project-container[_ngcontent-%COMP%]{background:#1f2937;color:#f9fafb}.project-details-panel[_ngcontent-%COMP%]{background:#111827}.details-card[_ngcontent-%COMP%]{background:#1f2937;border:1px solid #374151}.users-progress-panel[_ngcontent-%COMP%]{background:#1f2937;border-left-color:#374151}}.table-row[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .2s ease}.table-row[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.dropdown-menu[_ngcontent-%COMP%]{position:fixed;z-index:1000;background:#fff;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 12px #00000026;min-width:200px;overflow:hidden}.dropdown-header[_ngcontent-%COMP%]{padding:12px 16px;background:#f8f9fa;border-bottom:1px solid #eee}.dropdown-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:#333;display:block}.dropdown-header[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#666;font-size:.875rem}.dropdown-items[_ngcontent-%COMP%]{padding:8px 0}.dropdown-item[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:none;background:none;text-align:left;cursor:pointer;display:flex;align-items:center;gap:12px;font-size:.875rem;color:#333;transition:background-color .2s ease}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.dropdown-item.delete-item[_ngcontent-%COMP%]:hover{background-color:#fee;color:#dc3545}.dropdown-icon[_ngcontent-%COMP%]{font-size:1rem;width:20px;text-align:center}.attachments-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;margin-top:24px;overflow:hidden}.attachments-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid #e5e7eb;background:#f8fafc}.attachments-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1f2937;margin:0}.attachments-count[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;padding:4px 12px;border-radius:16px;font-size:12px;font-weight:500}.no-attachments-state[_ngcontent-%COMP%]{padding:60px 24px;text-align:center}.no-attachments-state[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{max-width:300px;margin:0 auto}.no-attachments-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px;opacity:.5}.no-attachments-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#374151;margin:0 0 8px}.no-attachments-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:0;line-height:1.5}.attachments-content[_ngcontent-%COMP%]{padding:24px;max-height:600px;overflow-y:auto}.attachment-item[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:20px;margin-bottom:20px;background:#fafafa;transition:all .2s ease}.attachment-item[_ngcontent-%COMP%]:hover{border-color:#d1d5db;box-shadow:0 2px 4px #0000000d}.attachment-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.attachment-header[_ngcontent-%COMP%]{margin-bottom:16px}.attachment-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1f2937;margin:0 0 8px}.attachment-meta[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:8px;font-size:14px}.user-email[_ngcontent-%COMP%]{color:#3b82f6;font-weight:500}.upload-date[_ngcontent-%COMP%]{color:#6b7280}.comment-text[_ngcontent-%COMP%]{color:#4b5563;font-size:14px;line-height:1.5;margin:0;padding:12px;background:#f3f4f6;border-radius:8px;border-left:3px solid #3b82f6}.media-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px}.media-item[_ngcontent-%COMP%]{background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 1px 3px #0000001a;transition:transform .2s ease,box-shadow .2s ease}.media-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.media-thumbnail[_ngcontent-%COMP%]{position:relative;aspect-ratio:16/9;overflow:hidden;background:#f3f4f6}.preview-image[_ngcontent-%COMP%], .preview-video[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;cursor:pointer}.file-preview[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;background:#f8fafc}.file-icon[_ngcontent-%COMP%]{font-size:32px;opacity:.7}.media-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .2s ease}.media-thumbnail[_ngcontent-%COMP%]:hover   .media-overlay[_ngcontent-%COMP%]{opacity:1}.view-button[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border:none;padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;display:flex;align-items:center;gap:6px;transition:background-color .2s ease}.view-button[_ngcontent-%COMP%]:hover{background:#2563eb}.view-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:16px}.media-details[_ngcontent-%COMP%]{padding:12px}.media-name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#1f2937;margin-bottom:4px;word-break:break-word}.media-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:12px;color:#6b7280}.file-type[_ngcontent-%COMP%]{background:#e5e7eb;padding:2px 6px;border-radius:4px;font-weight:500}.media-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000e6;display:flex;align-items:center;justify-content:center;z-index:10000;padding:20px}.media-modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;max-width:90vw;max-height:90vh;display:flex;flex-direction:column;overflow:hidden;box-shadow:0 20px 25px -5px #0000001a}.media-modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid #e5e7eb}.media-modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1f2937;margin:0;word-break:break-word}.close-button[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#6b7280;padding:4px;border-radius:4px;transition:color .2s ease,background-color .2s ease}.close-button[_ngcontent-%COMP%]:hover{color:#374151;background:#f3f4f6}.media-modal-body[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;padding:24px;min-height:300px}.modal-image-container[_ngcontent-%COMP%]{max-width:100%;max-height:60vh;display:flex;align-items:center;justify-content:center}.modal-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;border-radius:8px}.modal-video-container[_ngcontent-%COMP%]{max-width:100%;max-height:60vh}.modal-video[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:8px}.modal-file-info[_ngcontent-%COMP%]{text-align:center;padding:40px}.file-icon-large[_ngcontent-%COMP%]{font-size:64px;margin-bottom:20px;opacity:.7}.modal-file-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#1f2937;margin:0 0 16px;word-break:break-word}.modal-file-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:8px 0}.download-button[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;text-decoration:none;padding:12px 24px;border-radius:8px;font-weight:500;display:inline-block;margin-top:20px;transition:background-color .2s ease}.download-button[_ngcontent-%COMP%]:hover{background:#2563eb}.media-modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-top:1px solid #e5e7eb;background:#f8fafc}.media-info[_ngcontent-%COMP%]{display:flex;gap:20px;font-size:14px;color:#6b7280}.download-link[_ngcontent-%COMP%]{background:#10b981;color:#fff;text-decoration:none;padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;transition:background-color .2s ease}.download-link[_ngcontent-%COMP%]:hover{background:#059669}.summary-item[_ngcontent-%COMP%]   .summary-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#f3f4f6;display:flex;align-items:center;justify-content:center;font-size:18px;margin-right:12px}@media (max-width: 768px){.media-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:12px}.attachment-item[_ngcontent-%COMP%]{padding:16px}.attachment-meta[_ngcontent-%COMP%]{flex-direction:column;gap:4px}.media-modal-content[_ngcontent-%COMP%]{max-width:95vw;max-height:95vh}.media-modal-header[_ngcontent-%COMP%], .media-modal-footer[_ngcontent-%COMP%], .media-modal-body[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.media-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.attachments-content[_ngcontent-%COMP%]{padding:16px}.attachment-item[_ngcontent-%COMP%]{padding:12px}.media-modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}.upload-progress[_ngcontent-%COMP%]{margin:10px 0;display:flex;align-items:center;gap:10px}.progress-bar[_ngcontent-%COMP%]{flex:1;height:4px;background-color:#e0e0e0;border-radius:2px;overflow:hidden}.progress-fill[_ngcontent-%COMP%]{height:100%;background-color:#4caf50;animation:_ngcontent-%COMP%_progress 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_progress{0%{width:0%}50%{width:70%}to{width:100%}}.document-list[_ngcontent-%COMP%]{margin-top:10px}.document-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px;border:1px solid #ddd;border-radius:6px;margin-bottom:8px;background-color:#f9f9f9}.document-item.pending[_ngcontent-%COMP%]{border-color:#ffc107;background-color:#fff3cd}.document-item.uploaded[_ngcontent-%COMP%]{border-color:#28a745;background-color:#d4edda}.document-info[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1;gap:10px}.file-icon[_ngcontent-%COMP%]{font-size:24px}.file-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.file-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.file-size[_ngcontent-%COMP%], .file-date[_ngcontent-%COMP%]{font-size:12px;color:#666}.document-actions[_ngcontent-%COMP%]{display:flex;gap:5px}.btn-download[_ngcontent-%COMP%], .btn-remove[_ngcontent-%COMP%]{background:none;border:none;padding:5px 8px;cursor:pointer;border-radius:4px;font-size:16px}.btn-download[_ngcontent-%COMP%]{color:#007bff}.btn-download[_ngcontent-%COMP%]:hover{background-color:#e3f2fd}.btn-remove[_ngcontent-%COMP%]{color:#dc3545}.btn-remove[_ngcontent-%COMP%]:hover{background-color:#f8d7da}.pending-documents[_ngcontent-%COMP%], .uploaded-documents[_ngcontent-%COMP%]{margin-top:15px}.form-text.text-info[_ngcontent-%COMP%]{color:#17a2b8!important}.filter-row[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:2px solid #dee2e6}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}.filter-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:relative;padding:8px 4px;vertical-align:top}.filter-input[_ngcontent-%COMP%]{width:100%;min-width:100px;padding:4px 20px 4px 6px;border:1px solid #ced4da;border-radius:4px;font-size:12px;background-color:#fff}.filter-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#80bdff;box-shadow:0 0 0 .2rem #007bff40}.clear-filter-btn[_ngcontent-%COMP%]{position:absolute;right:6px;top:50%;transform:translateY(-50%);background:#dc3545;color:#fff;border:none;border-radius:50%;width:16px;height:16px;font-size:10px;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:1}.clear-filter-btn[_ngcontent-%COMP%]:hover{background:#c82333}.table-actions[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.btn-secondary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;padding:6px 12px;background-color:#6c757d;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:12px}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}.table-container[_ngcontent-%COMP%]{overflow-x:auto;max-width:100%}.data-table[_ngcontent-%COMP%]{min-width:1500px}.filter-active[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]{background-color:#e7f3ff;border-color:#007bff}.projects-table-section[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 20px #00000014;margin-bottom:32px;overflow:hidden;border:1px solid #e2e8f0;height:80vh;display:flex;flex-direction:column}.table-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:24px 32px;display:flex;justify-content:space-between;align-items:center;border-bottom:none}.table-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#fff}.table-actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.table-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#ffffff26;color:#fff;border:1px solid rgba(255,255,255,.3);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s ease}.table-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#ffffff40;border-color:#ffffff80;transform:translateY(-2px)}.table-container[_ngcontent-%COMP%]{overflow:auto;max-height:70vh;background:#fff;flex:1;position:relative}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0;font-size:14px;min-width:1800px;background:#fff}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:linear-gradient(180deg,#f8fafc,#f1f5f9);padding:16px 12px;text-align:center;font-weight:600;color:#334155;border-bottom:2px solid #e2e8f0;border-right:1px solid #e2e8f0;white-space:nowrap;position:sticky;top:0;z-index:10;font-size:13px;text-transform:uppercase;letter-spacing:.5px;transition:background-color .2s ease;position:relative;min-width:120px;max-width:300px;-webkit-user-select:none;user-select:none}.data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0;z-index:100;background:#fff}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:hover{background:linear-gradient(180deg,#e2e8f0,#cbd5e1)}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-left:none;border-top-left-radius:0}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-right:none;border-top-right-radius:0}.column-resizer[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:5px;height:100%;cursor:col-resize;background:transparent;z-index:10}.column-resizer[_ngcontent-%COMP%]:hover{background:#3b82f6;opacity:.5}.column-resizing[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:col-resize}.filter-row[_ngcontent-%COMP%]{background:linear-gradient(180deg,#f1f5f9,#e2e8f0);border-bottom:3px solid #cbd5e1;position:sticky;top:0;z-index:11}.filter-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 8px;background:transparent;border-bottom:1px solid #cbd5e1;position:relative;vertical-align:middle}.filter-input[_ngcontent-%COMP%]{width:100%;min-width:120px;padding:8px 28px 8px 12px;border:2px solid #e2e8f0;border-radius:8px;font-size:12px;background:#fff;transition:all .3s ease;font-weight:500}.filter-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a;background:#fafbff}.filter-input[_ngcontent-%COMP%]:hover{border-color:#cbd5e1}.filter-active[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dbeafe,#e0e7ff);border-color:#3b82f6;color:#1e40af;font-weight:600}.clear-filter-btn[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;border:none;border-radius:50%;width:20px;height:20px;font-size:11px;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:2;transition:all .2s ease;box-shadow:0 2px 4px #ef44444d}.clear-filter-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#dc2626,#b91c1c);transform:translateY(-50%) scale(1.1);box-shadow:0 4px 8px #ef444466}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .3s ease;border-bottom:1px solid #f1f5f9;cursor:pointer;position:relative}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f8fafc,#f1f5f9);transform:translateY(-1px);box-shadow:0 4px 12px #0000000d}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:active{transform:translateY(0);background:linear-gradient(135deg,#e2e8f0,#cbd5e1)}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px 12px;border-right:1px solid #f1f5f9;text-align:center;vertical-align:middle;font-size:13px;color:#475569;position:relative;background:#fff;transition:all .2s ease}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:none;font-weight:600;color:#1e293b}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none}.store-code[_ngcontent-%COMP%], .project-code[_ngcontent-%COMP%]{font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-weight:600;color:#3b82f6;background:linear-gradient(135deg,#dbeafe,#e0e7ff);padding:4px 8px;border-radius:6px;font-size:12px;display:inline-block;min-width:80px;text-align:center}.store-name[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;border-radius:20px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;border:2px solid transparent;transition:all .2s ease;min-width:80px;text-align:center}.status-badge.ll-wip[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);color:#92400e;border-color:#f59e0b}.status-badge.fitout-wip[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ede9fe,#ddd6fe);color:#6b21a8;border-color:#8b5cf6}.status-badge.completed[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d1fae5,#a7f3d0);color:#047857;border-color:#10b981}.status-badge.launched[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dcfce7,#bbf7d0);color:#166534;border-color:#22c55e}.actions-cell[_ngcontent-%COMP%]{text-align:center;padding:12px 8px!important;min-width:120px}.btn-action[_ngcontent-%COMP%]{background:#fff;border:2px solid #e2e8f0;padding:8px 10px;font-size:16px;min-width:36px;height:36px;border-radius:8px;cursor:pointer;transition:all .3s ease;margin:0 2px;display:inline-flex;align-items:center;justify-content:center;position:relative;overflow:hidden}.btn-action[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.btn-action[_ngcontent-%COMP%]:hover:before{left:100%}.btn-action.view[_ngcontent-%COMP%]{color:#059669;border-color:#059669;background:linear-gradient(135deg,#ecfdf5,#d1fae5)}.btn-action.view[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#059669,#047857);color:#fff;transform:translateY(-2px);box-shadow:0 8px 20px #0596694d}.btn-action.edit[_ngcontent-%COMP%]{color:#3b82f6;border-color:#3b82f6;background:linear-gradient(135deg,#eff6ff,#dbeafe)}.btn-action.edit[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;transform:translateY(-2px);box-shadow:0 8px 20px #3b82f64d}.btn-action.delete[_ngcontent-%COMP%]{color:#ef4444;border-color:#ef4444;background:linear-gradient(135deg,#fef2f2,#fee2e2)}.btn-action.delete[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;transform:translateY(-2px);box-shadow:0 8px 20px #ef44444d}.no-data[_ngcontent-%COMP%]{text-align:center;color:#64748b;font-style:italic;padding:60px 20px;background:linear-gradient(135deg,#f8fafc,#f1f5f9);font-size:16px;font-weight:500}.table-row[_ngcontent-%COMP%]:active{background:linear-gradient(135deg,#3b82f6,#2563eb)!important;color:#fff}.table-row[_ngcontent-%COMP%]:active   td[_ngcontent-%COMP%]{color:#fff;background:transparent}.table-row[_ngcontent-%COMP%]:active   .store-code[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]:active   .project-code[_ngcontent-%COMP%]{background:#fff3;color:#fff}.table-dropdown-menu[_ngcontent-%COMP%]{position:fixed;z-index:2000;background:#fff;border:none;border-radius:12px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;min-width:220px;overflow:hidden;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}.table-dropdown-header[_ngcontent-%COMP%]{padding:16px 20px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-bottom:none}.table-dropdown-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:16px;display:block;margin-bottom:4px}.table-dropdown-header[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#fffc;font-size:13px}.table-dropdown-items[_ngcontent-%COMP%]{padding:8px 0;background:#fff}.table-dropdown-item[_ngcontent-%COMP%]{width:100%;padding:14px 20px;border:none;background:none;text-align:left;cursor:pointer;display:flex;align-items:center;gap:12px;font-size:14px;color:#374151;transition:all .2s ease;font-weight:500}.table-dropdown-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f8fafc,#f1f5f9);padding-left:24px}.table-dropdown-item.delete-item[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#fef2f2,#fee2e2);color:#dc2626}.table-dropdown-icon[_ngcontent-%COMP%]{font-size:18px;width:24px;text-align:center}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;height:12px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:6px;border:1px solid #e2e8f0}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#cbd5e1,#94a3b8);border-radius:6px;border:2px solid #f1f5f9;transition:all .2s ease}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(135deg,#94a3b8,#64748b)}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background:#f1f5f9}@media (max-width: 1400px){.data-table[_ngcontent-%COMP%]{min-width:1600px}.filter-input[_ngcontent-%COMP%]{min-width:100px}}@media (max-width: 1200px){.data-table[_ngcontent-%COMP%]{min-width:1400px}.table-container[_ngcontent-%COMP%]{max-height:60vh}}@media (max-width: 768px){.projects-table-section[_ngcontent-%COMP%]{border-radius:12px;margin:16px}.table-header[_ngcontent-%COMP%]{padding:20px;flex-direction:column;gap:16px;align-items:flex-start}.table-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}.table-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.data-table[_ngcontent-%COMP%]{min-width:1200px;font-size:12px}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 8px}.filter-input[_ngcontent-%COMP%]{padding:6px 24px 6px 8px;font-size:11px;min-width:80px}.btn-action[_ngcontent-%COMP%]{padding:6px 8px;font-size:14px;min-width:32px;height:32px}}.table-loading[_ngcontent-%COMP%]{position:relative;overflow:hidden}.table-loading[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(59,130,246,.1),transparent);animation:_ngcontent-%COMP%_tableShimmer 2s infinite}@keyframes _ngcontent-%COMP%_tableShimmer{0%{left:-100%}to{left:100%}}.cell-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.cell-icon[_ngcontent-%COMP%]{font-size:14px;opacity:.7}.cell-text[_ngcontent-%COMP%]{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.date-cell[_ngcontent-%COMP%]{font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:12px;color:#64748b;background:#f8fafc;padding:4px 8px;border-radius:4px;display:inline-block}.criticality-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;border-radius:12px;font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:1px;border:2px solid transparent}.criticality-badge.criticality-p0[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fee2e2,#fecaca);color:#991b1b;border-color:#ef4444}.criticality-badge.criticality-p1[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);color:#92400e;border-color:#f59e0b}.criticality-badge.criticality-p2[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d1fae5,#a7f3d0);color:#065f46;border-color:#10b981}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dbeafe,#bfdbfe);border-left:4px solid #3b82f6}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#1e40af;font-weight:500}.btn-state-city-manager[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:8px 16px;font-size:14px;border-radius:6px;cursor:pointer;display:flex;align-items:center;gap:6px;transition:background .3s}.btn-state-city-manager[_ngcontent-%COMP%]:hover{background-color:#0056b3}.state-city-editor-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;font-family:Segoe UI,Arial,sans-serif}.state-city-editor-modal[_ngcontent-%COMP%]{width:90%;max-width:1200px;max-height:90vh;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 10px 30px #0000004d;display:flex;flex-direction:column}.editor-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;background:#6441a5;background:-webkit-linear-gradient(to right,#2a0845,#6441A5);background:linear-gradient(to right,#2a0845,#6441a5);color:#fff;font-size:18px}.editor-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;gap:8px}.btn-close[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:28px;cursor:pointer;width:36px;height:36px;display:flex;align-items:center;justify-content:center}.editor-body[_ngcontent-%COMP%]{padding:20px;background:#f9f9f9;flex:1;display:flex;flex-direction:column;gap:16px}.alert-error[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;padding:12px;border-radius:6px;font-size:14px;border:1px solid #f5c6cb}.editor-toolbar[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.editor-toolbar[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.table-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;border:1px solid #ddd;border-radius:8px;background:#fff}.editor-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:14px;min-width:800px}.editor-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#6441a5;background:-webkit-linear-gradient(to right,#2a0845,#6441A5);background:linear-gradient(to right,#2a0845,#6441a5);color:#fff;text-align:left;padding:12px 10px;position:sticky;top:0;z-index:1}.editor-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #eee}.editor-table[_ngcontent-%COMP%]   tr.editing[_ngcontent-%COMP%]{background-color:#fff3cd!important}.editor-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:6px 8px;border:1px solid #ccc;border-radius:4px;font-size:13px}.editor-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:6px;min-width:100px}.btn-group[_ngcontent-%COMP%]{display:flex;gap:6px}.btn[_ngcontent-%COMP%]{border:none;padding:6px 10px;border-radius:4px;cursor:pointer;font-size:12px;display:flex;align-items:center;justify-content:center}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.btn-save[_ngcontent-%COMP%]{background:#28a745;color:#fff}.btn-cancel[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-edit[_ngcontent-%COMP%]{background:#007bff;color:#fff}.btn-delete[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn[_ngcontent-%COMP%]:hover{opacity:.9}.input-sm[_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:13px;font-family:inherit;background-color:#fff;color:#333;transition:border-color .2s,box-shadow .2s}.input-sm[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 2px #667eea33}.input-sm[_ngcontent-%COMP%]::placeholder{color:#999}.editor-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;background:#f1f1f1;font-size:13px;color:#555;border-top:1px solid #ddd}.editor-footer[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]{background:#fff;color:#007bff;border:1px solid #007bff;padding:8px 16px;border-radius:6px;cursor:pointer}.editor-footer[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]:hover{background:#e7f3ff}']})};var _o=[{path:"",component:Fe}],jt=class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=Ye({type:a});static \u0275inj=$e({imports:[ot,yt,Pt,at.forChild(_o)]})};export{jt as ProjectsModule};
